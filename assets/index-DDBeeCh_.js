(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function ph(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $r={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function hv(){if(Nm)return io;Nm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(a,u,d){var p=null;if(d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),"key"in u){d={};for(var h in u)h!=="key"&&(d[h]=u[h])}else d=u;return u=d.ref,{$$typeof:i,type:a,key:p,ref:u!==void 0?u:null,props:d}}return io.Fragment=n,io.jsx=o,io.jsxs=o,io}var bm;function gv(){return bm||(bm=1,$r.exports=hv()),$r.exports}var y=gv(),Wr={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function yv(){if(Mm)return he;Mm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,F={};function K(b,V,Z){this.props=b,this.context=V,this.refs=F,this.updater=Z||M}K.prototype.isReactComponent={},K.prototype.setState=function(b,V){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,V,"setState")},K.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function X(){}X.prototype=K.prototype;function O(b,V,Z){this.props=b,this.context=V,this.refs=F,this.updater=Z||M}var $=O.prototype=new X;$.constructor=O,D($,K.prototype),$.isPureReactComponent=!0;var ee=Array.isArray;function B(){}var Y={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function W(b,V,Z){var te=Z.ref;return{$$typeof:i,type:b,key:V,ref:te!==void 0?te:null,props:Z}}function ue(b,V){return W(b.type,V,b.props)}function pe(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function ae(b){var V={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return V[Z]})}var Ge=/\/+/g;function se(b,V){return typeof b=="object"&&b!==null&&b.key!=null?ae(""+b.key):V.toString(36)}function ye(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(B,B):(b.status="pending",b.then(function(V){b.status==="pending"&&(b.status="fulfilled",b.value=V)},function(V){b.status==="pending"&&(b.status="rejected",b.reason=V)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function q(b,V,Z,te,me){var ge=typeof b;(ge==="undefined"||ge==="boolean")&&(b=null);var w=!1;if(b===null)w=!0;else switch(ge){case"bigint":case"string":case"number":w=!0;break;case"object":switch(b.$$typeof){case i:case n:w=!0;break;case T:return w=b._init,q(w(b._payload),V,Z,te,me)}}if(w)return me=me(b),w=te===""?"."+se(b,0):te,ee(me)?(Z="",w!=null&&(Z=w.replace(Ge,"$&/")+"/"),q(me,V,Z,"",function(de){return de})):me!=null&&(pe(me)&&(me=ue(me,Z+(me.key==null||b&&b.key===me.key?"":(""+me.key).replace(Ge,"$&/")+"/")+w)),V.push(me)),1;w=0;var H=te===""?".":te+":";if(ee(b))for(var Q=0;Q<b.length;Q++)te=b[Q],ge=H+se(te,Q),w+=q(te,V,Z,ge,me);else if(Q=_(b),typeof Q=="function")for(b=Q.call(b),Q=0;!(te=b.next()).done;)te=te.value,ge=H+se(te,Q++),w+=q(te,V,Z,ge,me);else if(ge==="object"){if(typeof b.then=="function")return q(ye(b),V,Z,te,me);throw V=String(b),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return w}function J(b,V,Z){if(b==null)return b;var te=[],me=0;return q(b,te,"","",function(ge){return V.call(Z,ge,me++)}),te}function ne(b){if(b._status===-1){var V=b._result;V=V(),V.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=V)}if(b._status===1)return b._result.default;throw b._result}var Ee=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ie={map:J,forEach:function(b,V,Z){J(b,function(){V.apply(this,arguments)},Z)},count:function(b){var V=0;return J(b,function(){V++}),V},toArray:function(b){return J(b,function(V){return V})||[]},only:function(b){if(!pe(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return he.Activity=x,he.Children=Ie,he.Component=K,he.Fragment=o,he.Profiler=u,he.PureComponent=O,he.StrictMode=a,he.Suspense=v,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,he.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Y.H.useMemoCache(b)}},he.cache=function(b){return function(){return b.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(b,V,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var te=D({},b.props),me=b.key;if(V!=null)for(ge in V.key!==void 0&&(me=""+V.key),V)!ce.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(te[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)te.children=Z;else if(1<ge){for(var w=Array(ge),H=0;H<ge;H++)w[H]=arguments[H+2];te.children=w}return W(b.type,me,te)},he.createContext=function(b){return b={$$typeof:p,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:d,_context:b},b},he.createElement=function(b,V,Z){var te,me={},ge=null;if(V!=null)for(te in V.key!==void 0&&(ge=""+V.key),V)ce.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=V[te]);var w=arguments.length-2;if(w===1)me.children=Z;else if(1<w){for(var H=Array(w),Q=0;Q<w;Q++)H[Q]=arguments[Q+2];me.children=H}if(b&&b.defaultProps)for(te in w=b.defaultProps,w)me[te]===void 0&&(me[te]=w[te]);return W(b,ge,me)},he.createRef=function(){return{current:null}},he.forwardRef=function(b){return{$$typeof:h,render:b}},he.isValidElement=pe,he.lazy=function(b){return{$$typeof:T,_payload:{_status:-1,_result:b},_init:ne}},he.memo=function(b,V){return{$$typeof:g,type:b,compare:V===void 0?null:V}},he.startTransition=function(b){var V=Y.T,Z={};Y.T=Z;try{var te=b(),me=Y.S;me!==null&&me(Z,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(B,Ee)}catch(ge){Ee(ge)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),Y.T=V}},he.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},he.use=function(b){return Y.H.use(b)},he.useActionState=function(b,V,Z){return Y.H.useActionState(b,V,Z)},he.useCallback=function(b,V){return Y.H.useCallback(b,V)},he.useContext=function(b){return Y.H.useContext(b)},he.useDebugValue=function(){},he.useDeferredValue=function(b,V){return Y.H.useDeferredValue(b,V)},he.useEffect=function(b,V){return Y.H.useEffect(b,V)},he.useEffectEvent=function(b){return Y.H.useEffectEvent(b)},he.useId=function(){return Y.H.useId()},he.useImperativeHandle=function(b,V,Z){return Y.H.useImperativeHandle(b,V,Z)},he.useInsertionEffect=function(b,V){return Y.H.useInsertionEffect(b,V)},he.useLayoutEffect=function(b,V){return Y.H.useLayoutEffect(b,V)},he.useMemo=function(b,V){return Y.H.useMemo(b,V)},he.useOptimistic=function(b,V){return Y.H.useOptimistic(b,V)},he.useReducer=function(b,V,Z){return Y.H.useReducer(b,V,Z)},he.useRef=function(b){return Y.H.useRef(b)},he.useState=function(b){return Y.H.useState(b)},he.useSyncExternalStore=function(b,V,Z){return Y.H.useSyncExternalStore(b,V,Z)},he.useTransition=function(){return Y.H.useTransition()},he.version="19.2.1",he}var Rm;function gu(){return Rm||(Rm=1,Wr.exports=yv()),Wr.exports}var ie=gu();const vv=ph(ie);var jr={exports:{}},lo={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Tv(){return Dm||(Dm=1,(function(i){function n(q,J){var ne=q.length;q.push(J);e:for(;0<ne;){var Ee=ne-1>>>1,Ie=q[Ee];if(0<u(Ie,J))q[Ee]=J,q[ne]=Ie,ne=Ee;else break e}}function o(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var J=q[0],ne=q.pop();if(ne!==J){q[0]=ne;e:for(var Ee=0,Ie=q.length,b=Ie>>>1;Ee<b;){var V=2*(Ee+1)-1,Z=q[V],te=V+1,me=q[te];if(0>u(Z,ne))te<Ie&&0>u(me,Z)?(q[Ee]=me,q[te]=ne,Ee=te):(q[Ee]=Z,q[V]=ne,Ee=V);else if(te<Ie&&0>u(me,ne))q[Ee]=me,q[te]=ne,Ee=te;else break e}}return J}function u(q,J){var ne=q.sortIndex-J.sortIndex;return ne!==0?ne:q.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,h=p.now();i.unstable_now=function(){return p.now()-h}}var v=[],g=[],T=1,x=null,E=3,_=!1,M=!1,D=!1,F=!1,K=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var J=o(g);J!==null;){if(J.callback===null)a(g);else if(J.startTime<=q)a(g),J.sortIndex=J.expirationTime,n(v,J);else break;J=o(g)}}function ee(q){if(D=!1,$(q),!M)if(o(v)!==null)M=!0,B||(B=!0,ae());else{var J=o(g);J!==null&&ye(ee,J.startTime-q)}}var B=!1,Y=-1,ce=5,W=-1;function ue(){return F?!0:!(i.unstable_now()-W<ce)}function pe(){if(F=!1,B){var q=i.unstable_now();W=q;var J=!0;try{e:{M=!1,D&&(D=!1,X(Y),Y=-1),_=!0;var ne=E;try{t:{for($(q),x=o(v);x!==null&&!(x.expirationTime>q&&ue());){var Ee=x.callback;if(typeof Ee=="function"){x.callback=null,E=x.priorityLevel;var Ie=Ee(x.expirationTime<=q);if(q=i.unstable_now(),typeof Ie=="function"){x.callback=Ie,$(q),J=!0;break t}x===o(v)&&a(v),$(q)}else a(v);x=o(v)}if(x!==null)J=!0;else{var b=o(g);b!==null&&ye(ee,b.startTime-q),J=!1}}break e}finally{x=null,E=ne,_=!1}J=void 0}}finally{J?ae():B=!1}}}var ae;if(typeof O=="function")ae=function(){O(pe)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,se=Ge.port2;Ge.port1.onmessage=pe,ae=function(){se.postMessage(null)}}else ae=function(){K(pe,0)};function ye(q,J){Y=K(function(){q(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(q){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var ne=E;E=J;try{return q()}finally{E=ne}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=E;E=q;try{return J()}finally{E=ne}},i.unstable_scheduleCallback=function(q,J,ne){var Ee=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ee+ne:Ee):ne=Ee,q){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ne+Ie,q={id:T++,callback:J,priorityLevel:q,startTime:ne,expirationTime:Ie,sortIndex:-1},ne>Ee?(q.sortIndex=ne,n(g,q),o(v)===null&&q===o(g)&&(D?(X(Y),Y=-1):D=!0,ye(ee,ne-Ee))):(q.sortIndex=Ie,n(v,q),M||_||(M=!0,B||(B=!0,ae()))),q},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(q){var J=E;return function(){var ne=E;E=J;try{return q.apply(this,arguments)}finally{E=ne}}}})(tu)),tu}var wm;function Sv(){return wm||(wm=1,eu.exports=Tv()),eu.exports}var nu={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function xv(){if(Im)return ct;Im=1;var i=gu();function n(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(v,g,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:v,containerInfo:g,implementation:T}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ct.createPortal=function(v,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return d(v,g,null,T)},ct.flushSync=function(v){var g=p.T,T=a.p;try{if(p.T=null,a.p=2,v)return v()}finally{p.T=g,a.p=T,a.d.f()}},ct.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(v,g))},ct.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},ct.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var T=g.as,x=h(T,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:_}):T==="script"&&a.d.X(v,{crossOrigin:x,integrity:E,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ct.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=h(g.as,g.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(v)},ct.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,x=h(T,g.crossOrigin);a.d.L(v,T,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ct.preloadModule=function(v,g){if(typeof v=="string")if(g){var T=h(g.as,g.crossOrigin);a.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(v)},ct.requestFormReset=function(v){a.d.r(v)},ct.unstable_batchedUpdates=function(v,g){return v(g)},ct.useFormState=function(v,g,T){return p.H.useFormState(v,g,T)},ct.useFormStatus=function(){return p.H.useHostTransitionStatus()},ct.version="19.2.1",ct}var Um;function Ev(){if(Um)return nu.exports;Um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),nu.exports=xv(),nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Cv(){if(Lm)return lo;Lm=1;var i=Sv(),n=gu(),o=Ev();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(a(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(a(188));return t!==e?null:e}for(var l=e,s=t;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return v(f),e;if(m===s)return v(f),t;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=m;else{for(var S=!1,C=f.child;C;){if(C===l){S=!0,l=f,s=m;break}if(C===s){S=!0,s=f,l=m;break}C=C.sibling}if(!S){for(C=m.child;C;){if(C===l){S=!0,l=m,s=f;break}if(C===s){S=!0,s=m,l=f;break}C=C.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),O=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case K:return"Profiler";case F:return"StrictMode";case ee:return"Suspense";case B:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case O:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var ye=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ee=[],Ie=-1;function b(e){return{current:e}}function V(e){0>Ie||(e.current=Ee[Ie],Ee[Ie]=null,Ie--)}function Z(e,t){Ie++,Ee[Ie]=e.current,e.current=t}var te=b(null),me=b(null),ge=b(null),w=b(null);function H(e,t){switch(Z(ge,t),Z(me,e),Z(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qd(t),e=Zd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(te),Z(te,e)}function Q(){V(te),V(me),V(ge)}function de(e){e.memoizedState!==null&&Z(w,e);var t=te.current,l=Zd(t,e.type);t!==l&&(Z(me,e),Z(te,l))}function Me(e){me.current===e&&(V(te),V(me)),w.current===e&&(V(w),jl._currentValue=ne)}var mt,Ut;function lt(e){if(mt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);mt=t&&t[1]||"",Ut=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+e+Ut}var Jt=!1;function Zn(e,t){if(!e||Jt)return"";Jt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(G){var L=G}Reflect.construct(e,[],k)}else{try{k.call()}catch(G){L=G}e.call(k.prototype)}}else{try{throw Error()}catch(G){L=G}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(G){if(G&&L&&typeof G.stack=="string")return[G.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],C=m[1];if(S&&C){var A=S.split(`
`),U=C.split(`
`);for(f=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(s===A.length||f===U.length)for(s=A.length-1,f=U.length-1;1<=s&&0<=f&&A[s]!==U[f];)f--;for(;1<=s&&0<=f;s--,f--)if(A[s]!==U[f]){if(s!==1||f!==1)do if(s--,f--,0>f||A[s]!==U[f]){var z=`
`+A[s].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=s&&0<=f);break}}}finally{Jt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?lt(l):""}function $n(e,t){switch(e.tag){case 26:case 27:case 5:return lt(e.type);case 16:return lt("Lazy");case 13:return e.child!==t&&t!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Zn(e.type,!1);case 11:return Zn(e.type.render,!1);case 1:return Zn(e.type,!0);case 31:return lt("Activity");default:return""}}function Ti(e){try{var t="",l=null;do t+=$n(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Wn=Object.prototype.hasOwnProperty,Ha=i.unstable_scheduleCallback,za=i.unstable_cancelCallback,Kh=i.unstable_shouldYield,Xh=i.unstable_requestPaint,Et=i.unstable_now,Qh=i.unstable_getCurrentPriorityLevel,Nu=i.unstable_ImmediatePriority,bu=i.unstable_UserBlockingPriority,ro=i.unstable_NormalPriority,Zh=i.unstable_LowPriority,Mu=i.unstable_IdlePriority,$h=i.log,Wh=i.unstable_setDisableYieldValue,fl=null,Ct=null;function Cn(e){if(typeof $h=="function"&&Wh(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(fl,e)}catch{}}var _t=Math.clz32?Math.clz32:tg,jh=Math.log,eg=Math.LN2;function tg(e){return e>>>=0,e===0?32:31-(jh(e)/eg|0)|0}var uo=256,co=262144,fo=4194304;function jn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mo(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~m,s!==0?f=jn(s):(S&=C,S!==0?f=jn(S):l||(l=C&~e,l!==0&&(f=jn(l))))):(C=s&~m,C!==0?f=jn(C):S!==0?f=jn(S):l||(l=s&~e,l!==0&&(f=jn(l)))),f===0?0:t!==0&&t!==f&&(t&m)===0&&(m=f&-f,l=t&-t,m>=l||m===32&&(l&4194048)!==0)?t:f}function dl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ng(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var e=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),e}function Pa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ml(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ig(e,t,l,s,f,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(l=S&~l;0<l;){var z=31-_t(l),k=1<<z;C[z]=0,A[z]=-1;var L=U[z];if(L!==null)for(U[z]=null,z=0;z<L.length;z++){var G=L[z];G!==null&&(G.lane&=-536870913)}l&=~k}s!==0&&Du(e,s,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~t))}function Du(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-_t(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function wu(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-_t(l),f=1<<s;f&t|e[s]&t&&(e[s]|=t),l&=~f}}function Iu(e,t){var l=t&-t;return l=(l&42)!==0?1:Va(l),(l&(e.suspendedLanes|t))!==0?0:l}function Va(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ka(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uu(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function Lu(e,t){var l=J.p;try{return J.p=e,t()}finally{J.p=l}}var _n=Math.random().toString(36).slice(2),ot="__reactFiber$"+_n,ht="__reactProps$"+_n,Si="__reactContainer$"+_n,Ba="__reactEvents$"+_n,lg="__reactListeners$"+_n,og="__reactHandles$"+_n,qu="__reactResources$"+_n,pl="__reactMarker$"+_n;function Fa(e){delete e[ot],delete e[ht],delete e[Ba],delete e[lg],delete e[og]}function xi(e){var t=e[ot];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Si]||l[ot]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=im(e);e!==null;){if(l=e[ot])return l;e=im(e)}return t}e=l,l=e.parentNode}return null}function Ei(e){if(e=e[ot]||e[Si]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ci(e){var t=e[qu];return t||(t=e[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[pl]=!0}var Gu=new Set,Hu={};function ei(e,t){_i(e,t),_i(e+"Capture",t)}function _i(e,t){for(Hu[e]=t,e=0;e<t.length;e++)Gu.add(t[e])}var ag=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},Pu={};function sg(e){return Wn.call(Pu,e)?!0:Wn.call(zu,e)?!1:ag.test(e)?Pu[e]=!0:(zu[e]=!0,!1)}function po(e,t,l){if(sg(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function ho(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function tn(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rg(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,m=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oa(e){if(!e._valueTracker){var t=Vu(e)?"checked":"value";e._valueTracker=rg(e,t,""+e[t])}}function ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=Vu(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function go(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ug=/[\n"\\]/g;function qt(e){return e.replace(ug,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ya(e,t,l,s,f,m,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?Ja(e,S,Lt(t)):l!=null?Ja(e,S,Lt(l)):s!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Lt(C):e.removeAttribute("name")}function Bu(e,t,l,s,f,m,S,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||t!=null)){Oa(e);return}l=l!=null?""+Lt(l):"",t=t!=null?""+Lt(t):l,C||t===e.value||(e.value=t),e.defaultValue=t}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Oa(e)}function Ja(e,t,l){t==="number"&&go(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ai(e,t,l,s){if(e=e.options,t){t={};for(var f=0;f<l.length;f++)t["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=t.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Lt(l),t=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Fu(e,t,l){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Lt(l):""}function Ou(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(a(92));if(ye(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Lt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Oa(e)}function Ni(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var cg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||cg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Ju(e,t,l){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in t)s=t[f],t.hasOwnProperty(f)&&l[f]!==s&&Yu(e,f,s)}else for(var m in t)t.hasOwnProperty(m)&&Yu(e,m,t[m])}function Ka(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(e){return dg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var Xa=null;function Qa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Mi=null;function Ku(e){var t=Ei(e);if(t&&(e=t.stateNode)){var l=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ya(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var f=s[ht]||null;if(!f)throw Error(a(90));Ya(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&ku(s)}break e;case"textarea":Fu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ai(e,!!l.multiple,t,!1)}}}var Za=!1;function Xu(e,t,l){if(Za)return e(t,l);Za=!0;try{var s=e(t);return s}finally{if(Za=!1,(bi!==null||Mi!==null)&&(la(),bi&&(t=bi,e=Mi,Mi=bi=null,Ku(t),e)))for(t=0;t<e.length;t++)Ku(e[t])}}function gl(e,t){var l=e.stateNode;if(l===null)return null;var s=l[ht]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,t,typeof l));return l}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if(ln)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){$a=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{$a=!1}var An=null,Wa=null,vo=null;function Qu(){if(vo)return vo;var e,t=Wa,l=t.length,s,f="value"in An?An.value:An.textContent,m=f.length;for(e=0;e<l&&t[e]===f[e];e++);var S=l-e;for(s=1;s<=S&&t[l-s]===f[m-s];s++);return vo=f.slice(e,1<s?1-s:void 0)}function To(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function Zu(){return!1}function gt(e){function t(l,s,f,m,S){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?So:Zu,this.isPropagationStopped=Zu,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),t}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=gt(ti),vl=x({},ti,{view:0,detail:0}),mg=gt(vl),ja,es,Tl,Eo=x({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(ja=e.screenX-Tl.screenX,es=e.screenY-Tl.screenY):es=ja=0,Tl=e),ja)},movementY:function(e){return"movementY"in e?e.movementY:es}}),$u=gt(Eo),pg=x({},Eo,{dataTransfer:0}),hg=gt(pg),gg=x({},vl,{relatedTarget:0}),ts=gt(gg),yg=x({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),vg=gt(yg),Tg=x({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sg=gt(Tg),xg=x({},ti,{data:0}),Wu=gt(xg),Eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_g[e])?!!t[e]:!1}function ns(){return Ag}var Ng=x({},vl,{key:function(e){if(e.key){var t=Eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=To(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(e){return e.type==="keypress"?To(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?To(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bg=gt(Ng),Mg=x({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=gt(Mg),Rg=x({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Dg=gt(Rg),wg=x({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=gt(wg),Ug=x({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lg=gt(Ug),qg=x({},ti,{newState:0,oldState:0}),Gg=gt(qg),Hg=[9,13,27,32],is=ln&&"CompositionEvent"in window,Sl=null;ln&&"documentMode"in document&&(Sl=document.documentMode);var zg=ln&&"TextEvent"in window&&!Sl,ec=ln&&(!is||Sl&&8<Sl&&11>=Sl),tc=" ",nc=!1;function ic(e,t){switch(e){case"keyup":return Hg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ri=!1;function Pg(e,t){switch(e){case"compositionend":return lc(t);case"keypress":return t.which!==32?null:(nc=!0,tc);case"textInput":return e=t.data,e===tc&&nc?null:e;default:return null}}function Vg(e,t){if(Ri)return e==="compositionend"||!is&&ic(e,t)?(e=Qu(),vo=Wa=An=null,Ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ec&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function ac(e,t,l,s){bi?Mi?Mi.push(s):Mi=[s]:bi=s,t=fa(t,"onChange"),0<t.length&&(l=new xo("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var xl=null,El=null;function Bg(e){Fd(e,0)}function Co(e){var t=hl(e);if(ku(t))return e}function sc(e,t){if(e==="change")return t}var rc=!1;if(ln){var ls;if(ln){var os="oninput"in document;if(!os){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),os=typeof uc.oninput=="function"}ls=os}else ls=!1;rc=ls&&(!document.documentMode||9<document.documentMode)}function cc(){xl&&(xl.detachEvent("onpropertychange",fc),El=xl=null)}function fc(e){if(e.propertyName==="value"&&Co(El)){var t=[];ac(t,El,e,Qa(e)),Xu(Bg,t)}}function Fg(e,t,l){e==="focusin"?(cc(),xl=t,El=l,xl.attachEvent("onpropertychange",fc)):e==="focusout"&&cc()}function Og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(El)}function Yg(e,t){if(e==="click")return Co(t)}function Jg(e,t){if(e==="input"||e==="change")return Co(t)}function Kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Kg;function Cl(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!Wn.call(t,f)||!At(e[f],t[f]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var l=dc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dc(l)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=go(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=go(e.document)}return t}function as(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Xg=ln&&"documentMode"in document&&11>=document.documentMode,Di=null,ss=null,_l=null,rs=!1;function gc(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rs||Di==null||Di!==go(s)||(s=Di,"selectionStart"in s&&as(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_l&&Cl(_l,s)||(_l=s,s=fa(ss,"onSelect"),0<s.length&&(t=new xo("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Di)))}function ni(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var wi={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},us={},yc={};ln&&(yc=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function ii(e){if(us[e])return us[e];if(!wi[e])return e;var t=wi[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in yc)return us[e]=t[l];return e}var vc=ii("animationend"),Tc=ii("animationiteration"),Sc=ii("animationstart"),Qg=ii("transitionrun"),Zg=ii("transitionstart"),$g=ii("transitioncancel"),xc=ii("transitionend"),Ec=new Map,cs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cs.push("scrollEnd");function Kt(e,t){Ec.set(e,t),ei(t,[e])}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],Ii=0,fs=0;function Ao(){for(var e=Ii,t=fs=Ii=0;t<e;){var l=Gt[t];Gt[t++]=null;var s=Gt[t];Gt[t++]=null;var f=Gt[t];Gt[t++]=null;var m=Gt[t];if(Gt[t++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}m!==0&&Cc(l,f,m)}}function No(e,t,l,s){Gt[Ii++]=e,Gt[Ii++]=t,Gt[Ii++]=l,Gt[Ii++]=s,fs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ds(e,t,l,s){return No(e,t,l,s),bo(e)}function li(e,t){return No(e,null,null,t),bo(e)}function Cc(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&t!==null&&(f=31-_t(l),e=m.hiddenUpdates,s=e[f],s===null?e[f]=[t]:s.push(t),t.lane=l|536870912),m):null}function bo(e){if(50<Jl)throw Jl=0,xr=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ui={};function Wg(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,l,s){return new Wg(e,t,l,s)}function ms(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,t){var l=e.alternate;return l===null?(l=Nt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function _c(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mo(e,t,l,s,f,m){var S=0;if(s=e,typeof e=="function")ms(e)&&(S=1);else if(typeof e=="string")S=iv(e,l,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Nt(31,l,t,f),e.elementType=W,e.lanes=m,e;case D:return oi(l.children,f,m,t);case F:S=8,f|=24;break;case K:return e=Nt(12,l,t,f|2),e.elementType=K,e.lanes=m,e;case ee:return e=Nt(13,l,t,f),e.elementType=ee,e.lanes=m,e;case B:return e=Nt(19,l,t,f),e.elementType=B,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case X:S=9;break e;case $:S=11;break e;case Y:S=14;break e;case ce:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=Nt(S,l,t,f),t.elementType=e,t.type=s,t.lanes=m,t}function oi(e,t,l,s){return e=Nt(7,e,s,t),e.lanes=l,e}function ps(e,t,l){return e=Nt(6,e,null,t),e.lanes=l,e}function Ac(e){var t=Nt(18,null,null,0);return t.stateNode=e,t}function hs(e,t,l){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nc=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var l=Nc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Ti(t)},Nc.set(e,t),t)}return{value:e,source:t,stack:Ti(t)}}var Li=[],qi=0,Ro=null,Al=0,zt=[],Pt=0,Nn=null,$t=1,Wt="";function an(e,t){Li[qi++]=Al,Li[qi++]=Ro,Ro=e,Al=t}function bc(e,t,l){zt[Pt++]=$t,zt[Pt++]=Wt,zt[Pt++]=Nn,Nn=e;var s=$t;e=Wt;var f=32-_t(s)-1;s&=~(1<<f),l+=1;var m=32-_t(t)+f;if(30<m){var S=f-f%5;m=(s&(1<<S)-1).toString(32),s>>=S,f-=S,$t=1<<32-_t(t)+f|l<<f|s,Wt=m+e}else $t=1<<m|l<<f|s,Wt=e}function gs(e){e.return!==null&&(an(e,1),bc(e,1,0))}function ys(e){for(;e===Ro;)Ro=Li[--qi],Li[qi]=null,Al=Li[--qi],Li[qi]=null;for(;e===Nn;)Nn=zt[--Pt],zt[Pt]=null,Wt=zt[--Pt],zt[Pt]=null,$t=zt[--Pt],zt[Pt]=null}function Mc(e,t){zt[Pt++]=$t,zt[Pt++]=Wt,zt[Pt++]=Nn,$t=t.id,Wt=t.overflow,Nn=e}var at=null,ke=null,be=!1,bn=null,Vt=!1,vs=Error(a(519));function Mn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(Ht(t,e)),vs}function Rc(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[ot]=e,t[ht]=s,l){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(l=0;l<Xl.length;l++)_e(Xl[l],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Bu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Ou(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||Kd(t.textContent,l)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=nn),t=!0):t=!1,t||Mn(e,!0)}function Dc(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:at=at.return}}function Gi(e){if(e!==at)return!1;if(!be)return Dc(e),be=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Gr(e.type,e.memoizedProps)),l=!l),l&&ke&&Mn(e),Dc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=nm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=nm(e)}else t===27?(t=ke,Bn(e.type)?(e=kr,kr=null,ke=e):ke=t):ke=at?Bt(e.stateNode.nextSibling):null;return!0}function ai(){ke=at=null,be=!1}function Ts(){var e=bn;return e!==null&&(St===null?St=e:St.push.apply(St,e),bn=null),e}function Nl(e){bn===null?bn=[e]:bn.push(e)}var Ss=b(null),si=null,sn=null;function Rn(e,t,l){Z(Ss,t._currentValue),t._currentValue=l}function rn(e){e._currentValue=Ss.current,V(Ss)}function xs(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Es(e,t,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var S=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var A=0;A<t.length;A++)if(C.context===t[A]){m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),xs(m.return,l,e),s||(S=null);break e}m=C.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),xs(S,l,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Hi(e,t,l,s){e=null;for(var f=t,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var C=f.type;At(f.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(f===w.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}f=f.return}e!==null&&Es(t,e,l,s),t.flags|=262144}function Do(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ri(e){si=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return wc(si,e)}function wo(e,t){return si===null&&ri(e),wc(e,t)}function wc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},sn===null){if(e===null)throw Error(a(308));sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sn=sn.next=t;return l}var jg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},ey=i.unstable_scheduleCallback,ty=i.unstable_NormalPriority,Ze={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cs(){return{controller:new jg,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&ey(ty,function(){e.controller.abort()})}var Ml=null,_s=0,zi=0,Pi=null;function ny(e,t){if(Ml===null){var l=Ml=[];_s=0,zi=br(),Pi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return _s++,t.then(Ic,Ic),t}function Ic(){if(--_s===0&&Ml!==null){Pi!==null&&(Pi.status="fulfilled");var e=Ml;Ml=null,zi=0,Pi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iy(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var f=0;f<l.length;f++)(0,l[f])(t)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var Uc=q.S;q.S=function(e,t){yd=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ny(e,t),Uc!==null&&Uc(e,t)};var ui=b(null);function As(){var e=ui.current;return e!==null?e:Ve.pooledCache}function Io(e,t){t===null?Z(ui,ui.current):Z(ui,t.pool)}function Lc(){var e=As();return e===null?null:{parent:Ze._currentValue,pool:e}}var Vi=Error(a(460)),Ns=Error(a(474)),Uo=Error(a(542)),Lo={then:function(){}};function qc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(nn,nn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e;default:if(typeof t.status=="string")t.then(nn,nn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=s}},function(s){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zc(e),e}throw fi=t,Vi}}function ci(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(fi=l,Vi):l}}var fi=null;function Hc(){if(fi===null)throw Error(a(459));var e=fi;return fi=null,e}function zc(e){if(e===Vi||e===Uo)throw Error(a(483))}var ki=null,Rl=0;function qo(e){var t=Rl;return Rl+=1,ki===null&&(ki=[]),Gc(ki,e,t)}function Dl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Go(e,t){throw t.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pc(e){function t(R,N){if(e){var I=R.deletions;I===null?(R.deletions=[N],R.flags|=16):I.push(N)}}function l(R,N){if(!e)return null;for(;N!==null;)t(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function f(R,N){return R=on(R,N),R.index=0,R.sibling=null,R}function m(R,N,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<N?(R.flags|=67108866,N):I):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function C(R,N,I,P){return N===null||N.tag!==6?(N=ps(I,R.mode,P),N.return=R,N):(N=f(N,I),N.return=R,N)}function A(R,N,I,P){var re=I.type;return re===D?z(R,N,I.props.children,P,I.key):N!==null&&(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ce&&ci(re)===N.type)?(N=f(N,I.props),Dl(N,I),N.return=R,N):(N=Mo(I.type,I.key,I.props,null,R.mode,P),Dl(N,I),N.return=R,N)}function U(R,N,I,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=hs(I,R.mode,P),N.return=R,N):(N=f(N,I.children||[]),N.return=R,N)}function z(R,N,I,P,re){return N===null||N.tag!==7?(N=oi(I,R.mode,P,re),N.return=R,N):(N=f(N,I),N.return=R,N)}function k(R,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ps(""+N,R.mode,I),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return I=Mo(N.type,N.key,N.props,null,R.mode,I),Dl(I,N),I.return=R,I;case M:return N=hs(N,R.mode,I),N.return=R,N;case ce:return N=ci(N),k(R,N,I)}if(ye(N)||ae(N))return N=oi(N,R.mode,I,null),N.return=R,N;if(typeof N.then=="function")return k(R,qo(N),I);if(N.$$typeof===O)return k(R,wo(R,N),I);Go(R,N)}return null}function L(R,N,I,P){var re=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return re!==null?null:C(R,N,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===re?A(R,N,I,P):null;case M:return I.key===re?U(R,N,I,P):null;case ce:return I=ci(I),L(R,N,I,P)}if(ye(I)||ae(I))return re!==null?null:z(R,N,I,P,null);if(typeof I.then=="function")return L(R,N,qo(I),P);if(I.$$typeof===O)return L(R,N,wo(R,I),P);Go(R,I)}return null}function G(R,N,I,P,re){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(I)||null,C(N,R,""+P,re);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return R=R.get(P.key===null?I:P.key)||null,A(N,R,P,re);case M:return R=R.get(P.key===null?I:P.key)||null,U(N,R,P,re);case ce:return P=ci(P),G(R,N,I,P,re)}if(ye(P)||ae(P))return R=R.get(I)||null,z(N,R,P,re,null);if(typeof P.then=="function")return G(R,N,I,qo(P),re);if(P.$$typeof===O)return G(R,N,I,wo(N,P),re);Go(N,P)}return null}function le(R,N,I,P){for(var re=null,Re=null,oe=N,Te=N=0,Ne=null;oe!==null&&Te<I.length;Te++){oe.index>Te?(Ne=oe,oe=null):Ne=oe.sibling;var De=L(R,oe,I[Te],P);if(De===null){oe===null&&(oe=Ne);break}e&&oe&&De.alternate===null&&t(R,oe),N=m(De,N,Te),Re===null?re=De:Re.sibling=De,Re=De,oe=Ne}if(Te===I.length)return l(R,oe),be&&an(R,Te),re;if(oe===null){for(;Te<I.length;Te++)oe=k(R,I[Te],P),oe!==null&&(N=m(oe,N,Te),Re===null?re=oe:Re.sibling=oe,Re=oe);return be&&an(R,Te),re}for(oe=s(oe);Te<I.length;Te++)Ne=G(oe,R,Te,I[Te],P),Ne!==null&&(e&&Ne.alternate!==null&&oe.delete(Ne.key===null?Te:Ne.key),N=m(Ne,N,Te),Re===null?re=Ne:Re.sibling=Ne,Re=Ne);return e&&oe.forEach(function(Kn){return t(R,Kn)}),be&&an(R,Te),re}function fe(R,N,I,P){if(I==null)throw Error(a(151));for(var re=null,Re=null,oe=N,Te=N=0,Ne=null,De=I.next();oe!==null&&!De.done;Te++,De=I.next()){oe.index>Te?(Ne=oe,oe=null):Ne=oe.sibling;var Kn=L(R,oe,De.value,P);if(Kn===null){oe===null&&(oe=Ne);break}e&&oe&&Kn.alternate===null&&t(R,oe),N=m(Kn,N,Te),Re===null?re=Kn:Re.sibling=Kn,Re=Kn,oe=Ne}if(De.done)return l(R,oe),be&&an(R,Te),re;if(oe===null){for(;!De.done;Te++,De=I.next())De=k(R,De.value,P),De!==null&&(N=m(De,N,Te),Re===null?re=De:Re.sibling=De,Re=De);return be&&an(R,Te),re}for(oe=s(oe);!De.done;Te++,De=I.next())De=G(oe,R,Te,De.value,P),De!==null&&(e&&De.alternate!==null&&oe.delete(De.key===null?Te:De.key),N=m(De,N,Te),Re===null?re=De:Re.sibling=De,Re=De);return e&&oe.forEach(function(pv){return t(R,pv)}),be&&an(R,Te),re}function Pe(R,N,I,P){if(typeof I=="object"&&I!==null&&I.type===D&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:e:{for(var re=I.key;N!==null;){if(N.key===re){if(re=I.type,re===D){if(N.tag===7){l(R,N.sibling),P=f(N,I.props.children),P.return=R,R=P;break e}}else if(N.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===ce&&ci(re)===N.type){l(R,N.sibling),P=f(N,I.props),Dl(P,I),P.return=R,R=P;break e}l(R,N);break}else t(R,N);N=N.sibling}I.type===D?(P=oi(I.props.children,R.mode,P,I.key),P.return=R,R=P):(P=Mo(I.type,I.key,I.props,null,R.mode,P),Dl(P,I),P.return=R,R=P)}return S(R);case M:e:{for(re=I.key;N!==null;){if(N.key===re)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){l(R,N.sibling),P=f(N,I.children||[]),P.return=R,R=P;break e}else{l(R,N);break}else t(R,N);N=N.sibling}P=hs(I,R.mode,P),P.return=R,R=P}return S(R);case ce:return I=ci(I),Pe(R,N,I,P)}if(ye(I))return le(R,N,I,P);if(ae(I)){if(re=ae(I),typeof re!="function")throw Error(a(150));return I=re.call(I),fe(R,N,I,P)}if(typeof I.then=="function")return Pe(R,N,qo(I),P);if(I.$$typeof===O)return Pe(R,N,wo(R,I),P);Go(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(l(R,N.sibling),P=f(N,I),P.return=R,R=P):(l(R,N),P=ps(I,R.mode,P),P.return=R,R=P),S(R)):l(R,N)}return function(R,N,I,P){try{Rl=0;var re=Pe(R,N,I,P);return ki=null,re}catch(oe){if(oe===Vi||oe===Uo)throw oe;var Re=Nt(29,oe,null,R.mode);return Re.lanes=P,Re.return=R,Re}finally{}}}var di=Pc(!0),Vc=Pc(!1),Dn=!1;function bs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ue&2)!==0){var f=s.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),s.pending=t,t=bo(e),Cc(e,null,l),t}return No(e,s,t,l),bo(e)}function wl(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,wu(e,l)}}function Rs(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?f=m=t:m=m.next=t}else f=m=t;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ds=!1;function Il(){if(Ds){var e=Pi;if(e!==null)throw e}}function Ul(e,t,l,s){Ds=!1;var f=e.updateQueue;Dn=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var A=C,U=A.next;A.next=null,S===null?m=U:S.next=U,S=A;var z=e.alternate;z!==null&&(z=z.updateQueue,C=z.lastBaseUpdate,C!==S&&(C===null?z.firstBaseUpdate=U:C.next=U,z.lastBaseUpdate=A))}if(m!==null){var k=f.baseState;S=0,z=U=A=null,C=m;do{var L=C.lane&-536870913,G=L!==C.lane;if(G?(Ae&L)===L:(s&L)===L){L!==0&&L===zi&&(Ds=!0),z!==null&&(z=z.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var le=e,fe=C;L=t;var Pe=l;switch(fe.tag){case 1:if(le=fe.payload,typeof le=="function"){k=le.call(Pe,k,L);break e}k=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=fe.payload,L=typeof le=="function"?le.call(Pe,k,L):le,L==null)break e;k=x({},k,L);break e;case 2:Dn=!0}}L=C.callback,L!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[L]:G.push(L))}else G={lane:L,tag:C.tag,payload:C.payload,callback:C.callback,next:null},z===null?(U=z=G,A=k):z=z.next=G,S|=L;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;G=C,C=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);z===null&&(A=k),f.baseState=A,f.firstBaseUpdate=U,f.lastBaseUpdate=z,m===null&&(f.shared.lanes=0),Hn|=S,e.lanes=S,e.memoizedState=k}}function kc(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Bc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)kc(l[e],t)}var Bi=b(null),Ho=b(0);function Fc(e,t){e=yn,Z(Ho,e),Z(Bi,t),yn=e|t.baseLanes}function ws(){Z(Ho,yn),Z(Bi,Bi.current)}function Is(){yn=Ho.current,V(Bi),V(Ho)}var bt=b(null),kt=null;function Un(e){var t=e.alternate;Z(Xe,Xe.current&1),Z(bt,e),kt===null&&(t===null||Bi.current!==null||t.memoizedState!==null)&&(kt=e)}function Us(e){Z(Xe,Xe.current),Z(bt,e),kt===null&&(kt=e)}function Oc(e){e.tag===22?(Z(Xe,Xe.current),Z(bt,e),kt===null&&(kt=e)):Ln()}function Ln(){Z(Xe,Xe.current),Z(bt,bt.current)}function Mt(e){V(bt),kt===e&&(kt=null),V(Xe)}var Xe=b(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pr(l)||Vr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,ve=null,He=null,$e=null,Po=!1,Fi=!1,mi=!1,Vo=0,Ll=0,Oi=null,ly=0;function Ye(){throw Error(a(321))}function Ls(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!At(e[l],t[l]))return!1;return!0}function qs(e,t,l,s,f,m){return un=m,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Mf:Zs,mi=!1,m=l(s,f),mi=!1,Fi&&(m=Jc(t,l,s,f)),Yc(e),m}function Yc(e){q.H=Hl;var t=He!==null&&He.next!==null;if(un=0,$e=He=ve=null,Po=!1,Ll=0,Oi=null,t)throw Error(a(300));e===null||We||(e=e.dependencies,e!==null&&Do(e)&&(We=!0))}function Jc(e,t,l,s){ve=e;var f=0;do{if(Fi&&(Oi=null),Ll=0,Fi=!1,25<=f)throw Error(a(301));if(f+=1,$e=He=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Rf,m=t(l,s)}while(Fi);return m}function oy(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?ql(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(ve.flags|=1024),t}function Gs(){var e=Vo!==0;return Vo=0,e}function Hs(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function zs(e){if(Po){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Po=!1}un=0,$e=He=ve=null,Fi=!1,Ll=Vo=0,Oi=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ve.memoizedState=$e=e:$e=$e.next=e,$e}function Qe(){if(He===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=$e===null?ve.memoizedState:$e.next;if(t!==null)$e=t,He=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},$e===null?ve.memoizedState=$e=e:$e=$e.next=e}return $e}function ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var t=Ll;return Ll+=1,Oi===null&&(Oi=[]),e=Gc(Oi,e,t),t=ve,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Mf:Zs),e}function Bo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===O)return st(e)}throw Error(a(438,String(e)))}function Ps(e){var t=null,l=ve.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ko(),ve.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=ue;return t.index++,l}function cn(e,t){return typeof t=="function"?t(e):t}function Fo(e){var t=Qe();return Vs(t,He,e)}function Vs(e,t,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,m=s.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}t.baseQueue=f=m,s.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{t=f.next;var C=S=null,A=null,U=t,z=!1;do{var k=U.lane&-536870913;if(k!==U.lane?(Ae&k)===k:(un&k)===k){var L=U.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),k===zi&&(z=!0);else if((un&L)===L){U=U.next,L===zi&&(z=!0);continue}else k={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(C=A=k,S=m):A=A.next=k,ve.lanes|=L,Hn|=L;k=U.action,mi&&l(m,k),m=U.hasEagerState?U.eagerState:l(m,k)}else L={lane:k,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(C=A=L,S=m):A=A.next=L,ve.lanes|=k,Hn|=k;U=U.next}while(U!==null&&U!==t);if(A===null?S=m:A.next=C,!At(m,e.memoizedState)&&(We=!0,z&&(l=Pi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ks(e){var t=Qe(),l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,m=t.memoizedState;if(f!==null){l.pending=null;var S=f=f.next;do m=e(m,S.action),S=S.next;while(S!==f);At(m,t.memoizedState)||(We=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),l.lastRenderedState=m}return[m,s]}function Kc(e,t,l){var s=ve,f=Qe(),m=be;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=t();var S=!At((He||f).memoizedState,l);if(S&&(f.memoizedState=l,We=!0),f=f.queue,Os(Zc.bind(null,s,f,e),[e]),f.getSnapshot!==t||S||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,Yi(9,{destroy:void 0},Qc.bind(null,s,f,l,t),null),Ve===null)throw Error(a(349));m||(un&127)!==0||Xc(s,t,l)}return l}function Xc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ve.updateQueue,t===null?(t=ko(),ve.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Qc(e,t,l,s){t.value=l,t.getSnapshot=s,$c(t)&&Wc(e)}function Zc(e,t,l){return l(function(){$c(t)&&Wc(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!At(e,l)}catch{return!0}}function Wc(e){var t=li(e,2);t!==null&&xt(t,e,2)}function Bs(e){var t=pt();if(typeof e=="function"){var l=e;if(e=l(),mi){Cn(!0);try{l()}finally{Cn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function jc(e,t,l,s){return e.baseState=l,Vs(e,He,typeof s=="function"?s:cn)}function ay(e,t,l,s,f){if(Jo(e))throw Error(a(485));if(e=t.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};q.T!==null?l(!0):m.isTransition=!1,s(m),l=t.pending,l===null?(m.next=t.pending=m,ef(t,m)):(m.next=l.next,t.pending=l.next=m)}}function ef(e,t){var l=t.action,s=t.payload,f=e.state;if(t.isTransition){var m=q.T,S={};q.T=S;try{var C=l(f,s),A=q.S;A!==null&&A(S,C),tf(e,t,C)}catch(U){Fs(e,t,U)}finally{m!==null&&S.types!==null&&(m.types=S.types),q.T=m}}else try{m=l(f,s),tf(e,t,m)}catch(U){Fs(e,t,U)}}function tf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){nf(e,t,s)},function(s){return Fs(e,t,s)}):nf(e,t,l)}function nf(e,t,l){t.status="fulfilled",t.value=l,lf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,ef(e,l)))}function Fs(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,lf(t),t=t.next;while(t!==s)}e.action=null}function lf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function of(e,t){return t}function af(e,t){if(be){var l=Ve.formState;if(l!==null){e:{var s=ve;if(be){if(ke){t:{for(var f=ke,m=Vt;f.nodeType!==8;){if(!m){f=null;break t}if(f=Bt(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ke=Bt(f.nextSibling),s=f.data==="F!";break e}}Mn(s)}s=!1}s&&(t=l[0])}}return l=pt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:t},l.queue=s,l=Af.bind(null,ve,s),s.dispatch=l,s=Bs(!1),m=Qs.bind(null,ve,!1,s.queue),s=pt(),f={state:t,dispatch:null,action:e,pending:null},s.queue=f,l=ay.bind(null,ve,f,m,l),f.dispatch=l,s.memoizedState=e,[t,l,!1]}function sf(e){var t=Qe();return rf(t,He,e)}function rf(e,t,l){if(t=Vs(e,t,of)[0],e=Fo(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ql(t)}catch(S){throw S===Vi?Uo:S}else s=t;t=Qe();var f=t.queue,m=f.dispatch;return l!==t.memoizedState&&(ve.flags|=2048,Yi(9,{destroy:void 0},sy.bind(null,f,l),null)),[s,m,e]}function sy(e,t){e.action=t}function uf(e){var t=Qe(),l=He;if(l!==null)return rf(t,l,e);Qe(),t=t.memoizedState,l=Qe();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function Yi(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=ve.updateQueue,t===null&&(t=ko(),ve.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function cf(){return Qe().memoizedState}function Oo(e,t,l,s){var f=pt();ve.flags|=e,f.memoizedState=Yi(1|t,{destroy:void 0},l,s===void 0?null:s)}function Yo(e,t,l,s){var f=Qe();s=s===void 0?null:s;var m=f.memoizedState.inst;He!==null&&s!==null&&Ls(s,He.memoizedState.deps)?f.memoizedState=Yi(t,m,l,s):(ve.flags|=e,f.memoizedState=Yi(1|t,m,l,s))}function ff(e,t){Oo(8390656,8,e,t)}function Os(e,t){Yo(2048,8,e,t)}function ry(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=ko(),ve.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function df(e){var t=Qe().memoizedState;return ry({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function mf(e,t){return Yo(4,2,e,t)}function pf(e,t){return Yo(4,4,e,t)}function hf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gf(e,t,l){l=l!=null?l.concat([e]):null,Yo(4,4,hf.bind(null,t,e),l)}function Ys(){}function yf(e,t){var l=Qe();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&Ls(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function vf(e,t){var l=Qe();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&Ls(t,s[1]))return s[0];if(s=e(),mi){Cn(!0);try{e()}finally{Cn(!1)}}return l.memoizedState=[s,t],s}function Js(e,t,l){return l===void 0||(un&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Td(),ve.lanes|=e,Hn|=e,l)}function Tf(e,t,l,s){return At(l,t)?l:Bi.current!==null?(e=Js(e,l,s),At(e,t)||(We=!0),e):(un&42)===0||(un&1073741824)!==0&&(Ae&261930)===0?(We=!0,e.memoizedState=l):(e=Td(),ve.lanes|=e,Hn|=e,t)}function Sf(e,t,l,s,f){var m=J.p;J.p=m!==0&&8>m?m:8;var S=q.T,C={};q.T=C,Qs(e,!1,t,l);try{var A=f(),U=q.S;if(U!==null&&U(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=iy(A,s);Gl(e,t,z,wt(e))}else Gl(e,t,s,wt(e))}catch(k){Gl(e,t,{then:function(){},status:"rejected",reason:k},wt())}finally{J.p=m,S!==null&&C.types!==null&&(S.types=C.types),q.T=S}}function uy(){}function Ks(e,t,l,s){if(e.tag!==5)throw Error(a(476));var f=xf(e).queue;Sf(e,f,t,ne,l===null?uy:function(){return Ef(e),l(s)})}function xf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:ne},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ef(e){var t=xf(e);t.next===null&&(t=e.alternate.memoizedState),Gl(e,t.next.queue,{},wt())}function Xs(){return st(jl)}function Cf(){return Qe().memoizedState}function _f(){return Qe().memoizedState}function cy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=wt();e=wn(l);var s=In(t,e,l);s!==null&&(xt(s,t,l),wl(s,t,l)),t={cache:Cs()},e.payload=t;return}t=t.return}}function fy(e,t,l){var s=wt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Nf(t,l):(l=ds(e,t,l,s),l!==null&&(xt(l,e,s),bf(l,t,s)))}function Af(e,t,l){var s=wt();Gl(e,t,l,s)}function Gl(e,t,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Nf(t,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var S=t.lastRenderedState,C=m(S,l);if(f.hasEagerState=!0,f.eagerState=C,At(C,S))return No(e,t,f,0),Ve===null&&Ao(),!1}catch{}finally{}if(l=ds(e,t,f,s),l!==null)return xt(l,e,s),bf(l,t,s),!0}return!1}function Qs(e,t,l,s){if(s={lane:2,revertLane:br(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jo(e)){if(t)throw Error(a(479))}else t=ds(e,l,s,2),t!==null&&xt(t,e,2)}function Jo(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Nf(e,t){Fi=Po=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function bf(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,wu(e,l)}}var Hl={readContext:st,use:Bo,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Hl.useEffectEvent=Ye;var Mf={readContext:st,use:Bo,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:ff,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Oo(4194308,4,hf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){Oo(4,2,e,t)},useMemo:function(e,t){var l=pt();t=t===void 0?null:t;var s=e();if(mi){Cn(!0);try{e()}finally{Cn(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=pt();if(l!==void 0){var f=l(t);if(mi){Cn(!0);try{l(t)}finally{Cn(!1)}}}else f=t;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=fy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Bs(e);var t=e.queue,l=Af.bind(null,ve,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ys,useDeferredValue:function(e,t){var l=pt();return Js(l,e,t)},useTransition:function(){var e=Bs(!1);return e=Sf.bind(null,ve,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=ve,f=pt();if(be){if(l===void 0)throw Error(a(407));l=l()}else{if(l=t(),Ve===null)throw Error(a(349));(Ae&127)!==0||Xc(s,t,l)}f.memoizedState=l;var m={value:l,getSnapshot:t};return f.queue=m,ff(Zc.bind(null,s,m,e),[e]),s.flags|=2048,Yi(9,{destroy:void 0},Qc.bind(null,s,m,l,t),null),l},useId:function(){var e=pt(),t=Ve.identifierPrefix;if(be){var l=Wt,s=$t;l=(s&~(1<<32-_t(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Vo++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=ly++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Xs,useFormState:af,useActionState:af,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Qs.bind(null,ve,!0,l),l.dispatch=t,[e,t]},useMemoCache:Ps,useCacheRefresh:function(){return pt().memoizedState=cy.bind(null,ve)},useEffectEvent:function(e){var t=pt(),l={impl:e};return t.memoizedState=l,function(){if((Ue&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Zs={readContext:st,use:Bo,useCallback:yf,useContext:st,useEffect:Os,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:pf,useMemo:vf,useReducer:Fo,useRef:cf,useState:function(){return Fo(cn)},useDebugValue:Ys,useDeferredValue:function(e,t){var l=Qe();return Tf(l,He.memoizedState,e,t)},useTransition:function(){var e=Fo(cn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:Kc,useId:Cf,useHostTransitionStatus:Xs,useFormState:sf,useActionState:sf,useOptimistic:function(e,t){var l=Qe();return jc(l,He,e,t)},useMemoCache:Ps,useCacheRefresh:_f};Zs.useEffectEvent=df;var Rf={readContext:st,use:Bo,useCallback:yf,useContext:st,useEffect:Os,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:pf,useMemo:vf,useReducer:ks,useRef:cf,useState:function(){return ks(cn)},useDebugValue:Ys,useDeferredValue:function(e,t){var l=Qe();return He===null?Js(l,e,t):Tf(l,He.memoizedState,e,t)},useTransition:function(){var e=ks(cn)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:Kc,useId:Cf,useHostTransitionStatus:Xs,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var l=Qe();return He!==null?jc(l,He,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Ps,useCacheRefresh:_f};Rf.useEffectEvent=df;function $s(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:x({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ws={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=wt(),f=wn(s);f.payload=t,l!=null&&(f.callback=l),t=In(e,f,s),t!==null&&(xt(t,e,s),wl(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=wt(),f=wn(s);f.tag=1,f.payload=t,l!=null&&(f.callback=l),t=In(e,f,s),t!==null&&(xt(t,e,s),wl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=wt(),s=wn(l);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,l),t!==null&&(xt(t,e,l),wl(t,e,l))}};function Df(e,t,l,s,f,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):t.prototype&&t.prototype.isPureReactComponent?!Cl(l,s)||!Cl(f,m):!0}function wf(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&Ws.enqueueReplaceState(t,t.state,null)}function pi(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=x({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function If(e){_o(e)}function Uf(e){console.error(e)}function Lf(e){_o(e)}function Ko(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function qf(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function js(e,t,l){return l=wn(l),l.tag=3,l.payload={element:null},l.callback=function(){Ko(e,t)},l}function Gf(e){return e=wn(e),e.tag=3,e}function Hf(e,t,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;e.payload=function(){return f(m)},e.callback=function(){qf(t,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){qf(t,l,s),typeof f!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function dy(e,t,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&Hi(t,l,f,!0),l=bt.current,l!==null){switch(l.tag){case 31:case 13:return kt===null?oa():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===Lo?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),_r(e,s,f)),!1;case 22:return l.flags|=65536,s===Lo?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),_r(e,s,f)),!1}throw Error(a(435,l.tag))}return _r(e,s,f),oa(),!1}if(be)return t=bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,s!==vs&&(e=Error(a(422),{cause:s}),Nl(Ht(e,l)))):(s!==vs&&(t=Error(a(423),{cause:s}),Nl(Ht(t,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Ht(s,l),f=js(e.stateNode,s,f),Rs(e,f),Je!==4&&(Je=2)),!1;var m=Error(a(520),{cause:s});if(m=Ht(m,l),Yl===null?Yl=[m]:Yl.push(m),Je!==4&&(Je=2),t===null)return!0;s=Ht(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=js(l.stateNode,s,e),Rs(l,e),!1;case 1:if(t=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zn===null||!zn.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Gf(f),Hf(f,e,l,s),Rs(l,f),!1}l=l.return}while(l!==null);return!1}var er=Error(a(461)),We=!1;function rt(e,t,l,s){t.child=e===null?Vc(t,null,l,s):di(t,e.child,l,s)}function zf(e,t,l,s,f){l=l.render;var m=t.ref;if("ref"in s){var S={};for(var C in s)C!=="ref"&&(S[C]=s[C])}else S=s;return ri(t),s=qs(e,t,l,S,m,f),C=Gs(),e!==null&&!We?(Hs(e,t,f),fn(e,t,f)):(be&&C&&gs(t),t.flags|=1,rt(e,t,s,f),t.child)}function Pf(e,t,l,s,f){if(e===null){var m=l.type;return typeof m=="function"&&!ms(m)&&m.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=m,Vf(e,t,m,s,f)):(e=Mo(l.type,null,s,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!rr(e,f)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Cl,l(S,s)&&e.ref===t.ref)return fn(e,t,f)}return t.flags|=1,e=on(m,s),e.ref=t.ref,e.return=t,t.child=e}function Vf(e,t,l,s,f){if(e!==null){var m=e.memoizedProps;if(Cl(m,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=m,rr(e,f))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,fn(e,t,f)}return tr(e,t,l,s,f)}function kf(e,t,l,s){var f=s.children,m=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=t.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~m}else s=0,t.child=null;return Bf(e,t,m,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Io(t,m!==null?m.cachePool:null),m!==null?Fc(t,m):ws(),Oc(t);else return s=t.lanes=536870912,Bf(e,t,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Io(t,m.cachePool),Fc(t,m),Ln(),t.memoizedState=null):(e!==null&&Io(t,null),ws(),Ln());return rt(e,t,f,l),t.child}function zl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bf(e,t,l,s,f){var m=As();return m=m===null?null:{parent:Ze._currentValue,pool:m},t.memoizedState={baseLanes:l,cachePool:m},e!==null&&Io(t,null),ws(),Oc(t),e!==null&&Hi(e,t,s,!0),t.childLanes=f,null}function Xo(e,t){return t=Zo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ff(e,t,l){return di(t,e.child,null,l),e=Xo(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function my(e,t,l){var s=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(s.mode==="hidden")return e=Xo(t,s),t.lanes=536870912,zl(null,e);if(Us(t),(e=ke)?(e=tm(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:$t,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},l=Ac(e),l.return=t,t.child=l,at=t,ke=null)):e=null,e===null)throw Mn(t);return t.lanes=536870912,null}return Xo(t,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Us(t),f)if(t.flags&256)t.flags&=-257,t=Ff(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(We||Hi(e,t,l,!1),f=(l&e.childLanes)!==0,We||f){if(s=Ve,s!==null&&(S=Iu(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,li(e,S),xt(s,e,S),er;oa(),t=Ff(e,t,l)}else e=m.treeContext,ke=Bt(S.nextSibling),at=t,be=!0,bn=null,Vt=!1,e!==null&&Mc(t,e),t=Xo(t,s),t.flags|=4096;return t}return e=on(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Qo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function tr(e,t,l,s,f){return ri(t),l=qs(e,t,l,s,void 0,f),s=Gs(),e!==null&&!We?(Hs(e,t,f),fn(e,t,f)):(be&&s&&gs(t),t.flags|=1,rt(e,t,l,f),t.child)}function Of(e,t,l,s,f,m){return ri(t),t.updateQueue=null,l=Jc(t,s,l,f),Yc(e),s=Gs(),e!==null&&!We?(Hs(e,t,m),fn(e,t,m)):(be&&s&&gs(t),t.flags|=1,rt(e,t,l,m),t.child)}function Yf(e,t,l,s,f){if(ri(t),t.stateNode===null){var m=Ui,S=l.contextType;typeof S=="object"&&S!==null&&(m=st(S)),m=new l(s,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ws,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=s,m.state=t.memoizedState,m.refs={},bs(t),S=l.contextType,m.context=typeof S=="object"&&S!==null?st(S):Ui,m.state=t.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&($s(t,l,S,s),m.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Ws.enqueueReplaceState(m,m.state,null),Ul(t,s,m,f),Il(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){m=t.stateNode;var C=t.memoizedProps,A=pi(l,C);m.props=A;var U=m.context,z=l.contextType;S=Ui,typeof z=="object"&&z!==null&&(S=st(z));var k=l.getDerivedStateFromProps;z=typeof k=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||U!==S)&&wf(t,m,s,S),Dn=!1;var L=t.memoizedState;m.state=L,Ul(t,s,m,f),Il(),U=t.memoizedState,C||L!==U||Dn?(typeof k=="function"&&($s(t,l,k,s),U=t.memoizedState),(A=Dn||Df(t,l,A,s,L,U,S))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),m.props=s,m.state=U,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{m=t.stateNode,Ms(e,t),S=t.memoizedProps,z=pi(l,S),m.props=z,k=t.pendingProps,L=m.context,U=l.contextType,A=Ui,typeof U=="object"&&U!==null&&(A=st(U)),C=l.getDerivedStateFromProps,(U=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==k||L!==A)&&wf(t,m,s,A),Dn=!1,L=t.memoizedState,m.state=L,Ul(t,s,m,f),Il();var G=t.memoizedState;S!==k||L!==G||Dn||e!==null&&e.dependencies!==null&&Do(e.dependencies)?(typeof C=="function"&&($s(t,l,C,s),G=t.memoizedState),(z=Dn||Df(t,l,z,s,L,G,A)||e!==null&&e.dependencies!==null&&Do(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,G,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,G,A)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=G),m.props=s,m.state=G,m.context=A,s=z):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return m=s,Qo(e,t),s=(t.flags&128)!==0,m||s?(m=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&s?(t.child=di(t,e.child,null,f),t.child=di(t,null,l,f)):rt(e,t,l,f),t.memoizedState=m.state,e=t.child):e=fn(e,t,f),e}function Jf(e,t,l,s){return ai(),t.flags|=256,rt(e,t,l,s),t.child}var nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ir(e){return{baseLanes:e,cachePool:Lc()}}function lr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Dt),e}function Kf(e,t,l){var s=t.pendingProps,f=!1,m=(t.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),S&&(f=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(f?Un(t):Ln(),(e=ke)?(e=tm(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:$t,overflow:Wt}:null,retryLane:536870912,hydrationErrors:null},l=Ac(e),l.return=t,t.child=l,at=t,ke=null)):e=null,e===null)throw Mn(t);return Vr(e)?t.lanes=32:t.lanes=536870912,null}var C=s.children;return s=s.fallback,f?(Ln(),f=t.mode,C=Zo({mode:"hidden",children:C},f),s=oi(s,f,l,null),C.return=t,s.return=t,C.sibling=s,t.child=C,s=t.child,s.memoizedState=ir(l),s.childLanes=lr(e,S,l),t.memoizedState=nr,zl(null,s)):(Un(t),or(t,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(m)t.flags&256?(Un(t),t.flags&=-257,t=ar(e,t,l)):t.memoizedState!==null?(Ln(),t.child=e.child,t.flags|=128,t=null):(Ln(),C=s.fallback,f=t.mode,s=Zo({mode:"visible",children:s.children},f),C=oi(C,f,l,null),C.flags|=2,s.return=t,C.return=t,s.sibling=C,t.child=s,di(t,e.child,null,l),s=t.child,s.memoizedState=ir(l),s.childLanes=lr(e,S,l),t.memoizedState=nr,t=zl(null,s));else if(Un(t),Vr(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var U=S.dgst;S=U,s=Error(a(419)),s.stack="",s.digest=S,Nl({value:s,source:null,stack:null}),t=ar(e,t,l)}else if(We||Hi(e,t,l,!1),S=(l&e.childLanes)!==0,We||S){if(S=Ve,S!==null&&(s=Iu(S,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,li(e,s),xt(S,e,s),er;Pr(C)||oa(),t=ar(e,t,l)}else Pr(C)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,ke=Bt(C.nextSibling),at=t,be=!0,bn=null,Vt=!1,e!==null&&Mc(t,e),t=or(t,s.children),t.flags|=4096);return t}return f?(Ln(),C=s.fallback,f=t.mode,A=e.child,U=A.sibling,s=on(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,U!==null?C=on(U,C):(C=oi(C,f,l,null),C.flags|=2),C.return=t,s.return=t,s.sibling=C,t.child=s,zl(null,s),s=t.child,C=e.child.memoizedState,C===null?C=ir(l):(f=C.cachePool,f!==null?(A=Ze._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Lc(),C={baseLanes:C.baseLanes|l,cachePool:f}),s.memoizedState=C,s.childLanes=lr(e,S,l),t.memoizedState=nr,zl(e.child,s)):(Un(t),l=e.child,e=l.sibling,l=on(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=l,t.memoizedState=null,l)}function or(e,t){return t=Zo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zo(e,t){return e=Nt(22,e,null,t),e.lanes=0,e}function ar(e,t,l){return di(t,e.child,null,l),e=or(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xf(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xs(e.return,t,l)}function sr(e,t,l,s,f,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:m}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=f,S.treeForkCount=m)}function Qf(e,t,l){var s=t.pendingProps,f=s.revealOrder,m=s.tail;s=s.children;var S=Xe.current,C=(S&2)!==0;if(C?(S=S&1|2,t.flags|=128):S&=1,Z(Xe,S),rt(e,t,s,l),s=be?Al:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xf(e,l,t);else if(e.tag===19)Xf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=t.child,f=null;l!==null;)e=l.alternate,e!==null&&zo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=t.child,t.child=null):(f=l.sibling,l.sibling=null),sr(t,!1,f,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&zo(e)===null){t.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}sr(t,!0,l,null,m,s);break;case"together":sr(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function fn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Hn|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Hi(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,l=on(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=on(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function rr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Do(e)))}function py(e,t,l){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),Rn(t,Ze,e.memoizedState.cache),ai();break;case 27:case 5:de(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:Rn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Us(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Un(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Kf(e,t,l):(Un(t),e=fn(e,t,l),e!==null?e.sibling:null);Un(t);break;case 19:var f=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(Hi(e,t,l,!1),s=(l&t.childLanes)!==0),f){if(s)return Qf(e,t,l);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Xe,Xe.current),s)break;return null;case 22:return t.lanes=0,kf(e,t,l,t.pendingProps);case 24:Rn(t,Ze,e.memoizedState.cache)}return fn(e,t,l)}function Zf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!rr(e,l)&&(t.flags&128)===0)return We=!1,py(e,t,l);We=(e.flags&131072)!==0}else We=!1,be&&(t.flags&1048576)!==0&&bc(t,Al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ci(t.elementType),t.type=e,typeof e=="function")ms(e)?(s=pi(e,s),t.tag=1,t=Yf(null,t,e,s,l)):(t.tag=0,t=tr(null,t,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===$){t.tag=11,t=zf(null,t,e,s,l);break e}else if(f===Y){t.tag=14,t=Pf(null,t,e,s,l);break e}}throw t=se(e)||e,Error(a(306,t,""))}}return t;case 0:return tr(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,f=pi(s,t.pendingProps),Yf(e,t,s,f,l);case 3:e:{if(H(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var m=t.memoizedState;f=m.element,Ms(e,t),Ul(t,s,null,l);var S=t.memoizedState;if(s=S.cache,Rn(t,Ze,s),s!==m.cache&&Es(t,[Ze],l,!0),Il(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=Jf(e,t,s,l);break e}else if(s!==f){f=Ht(Error(a(424)),t),Nl(f),t=Jf(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Bt(e.firstChild),at=t,be=!0,bn=null,Vt=!0,l=Vc(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ai(),s===f){t=fn(e,t,l);break e}rt(e,t,s,l)}t=t.child}return t;case 26:return Qo(e,t),e===null?(l=sm(t.type,null,t.pendingProps,null))?t.memoizedState=l:be||(l=t.type,e=t.pendingProps,s=da(ge.current).createElement(l),s[ot]=t,s[ht]=e,ut(s,l,e),nt(s),t.stateNode=s):t.memoizedState=sm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return de(t),e===null&&be&&(s=t.stateNode=lm(t.type,t.pendingProps,ge.current),at=t,Vt=!0,f=ke,Bn(t.type)?(kr=f,ke=Bt(s.firstChild)):ke=f),rt(e,t,t.pendingProps.children,l),Qo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((f=s=ke)&&(s=Oy(s,t.type,t.pendingProps,Vt),s!==null?(t.stateNode=s,at=t,ke=Bt(s.firstChild),Vt=!1,f=!0):f=!1),f||Mn(t)),de(t),f=t.type,m=t.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,Gr(f,m)?s=null:S!==null&&Gr(f,S)&&(t.flags|=32),t.memoizedState!==null&&(f=qs(e,t,oy,null,null,l),jl._currentValue=f),Qo(e,t),rt(e,t,s,l),t.child;case 6:return e===null&&be&&((e=l=ke)&&(l=Yy(l,t.pendingProps,Vt),l!==null?(t.stateNode=l,at=t,ke=null,e=!0):e=!1),e||Mn(t)),null;case 13:return Kf(e,t,l);case 4:return H(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=di(t,null,s,l):rt(e,t,s,l),t.child;case 11:return zf(e,t,t.type,t.pendingProps,l);case 7:return rt(e,t,t.pendingProps,l),t.child;case 8:return rt(e,t,t.pendingProps.children,l),t.child;case 12:return rt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,Rn(t,t.type,s.value),rt(e,t,s.children,l),t.child;case 9:return f=t.type._context,s=t.pendingProps.children,ri(t),f=st(f),s=s(f),t.flags|=1,rt(e,t,s,l),t.child;case 14:return Pf(e,t,t.type,t.pendingProps,l);case 15:return Vf(e,t,t.type,t.pendingProps,l);case 19:return Qf(e,t,l);case 31:return my(e,t,l);case 22:return kf(e,t,l,t.pendingProps);case 24:return ri(t),s=st(Ze),e===null?(f=As(),f===null&&(f=Ve,m=Cs(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),t.memoizedState={parent:s,cache:f},bs(t),Rn(t,Ze,f)):((e.lanes&l)!==0&&(Ms(e,t),Ul(t,null,null,l),Il()),f=e.memoizedState,m=t.memoizedState,f.parent!==s?(f={parent:s,cache:s},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Rn(t,Ze,s)):(s=m.cache,Rn(t,Ze,s),s!==f.cache&&Es(t,[Ze],l,!0))),rt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function dn(e){e.flags|=4}function ur(e,t,l,s,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Cd())e.flags|=8192;else throw fi=Lo,Ns}else e.flags&=-16777217}function $f(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dm(t))if(Cd())e.flags|=8192;else throw fi=Lo,Ns}function $o(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ru():536870912,e.lanes|=t,Qi|=t)}function Pl(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function hy(e,t,l){var s=t.pendingProps;switch(ys(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),rn(Ze),Q(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?dn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ts())),Be(t),null;case 26:var f=t.type,m=t.memoizedState;return e===null?(dn(t),m!==null?(Be(t),$f(t,m)):(Be(t),ur(t,f,null,s,l))):m?m!==e.memoizedState?(dn(t),Be(t),$f(t,m)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&dn(t),Be(t),ur(t,f,e,s,l)),null;case 27:if(Me(t),l=ge.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Be(t),null}e=te.current,Gi(t)?Rc(t):(e=lm(f,s,l),t.stateNode=e,dn(t))}return Be(t),null;case 5:if(Me(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Be(t),null}if(m=te.current,Gi(t))Rc(t);else{var S=da(ge.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}m[ot]=t,m[ht]=s;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=m;e:switch(ut(m,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&dn(t)}}return Be(t),ur(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&dn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=ge.current,Gi(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,f=at,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[ot]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Kd(e.nodeValue,l)),e||Mn(t,!0)}else e=da(e).createTextNode(s),e[ot]=t,t.stateNode=e}return Be(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=Gi(t),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ot]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else l=Ts(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Be(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Gi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ot]=t}else ai(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),f=!1}else f=Ts(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==f&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),$o(t,t.updateQueue),Be(t),null);case 4:return Q(),e===null&&wr(t.stateNode.containerInfo),Be(t),null;case 10:return rn(t.type),Be(t),null;case 19:if(V(Xe),s=t.memoizedState,s===null)return Be(t),null;if(f=(t.flags&128)!==0,m=s.rendering,m===null)if(f)Pl(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=zo(e),m!==null){for(t.flags|=128,Pl(s,!1),e=m.updateQueue,t.updateQueue=e,$o(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)_c(l,e),l=l.sibling;return Z(Xe,Xe.current&1|2),be&&an(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Et()>na&&(t.flags|=128,f=!0,Pl(s,!1),t.lanes=4194304)}else{if(!f)if(e=zo(m),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,$o(t,e),Pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!be)return Be(t),null}else 2*Et()-s.renderingStartTime>na&&l!==536870912&&(t.flags|=128,f=!0,Pl(s,!1),t.lanes=4194304);s.isBackwards?(m.sibling=t.child,t.child=m):(e=s.last,e!==null?e.sibling=m:t.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,l=Xe.current,Z(Xe,f?l&1|2:l&1),be&&an(t,s.treeForkCount),e):(Be(t),null);case 22:case 23:return Mt(t),Is(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),l=t.updateQueue,l!==null&&$o(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&V(ui),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),rn(Ze),Be(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function gy(e,t){switch(ys(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rn(Ze),Q(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(a(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));ai()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Xe),null;case 4:return Q(),null;case 10:return rn(t.type),null;case 22:case 23:return Mt(t),Is(),e!==null&&V(ui),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rn(Ze),null;case 25:return null;default:return null}}function Wf(e,t){switch(ys(t),t.tag){case 3:rn(Ze),Q();break;case 26:case 27:case 5:Me(t);break;case 4:Q();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:V(Xe);break;case 10:rn(t.type);break;case 22:case 23:Mt(t),Is(),e!==null&&V(ui);break;case 24:rn(Ze)}}function Vl(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==f)}}catch(C){qe(t,t.return,C)}}function qn(e,t,l){try{var s=t.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var m=f.next;s=m;do{if((s.tag&e)===e){var S=s.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,f=t;var A=l,U=C;try{U()}catch(z){qe(f,A,z)}}}s=s.next}while(s!==m)}}catch(z){qe(t,t.return,z)}}function jf(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Bc(t,l)}catch(s){qe(e,e.return,s)}}}function ed(e,t,l){l.props=pi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){qe(e,t,s)}}function kl(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){qe(e,t,f)}}function jt(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){qe(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){qe(e,t,f)}else l.current=null}function td(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){qe(e,e.return,f)}}function cr(e,t,l){try{var s=e.stateNode;zy(s,e.type,l,t),s[ht]=t}catch(f){qe(e,e.return,f)}}function nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bn(e.type)||e.tag===4}function fr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=nn));else if(s!==4&&(s===27&&Bn(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(dr(e,t,l),e=e.sibling;e!==null;)dr(e,t,l),e=e.sibling}function Wo(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Bn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Wo(e,t,l),e=e.sibling;e!==null;)Wo(e,t,l),e=e.sibling}function id(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);ut(t,s,l),t[ot]=e,t[ht]=l}catch(m){qe(e,e.return,m)}}var mn=!1,je=!1,mr=!1,ld=typeof WeakSet=="function"?WeakSet:Set,it=null;function yy(e,t){if(e=e.containerInfo,Lr=Ta,e=hc(e),as(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,C=-1,A=-1,U=0,z=0,k=e,L=null;t:for(;;){for(var G;k!==l||f!==0&&k.nodeType!==3||(C=S+f),k!==m||s!==0&&k.nodeType!==3||(A=S+s),k.nodeType===3&&(S+=k.nodeValue.length),(G=k.firstChild)!==null;)L=k,k=G;for(;;){if(k===e)break t;if(L===l&&++U===f&&(C=S),L===m&&++z===s&&(A=S),(G=k.nextSibling)!==null)break;k=L,L=k.parentNode}k=G}l=C===-1||A===-1?null:{start:C,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(qr={focusedElem:e,selectionRange:l},Ta=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,m=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=t,f=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var le=pi(l.type,f);e=s.getSnapshotBeforeUpdate(le,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(fe){qe(l,l.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)zr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function od(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:hn(e,l),s&4&&Vl(5,l);break;case 1:if(hn(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(S){qe(l,l.return,S)}else{var f=pi(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){qe(l,l.return,S)}}s&64&&jf(l),s&512&&kl(l,l.return);break;case 3:if(hn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Bc(e,t)}catch(S){qe(l,l.return,S)}}break;case 27:t===null&&s&4&&id(l);case 26:case 5:hn(e,l),t===null&&s&4&&td(l),s&512&&kl(l,l.return);break;case 12:hn(e,l);break;case 31:hn(e,l),s&4&&rd(e,l);break;case 13:hn(e,l),s&4&&ud(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Ny.bind(null,l),Jy(e,l))));break;case 22:if(s=l.memoizedState!==null||mn,!s){t=t!==null&&t.memoizedState!==null||je,f=mn;var m=je;mn=s,(je=t)&&!m?gn(e,l,(l.subtreeFlags&8772)!==0):hn(e,l),mn=f,je=m}break;case 30:break;default:hn(e,l)}}function ad(e){var t=e.alternate;t!==null&&(e.alternate=null,ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,yt=!1;function pn(e,t,l){for(l=l.child;l!==null;)sd(e,t,l),l=l.sibling}function sd(e,t,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(fl,l)}catch{}switch(l.tag){case 26:je||jt(l,t),pn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:je||jt(l,t);var s=Oe,f=yt;Bn(l.type)&&(Oe=l.stateNode,yt=!1),pn(e,t,l),Zl(l.stateNode),Oe=s,yt=f;break;case 5:je||jt(l,t);case 6:if(s=Oe,f=yt,Oe=null,pn(e,t,l),Oe=s,yt=f,Oe!==null)if(yt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(l.stateNode)}catch(m){qe(l,t,m)}else try{Oe.removeChild(l.stateNode)}catch(m){qe(l,t,m)}break;case 18:Oe!==null&&(yt?(e=Oe,jd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),il(e)):jd(Oe,l.stateNode));break;case 4:s=Oe,f=yt,Oe=l.stateNode.containerInfo,yt=!0,pn(e,t,l),Oe=s,yt=f;break;case 0:case 11:case 14:case 15:qn(2,l,t),je||qn(4,l,t),pn(e,t,l);break;case 1:je||(jt(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&ed(l,t,s)),pn(e,t,l);break;case 21:pn(e,t,l);break;case 22:je=(s=je)||l.memoizedState!==null,pn(e,t,l),je=s;break;default:pn(e,t,l)}}function rd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{il(e)}catch(l){qe(t,t.return,l)}}}function ud(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{il(e)}catch(l){qe(t,t.return,l)}}function vy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ld),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ld),t;default:throw Error(a(435,e.tag))}}function jo(e,t){var l=vy(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var f=by.bind(null,e,s);s.then(f,f)}})}function vt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],m=e,S=t,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Bn(C.type)){Oe=C.stateNode,yt=!1;break e}break;case 5:Oe=C.stateNode,yt=!1;break e;case 3:case 4:Oe=C.stateNode.containerInfo,yt=!0;break e}C=C.return}if(Oe===null)throw Error(a(160));sd(m,S,f),Oe=null,yt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}var Xt=null;function cd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),Tt(e),s&4&&(qn(3,e,e.return),Vl(3,e),qn(5,e,e.return));break;case 1:vt(t,e),Tt(e),s&512&&(je||l===null||jt(l,l.return)),s&64&&mn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=Xt;if(vt(t,e),Tt(e),s&512&&(je||l===null||jt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":m=f.getElementsByTagName("title")[0],(!m||m[pl]||m[ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(s),f.head.insertBefore(m,f.querySelector("head > title"))),ut(m,s,l),m[ot]=e,nt(m),s=m;break e;case"link":var S=cm("link","href",f).get(s+(l.href||""));if(S){for(var C=0;C<S.length;C++)if(m=S[C],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(C,1);break t}}m=f.createElement(s),ut(m,s,l),f.head.appendChild(m);break;case"meta":if(S=cm("meta","content",f).get(s+(l.content||""))){for(C=0;C<S.length;C++)if(m=S[C],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(C,1);break t}}m=f.createElement(s),ut(m,s,l),f.head.appendChild(m);break;default:throw Error(a(468,s))}m[ot]=e,nt(m),s=m}e.stateNode=s}else fm(f,e.type,e.stateNode);else e.stateNode=um(f,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?fm(f,e.type,e.stateNode):um(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&cr(e,e.memoizedProps,l.memoizedProps)}break;case 27:vt(t,e),Tt(e),s&512&&(je||l===null||jt(l,l.return)),l!==null&&s&4&&cr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(vt(t,e),Tt(e),s&512&&(je||l===null||jt(l,l.return)),e.flags&32){f=e.stateNode;try{Ni(f,"")}catch(le){qe(e,e.return,le)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,cr(e,f,l!==null?l.memoizedProps:f)),s&1024&&(mr=!0);break;case 6:if(vt(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(le){qe(e,e.return,le)}}break;case 3:if(ha=null,f=Xt,Xt=ma(t.containerInfo),vt(t,e),Xt=f,Tt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{il(t.containerInfo)}catch(le){qe(e,e.return,le)}mr&&(mr=!1,fd(e));break;case 4:s=Xt,Xt=ma(e.stateNode.containerInfo),vt(t,e),Tt(e),Xt=s;break;case 12:vt(t,e),Tt(e);break;case 31:vt(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 13:vt(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ta=Et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,U=mn,z=je;if(mn=U||f,je=z||A,vt(t,e),je=z,mn=U,Tt(e),s&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(l===null||A||mn||je||hi(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){A=l=t;try{if(m=A.stateNode,f)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=A.stateNode;var k=A.memoizedProps.style,L=k!=null&&k.hasOwnProperty("display")?k.display:null;C.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(le){qe(A,A.return,le)}}}else if(t.tag===6){if(l===null){A=t;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(le){qe(A,A.return,le)}}}else if(t.tag===18){if(l===null){A=t;try{var G=A.stateNode;f?em(G,!0):em(A.stateNode,!1)}catch(le){qe(A,A.return,le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,jo(e,l))));break;case 19:vt(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jo(e,s)));break;case 30:break;case 21:break;default:vt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(nd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,m=fr(e);Wo(e,m,f);break;case 5:var S=l.stateNode;l.flags&32&&(Ni(S,""),l.flags&=-33);var C=fr(e);Wo(e,C,S);break;case 3:case 4:var A=l.stateNode.containerInfo,U=fr(e);dr(e,U,A);break;default:throw Error(a(161))}}catch(z){qe(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)od(e,t.alternate,t),t=t.sibling}function hi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qn(4,t,t.return),hi(t);break;case 1:jt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&ed(t,t.return,l),hi(t);break;case 27:Zl(t.stateNode);case 26:case 5:jt(t,t.return),hi(t);break;case 22:t.memoizedState===null&&hi(t);break;case 30:hi(t);break;default:hi(t)}e=e.sibling}}function gn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,f=e,m=t,S=m.flags;switch(m.tag){case 0:case 11:case 15:gn(f,m,l),Vl(4,m);break;case 1:if(gn(f,m,l),s=m,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){qe(s,s.return,U)}if(s=m,f=s.updateQueue,f!==null){var C=s.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)kc(A[f],C)}catch(U){qe(s,s.return,U)}}l&&S&64&&jf(m),kl(m,m.return);break;case 27:id(m);case 26:case 5:gn(f,m,l),l&&s===null&&S&4&&td(m),kl(m,m.return);break;case 12:gn(f,m,l);break;case 31:gn(f,m,l),l&&S&4&&rd(f,m);break;case 13:gn(f,m,l),l&&S&4&&ud(f,m);break;case 22:m.memoizedState===null&&gn(f,m,l),kl(m,m.return);break;case 30:break;default:gn(f,m,l)}t=t.sibling}}function pr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&bl(l))}function hr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e))}function Qt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dd(e,t,l,s),t=t.sibling}function dd(e,t,l,s){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Qt(e,t,l,s),f&2048&&Vl(9,t);break;case 1:Qt(e,t,l,s);break;case 3:Qt(e,t,l,s),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e)));break;case 12:if(f&2048){Qt(e,t,l,s),e=t.stateNode;try{var m=t.memoizedProps,S=m.id,C=m.onPostCommit;typeof C=="function"&&C(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){qe(t,t.return,A)}}else Qt(e,t,l,s);break;case 31:Qt(e,t,l,s);break;case 13:Qt(e,t,l,s);break;case 23:break;case 22:m=t.stateNode,S=t.alternate,t.memoizedState!==null?m._visibility&2?Qt(e,t,l,s):Bl(e,t):m._visibility&2?Qt(e,t,l,s):(m._visibility|=2,Ji(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),f&2048&&pr(S,t);break;case 24:Qt(e,t,l,s),f&2048&&hr(t.alternate,t);break;default:Qt(e,t,l,s)}}function Ji(e,t,l,s,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var m=e,S=t,C=l,A=s,U=S.flags;switch(S.tag){case 0:case 11:case 15:Ji(m,S,C,A,f),Vl(8,S);break;case 23:break;case 22:var z=S.stateNode;S.memoizedState!==null?z._visibility&2?Ji(m,S,C,A,f):Bl(m,S):(z._visibility|=2,Ji(m,S,C,A,f)),f&&U&2048&&pr(S.alternate,S);break;case 24:Ji(m,S,C,A,f),f&&U&2048&&hr(S.alternate,S);break;default:Ji(m,S,C,A,f)}t=t.sibling}}function Bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,f=s.flags;switch(s.tag){case 22:Bl(l,s),f&2048&&pr(s.alternate,s);break;case 24:Bl(l,s),f&2048&&hr(s.alternate,s);break;default:Bl(l,s)}t=t.sibling}}var Fl=8192;function Ki(e,t,l){if(e.subtreeFlags&Fl)for(e=e.child;e!==null;)md(e,t,l),e=e.sibling}function md(e,t,l){switch(e.tag){case 26:Ki(e,t,l),e.flags&Fl&&e.memoizedState!==null&&lv(l,Xt,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,t,l);break;case 3:case 4:var s=Xt;Xt=ma(e.stateNode.containerInfo),Ki(e,t,l),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Fl,Fl=16777216,Ki(e,t,l),Fl=s):Ki(e,t,l));break;default:Ki(e,t,l)}}function pd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ol(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];it=s,gd(s,e)}pd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hd(e),e=e.sibling}function hd(e){switch(e.tag){case 0:case 11:case 15:Ol(e),e.flags&2048&&qn(9,e,e.return);break;case 3:Ol(e);break;case 12:Ol(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ea(e)):Ol(e);break;default:Ol(e)}}function ea(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];it=s,gd(s,e)}pd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qn(8,t,t.return),ea(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ea(t));break;default:ea(t)}e=e.sibling}}function gd(e,t){for(;it!==null;){var l=it;switch(l.tag){case 0:case 11:case 15:qn(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:bl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,it=s;else e:for(l=e;it!==null;){s=it;var f=s.sibling,m=s.return;if(ad(s),s===l){it=null;break e}if(f!==null){f.return=m,it=f;break e}it=m}}}var Ty={getCacheForType:function(e){var t=st(Ze),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return st(Ze).controller.signal}},Sy=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ve=null,Ce=null,Ae=0,Le=0,Rt=null,Gn=!1,Xi=!1,gr=!1,yn=0,Je=0,Hn=0,gi=0,yr=0,Dt=0,Qi=0,Yl=null,St=null,vr=!1,ta=0,yd=0,na=1/0,ia=null,zn=null,tt=0,Pn=null,Zi=null,vn=0,Tr=0,Sr=null,vd=null,Jl=0,xr=null;function wt(){return(Ue&2)!==0&&Ae!==0?Ae&-Ae:q.T!==null?br():Uu()}function Td(){if(Dt===0)if((Ae&536870912)===0||be){var e=co;co<<=1,(co&3932160)===0&&(co=262144),Dt=e}else Dt=536870912;return e=bt.current,e!==null&&(e.flags|=32),Dt}function xt(e,t,l){(e===Ve&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&($i(e,0),Vn(e,Ae,Dt,!1)),ml(e,l),((Ue&2)===0||e!==Ve)&&(e===Ve&&((Ue&2)===0&&(gi|=l),Je===4&&Vn(e,Ae,Dt,!1)),en(e))}function Sd(e,t,l){if((Ue&6)!==0)throw Error(a(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||dl(e,t),f=s?Cy(e,t):Cr(e,t,!0),m=s;do{if(f===0){Xi&&!s&&Vn(e,t,0,!1);break}else{if(l=e.current.alternate,m&&!xy(l)){f=Cr(e,t,!1),m=!1;continue}if(f===2){if(m=t,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var C=e;f=Yl;var A=C.current.memoizedState.isDehydrated;if(A&&($i(C,S).flags|=256),S=Cr(C,S,!1),S!==2){if(gr&&!A){C.errorRecoveryDisabledLanes|=m,gi|=m,f=4;break e}m=St,St=f,m!==null&&(St===null?St=m:St.push.apply(St,m))}f=S}if(m=!1,f!==2)continue}}if(f===1){$i(e,0),Vn(e,t,0,!0);break}e:{switch(s=e,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Vn(s,t,Dt,!Gn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(f=ta+300-Et(),10<f)){if(Vn(s,t,Dt,!Gn),mo(s,0,!0)!==0)break e;vn=t,s.timeoutHandle=$d(xd.bind(null,s,l,St,ia,vr,t,Dt,gi,Qi,Gn,m,"Throttled",-0,0),f);break e}xd(s,l,St,ia,vr,t,Dt,gi,Qi,Gn,m,null,-0,0)}}break}while(!0);en(e)}function xd(e,t,l,s,f,m,S,C,A,U,z,k,L,G){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},md(t,m,k);var le=(m&62914560)===m?ta-Et():(m&4194048)===m?yd-Et():0;if(le=ov(k,le),le!==null){vn=m,e.cancelPendingCommit=le(Rd.bind(null,e,t,m,l,s,f,S,C,A,z,k,null,L,G)),Vn(e,m,S,!U);return}}Rd(e,t,m,l,s,f,S,C,A)}function xy(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],m=f.getSnapshot;f=f.value;try{if(!At(m(),f))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t,l,s){t&=~yr,t&=~gi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var f=t;0<f;){var m=31-_t(f),S=1<<m;s[m]=-1,f&=~S}l!==0&&Du(e,l,t)}function la(){return(Ue&6)===0?(Kl(0),!1):!0}function Er(){if(Ce!==null){if(Le===0)var e=Ce.return;else e=Ce,sn=si=null,zs(e),ki=null,Rl=0,e=Ce;for(;e!==null;)Wf(e.alternate,e),e=e.return;Ce=null}}function $i(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ky(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),vn=0,Er(),Ve=e,Ce=l=on(e.current,null),Ae=t,Le=0,Rt=null,Gn=!1,Xi=dl(e,t),gr=!1,Qi=Dt=yr=gi=Hn=Je=0,St=Yl=null,vr=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var f=31-_t(s),m=1<<f;t|=e[f],s&=~m}return yn=t,Ao(),l}function Ed(e,t){ve=null,q.H=Hl,t===Vi||t===Uo?(t=Hc(),Le=3):t===Ns?(t=Hc(),Le=4):Le=t===er?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,Ce===null&&(Je=1,Ko(e,Ht(t,e.current)))}function Cd(){var e=bt.current;return e===null?!0:(Ae&4194048)===Ae?kt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===kt:!1}function _d(){var e=q.H;return q.H=Hl,e===null?Hl:e}function Ad(){var e=q.A;return q.A=Ty,e}function oa(){Je=4,Gn||(Ae&4194048)!==Ae&&bt.current!==null||(Xi=!0),(Hn&134217727)===0&&(gi&134217727)===0||Ve===null||Vn(Ve,Ae,Dt,!1)}function Cr(e,t,l){var s=Ue;Ue|=2;var f=_d(),m=Ad();(Ve!==e||Ae!==t)&&(ia=null,$i(e,t)),t=!1;var S=Je;e:do try{if(Le!==0&&Ce!==null){var C=Ce,A=Rt;switch(Le){case 8:Er(),S=6;break e;case 3:case 2:case 9:case 6:bt.current===null&&(t=!0);var U=Le;if(Le=0,Rt=null,Wi(e,C,A,U),l&&Xi){S=0;break e}break;default:U=Le,Le=0,Rt=null,Wi(e,C,A,U)}}Ey(),S=Je;break}catch(z){Ed(e,z)}while(!0);return t&&e.shellSuspendCounter++,sn=si=null,Ue=s,q.H=f,q.A=m,Ce===null&&(Ve=null,Ae=0,Ao()),S}function Ey(){for(;Ce!==null;)Nd(Ce)}function Cy(e,t){var l=Ue;Ue|=2;var s=_d(),f=Ad();Ve!==e||Ae!==t?(ia=null,na=Et()+500,$i(e,t)):Xi=dl(e,t);e:do try{if(Le!==0&&Ce!==null){t=Ce;var m=Rt;t:switch(Le){case 1:Le=0,Rt=null,Wi(e,t,m,1);break;case 2:case 9:if(qc(m)){Le=0,Rt=null,bd(t);break}t=function(){Le!==2&&Le!==9||Ve!==e||(Le=7),en(e)},m.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:qc(m)?(Le=0,Rt=null,bd(t)):(Le=0,Rt=null,Wi(e,t,m,7));break;case 5:var S=null;switch(Ce.tag){case 26:S=Ce.memoizedState;case 5:case 27:var C=Ce;if(S?dm(S):C.stateNode.complete){Le=0,Rt=null;var A=C.sibling;if(A!==null)Ce=A;else{var U=C.return;U!==null?(Ce=U,aa(U)):Ce=null}break t}}Le=0,Rt=null,Wi(e,t,m,5);break;case 6:Le=0,Rt=null,Wi(e,t,m,6);break;case 8:Er(),Je=6;break e;default:throw Error(a(462))}}_y();break}catch(z){Ed(e,z)}while(!0);return sn=si=null,q.H=s,q.A=f,Ue=l,Ce!==null?0:(Ve=null,Ae=0,Ao(),Je)}function _y(){for(;Ce!==null&&!Kh();)Nd(Ce)}function Nd(e){var t=Zf(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?aa(e):Ce=t}function bd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Of(l,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Of(l,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:zs(t);default:Wf(l,t),t=Ce=_c(t,yn),t=Zf(l,t,yn)}e.memoizedProps=e.pendingProps,t===null?aa(e):Ce=t}function Wi(e,t,l,s){sn=si=null,zs(t),ki=null,Rl=0;var f=t.return;try{if(dy(e,f,t,l,Ae)){Je=1,Ko(e,Ht(l,e.current)),Ce=null;return}}catch(m){if(f!==null)throw Ce=f,m;Je=1,Ko(e,Ht(l,e.current)),Ce=null;return}t.flags&32768?(be||s===1?e=!0:Xi||(Ae&536870912)!==0?e=!1:(Gn=e=!0,(s===2||s===9||s===3||s===6)&&(s=bt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Md(t,e)):aa(t)}function aa(e){var t=e;do{if((t.flags&32768)!==0){Md(t,Gn);return}e=t.return;var l=hy(t.alternate,t,yn);if(l!==null){Ce=l;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Je===0&&(Je=5)}function Md(e,t){do{var l=gy(e.alternate,e);if(l!==null){l.flags&=32767,Ce=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=l}while(e!==null);Je=6,Ce=null}function Rd(e,t,l,s,f,m,S,C,A){e.cancelPendingCommit=null;do sa();while(tt!==0);if((Ue&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(m=t.lanes|t.childLanes,m|=fs,ig(e,l,m,S,C,A),e===Ve&&(Ce=Ve=null,Ae=0),Zi=t,Pn=e,vn=l,Tr=m,Sr=f,vd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,My(ro,function(){return Ld(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=q.T,q.T=null,f=J.p,J.p=2,S=Ue,Ue|=4;try{yy(e,t,l)}finally{Ue=S,J.p=f,q.T=s}}tt=1,Dd(),wd(),Id()}}function Dd(){if(tt===1){tt=0;var e=Pn,t=Zi,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var s=J.p;J.p=2;var f=Ue;Ue|=4;try{cd(t,e);var m=qr,S=hc(e.containerInfo),C=m.focusedElem,A=m.selectionRange;if(S!==C&&C&&C.ownerDocument&&pc(C.ownerDocument.documentElement,C)){if(A!==null&&as(C)){var U=A.start,z=A.end;if(z===void 0&&(z=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(z,C.value.length);else{var k=C.ownerDocument||document,L=k&&k.defaultView||window;if(L.getSelection){var G=L.getSelection(),le=C.textContent.length,fe=Math.min(A.start,le),Pe=A.end===void 0?fe:Math.min(A.end,le);!G.extend&&fe>Pe&&(S=Pe,Pe=fe,fe=S);var R=mc(C,fe),N=mc(C,Pe);if(R&&N&&(G.rangeCount!==1||G.anchorNode!==R.node||G.anchorOffset!==R.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var I=k.createRange();I.setStart(R.node,R.offset),G.removeAllRanges(),fe>Pe?(G.addRange(I),G.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),G.addRange(I))}}}}for(k=[],G=C;G=G.parentNode;)G.nodeType===1&&k.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<k.length;C++){var P=k[C];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Ta=!!Lr,qr=Lr=null}finally{Ue=f,J.p=s,q.T=l}}e.current=t,tt=2}}function wd(){if(tt===2){tt=0;var e=Pn,t=Zi,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var s=J.p;J.p=2;var f=Ue;Ue|=4;try{od(e,t.alternate,t)}finally{Ue=f,J.p=s,q.T=l}}tt=3}}function Id(){if(tt===4||tt===3){tt=0,Xh();var e=Pn,t=Zi,l=vn,s=vd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Zi=Pn=null,Ud(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(zn=null),ka(l),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=q.T,f=J.p,J.p=2,q.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var C=s[S];m(C.value,{componentStack:C.stack})}}finally{q.T=t,J.p=f}}(vn&3)!==0&&sa(),en(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===xr?Jl++:(Jl=0,xr=e):Jl=0,Kl(0)}}function Ud(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bl(t)))}function sa(){return Dd(),wd(),Id(),Ld()}function Ld(){if(tt!==5)return!1;var e=Pn,t=Tr;Tr=0;var l=ka(vn),s=q.T,f=J.p;try{J.p=32>l?32:l,q.T=null,l=Sr,Sr=null;var m=Pn,S=vn;if(tt=0,Zi=Pn=null,vn=0,(Ue&6)!==0)throw Error(a(331));var C=Ue;if(Ue|=4,hd(m.current),dd(m,m.current,S,l),Ue=C,Kl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(fl,m)}catch{}return!0}finally{J.p=f,q.T=s,Ud(e,t)}}function qd(e,t,l){t=Ht(l,t),t=js(e.stateNode,t,2),e=In(e,t,2),e!==null&&(ml(e,2),en(e))}function qe(e,t,l){if(e.tag===3)qd(e,e,l);else for(;t!==null;){if(t.tag===3){qd(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zn===null||!zn.has(s))){e=Ht(l,e),l=Gf(2),s=In(t,l,2),s!==null&&(Hf(l,s,t,e),ml(s,2),en(s));break}}t=t.return}}function _r(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Sy;var f=new Set;s.set(t,f)}else f=s.get(t),f===void 0&&(f=new Set,s.set(t,f));f.has(l)||(gr=!0,f.add(l),e=Ay.bind(null,e,t,l),t.then(e,e))}function Ay(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ve===e&&(Ae&l)===l&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>Et()-ta?(Ue&2)===0&&$i(e,0):yr|=l,Qi===Ae&&(Qi=0)),en(e)}function Gd(e,t){t===0&&(t=Ru()),e=li(e,t),e!==null&&(ml(e,t),en(e))}function Ny(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Gd(e,l)}function by(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),Gd(e,l)}function My(e,t){return Ha(e,t)}var ra=null,ji=null,Ar=!1,ua=!1,Nr=!1,kn=0;function en(e){e!==ji&&e.next===null&&(ji===null?ra=ji=e:ji=ji.next=e),ua=!0,Ar||(Ar=!0,Dy())}function Kl(e,t){if(!Nr&&ua){Nr=!0;do for(var l=!1,s=ra;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var m=0;else{var S=s.suspendedLanes,C=s.pingedLanes;m=(1<<31-_t(42|e)+1)-1,m&=f&~(S&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Vd(s,m))}else m=Ae,m=mo(s,s===Ve?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||dl(s,m)||(l=!0,Vd(s,m));s=s.next}while(l);Nr=!1}}function Ry(){Hd()}function Hd(){ua=Ar=!1;var e=0;kn!==0&&Vy()&&(e=kn);for(var t=Et(),l=null,s=ra;s!==null;){var f=s.next,m=zd(s,t);m===0?(s.next=null,l===null?ra=f:l.next=f,f===null&&(ji=l)):(l=s,(e!==0||(m&3)!==0)&&(ua=!0)),s=f}tt!==0&&tt!==5||Kl(e),kn!==0&&(kn=0)}function zd(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-_t(m),C=1<<S,A=f[S];A===-1?((C&l)===0||(C&s)!==0)&&(f[S]=ng(C,t)):A<=t&&(e.expiredLanes|=C),m&=~C}if(t=Ve,l=Ae,l=mo(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&za(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||dl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&za(s),ka(l)){case 2:case 8:l=bu;break;case 32:l=ro;break;case 268435456:l=Mu;break;default:l=ro}return s=Pd.bind(null,e),l=Ha(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&za(s),e.callbackPriority=2,e.callbackNode=null,2}function Pd(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(sa()&&e.callbackNode!==l)return null;var s=Ae;return s=mo(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Sd(e,s,t),zd(e,Et()),e.callbackNode!=null&&e.callbackNode===l?Pd.bind(null,e):null)}function Vd(e,t){if(sa())return null;Sd(e,t,!0)}function Dy(){By(function(){(Ue&6)!==0?Ha(Nu,Ry):Hd()})}function br(){if(kn===0){var e=zi;e===0&&(e=uo,uo<<=1,(uo&261888)===0&&(uo=256)),kn=e}return kn}function kd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yo(""+e)}function Bd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function wy(e,t,l,s,f){if(t==="submit"&&l&&l.stateNode===f){var m=kd((f[ht]||null).action),S=s.submitter;S&&(t=(t=S[ht]||null)?kd(t.formAction):S.getAttribute("formAction"),t!==null&&(m=t,S=null));var C=new xo("action","action",null,s,f);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(kn!==0){var A=S?Bd(f,S):new FormData(f);Ks(l,{pending:!0,data:A,method:f.method,action:m},null,A)}}else typeof m=="function"&&(C.preventDefault(),A=S?Bd(f,S):new FormData(f),Ks(l,{pending:!0,data:A,method:f.method,action:m},m,A))},currentTarget:f}]})}}for(var Mr=0;Mr<cs.length;Mr++){var Rr=cs[Mr],Iy=Rr.toLowerCase(),Uy=Rr[0].toUpperCase()+Rr.slice(1);Kt(Iy,"on"+Uy)}Kt(vc,"onAnimationEnd"),Kt(Tc,"onAnimationIteration"),Kt(Sc,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(Qg,"onTransitionRun"),Kt(Zg,"onTransitionStart"),Kt($g,"onTransitionCancel"),Kt(xc,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function Fd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var m=void 0;if(t)for(var S=s.length-1;0<=S;S--){var C=s[S],A=C.instance,U=C.currentTarget;if(C=C.listener,A!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=U;try{m(f)}catch(z){_o(z)}f.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(C=s[S],A=C.instance,U=C.currentTarget,C=C.listener,A!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=U;try{m(f)}catch(z){_o(z)}f.currentTarget=null,m=A}}}}function _e(e,t){var l=t[Ba];l===void 0&&(l=t[Ba]=new Set);var s=e+"__bubble";l.has(s)||(Od(t,e,2,!1),l.add(s))}function Dr(e,t,l){var s=0;t&&(s|=4),Od(l,e,s,t)}var ca="_reactListening"+Math.random().toString(36).slice(2);function wr(e){if(!e[ca]){e[ca]=!0,Gu.forEach(function(l){l!=="selectionchange"&&(Ly.has(l)||Dr(l,!1,e),Dr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ca]||(t[ca]=!0,Dr("selectionchange",!1,t))}}function Od(e,t,l,s){switch(Tm(t)){case 2:var f=rv;break;case 8:f=uv;break;default:f=Jr}l=f.bind(null,t,l,e),f=void 0,!$a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(t,l,{capture:!0,passive:f}):e.addEventListener(t,l,!0):f!==void 0?e.addEventListener(t,l,{passive:f}):e.addEventListener(t,l,!1)}function Ir(e,t,l,s,f){var m=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var C=s.stateNode.containerInfo;if(C===f)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;C!==null;){if(S=xi(C),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}C=C.parentNode}}s=s.return}Xu(function(){var U=m,z=Qa(l),k=[];e:{var L=Ec.get(e);if(L!==void 0){var G=xo,le=e;switch(e){case"keypress":if(To(l)===0)break e;case"keydown":case"keyup":G=bg;break;case"focusin":le="focus",G=ts;break;case"focusout":le="blur",G=ts;break;case"beforeblur":case"afterblur":G=ts;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Dg;break;case vc:case Tc:case Sc:G=vg;break;case xc:G=Ig;break;case"scroll":case"scrollend":G=mg;break;case"wheel":G=Lg;break;case"copy":case"cut":case"paste":G=Sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ju;break;case"toggle":case"beforetoggle":G=Gg}var fe=(t&4)!==0,Pe=!fe&&(e==="scroll"||e==="scrollend"),R=fe?L!==null?L+"Capture":null:L;fe=[];for(var N=U,I;N!==null;){var P=N;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||R===null||(P=gl(N,R),P!=null&&fe.push(Ql(N,P,I))),Pe)break;N=N.return}0<fe.length&&(L=new G(L,le,null,l,z),k.push({event:L,listeners:fe}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",L&&l!==Xa&&(le=l.relatedTarget||l.fromElement)&&(xi(le)||le[Si]))break e;if((G||L)&&(L=z.window===z?z:(L=z.ownerDocument)?L.defaultView||L.parentWindow:window,G?(le=l.relatedTarget||l.toElement,G=U,le=le?xi(le):null,le!==null&&(Pe=d(le),fe=le.tag,le!==Pe||fe!==5&&fe!==27&&fe!==6)&&(le=null)):(G=null,le=U),G!==le)){if(fe=$u,P="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(fe=ju,P="onPointerLeave",R="onPointerEnter",N="pointer"),Pe=G==null?L:hl(G),I=le==null?L:hl(le),L=new fe(P,N+"leave",G,l,z),L.target=Pe,L.relatedTarget=I,P=null,xi(z)===U&&(fe=new fe(R,N+"enter",le,l,z),fe.target=I,fe.relatedTarget=Pe,P=fe),Pe=P,G&&le)t:{for(fe=qy,R=G,N=le,I=0,P=R;P;P=fe(P))I++;P=0;for(var re=N;re;re=fe(re))P++;for(;0<I-P;)R=fe(R),I--;for(;0<P-I;)N=fe(N),P--;for(;I--;){if(R===N||N!==null&&R===N.alternate){fe=R;break t}R=fe(R),N=fe(N)}fe=null}else fe=null;G!==null&&Yd(k,L,G,fe,!1),le!==null&&Pe!==null&&Yd(k,Pe,le,fe,!0)}}e:{if(L=U?hl(U):window,G=L.nodeName&&L.nodeName.toLowerCase(),G==="select"||G==="input"&&L.type==="file")var Re=sc;else if(oc(L))if(rc)Re=Jg;else{Re=Og;var oe=Fg}else G=L.nodeName,!G||G.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Ka(U.elementType)&&(Re=sc):Re=Yg;if(Re&&(Re=Re(e,U))){ac(k,Re,l,z);break e}oe&&oe(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Ja(L,"number",L.value)}switch(oe=U?hl(U):window,e){case"focusin":(oc(oe)||oe.contentEditable==="true")&&(Di=oe,ss=U,_l=null);break;case"focusout":_l=ss=Di=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,gc(k,l,z);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":gc(k,l,z)}var Te;if(is)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ri?ic(e,l)&&(Ne="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(ec&&l.locale!=="ko"&&(Ri||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ri&&(Te=Qu()):(An=z,Wa="value"in An?An.value:An.textContent,Ri=!0)),oe=fa(U,Ne),0<oe.length&&(Ne=new Wu(Ne,e,null,l,z),k.push({event:Ne,listeners:oe}),Te?Ne.data=Te:(Te=lc(l),Te!==null&&(Ne.data=Te)))),(Te=zg?Pg(e,l):Vg(e,l))&&(Ne=fa(U,"onBeforeInput"),0<Ne.length&&(oe=new Wu("onBeforeInput","beforeinput",null,l,z),k.push({event:oe,listeners:Ne}),oe.data=Te)),wy(k,e,U,l,z)}Fd(k,t)})}function Ql(e,t,l){return{instance:e,listener:t,currentTarget:l}}function fa(e,t){for(var l=t+"Capture",s=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=gl(e,l),f!=null&&s.unshift(Ql(e,f,m)),f=gl(e,t),f!=null&&s.push(Ql(e,f,m))),e.tag===3)return s;e=e.return}return[]}function qy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yd(e,t,l,s,f){for(var m=t._reactName,S=[];l!==null&&l!==s;){var C=l,A=C.alternate,U=C.stateNode;if(C=C.tag,A!==null&&A===s)break;C!==5&&C!==26&&C!==27||U===null||(A=U,f?(U=gl(l,m),U!=null&&S.unshift(Ql(l,U,A))):f||(U=gl(l,m),U!=null&&S.push(Ql(l,U,A)))),l=l.return}S.length!==0&&e.push({event:t,listeners:S})}var Gy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function Jd(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Hy,"")}function Kd(e,t){return t=Jd(t),Jd(e)===t}function ze(e,t,l,s,f,m){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ni(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ni(e,""+s);break;case"className":ho(e,"class",s);break;case"tabIndex":ho(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(e,l,s);break;case"style":Ju(e,s,m);break;case"data":if(t!=="object"){ho(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=yo(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(t!=="input"&&ze(e,t,"name",f.name,f,null),ze(e,t,"formEncType",f.formEncType,f,null),ze(e,t,"formMethod",f.formMethod,f,null),ze(e,t,"formTarget",f.formTarget,f,null)):(ze(e,t,"encType",f.encType,f,null),ze(e,t,"method",f.method,f,null),ze(e,t,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=yo(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=nn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=yo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),po(e,"popover",s);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":po(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fg.get(l)||l,po(e,l,s))}}function Ur(e,t,l,s,f,m){switch(l){case"style":Ju(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ni(e,s):(typeof s=="number"||typeof s=="bigint")&&Ni(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),t=l.slice(2,f?l.length-7:void 0),m=e[ht]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(t,m,f),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):po(e,l,s)}}}function ut(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ze(e,t,m,S,l,null)}}f&&ze(e,t,"srcSet",l.srcSet,l,null),s&&ze(e,t,"src",l.src,l,null);return;case"input":_e("invalid",e);var C=m=S=f=null,A=null,U=null;for(s in l)if(l.hasOwnProperty(s)){var z=l[s];if(z!=null)switch(s){case"name":f=z;break;case"type":S=z;break;case"checked":A=z;break;case"defaultChecked":U=z;break;case"value":m=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,t));break;default:ze(e,t,s,z,l,null)}}Bu(e,m,C,A,U,S,f,!1);return;case"select":_e("invalid",e),s=S=m=null;for(f in l)if(l.hasOwnProperty(f)&&(C=l[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":S=C;break;case"multiple":s=C;default:ze(e,t,f,C,l,null)}t=m,l=S,e.multiple=!!s,t!=null?Ai(e,!!s,t,!1):l!=null&&Ai(e,!!s,l,!0);return;case"textarea":_e("invalid",e),m=f=s=null;for(S in l)if(l.hasOwnProperty(S)&&(C=l[S],C!=null))switch(S){case"value":s=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:ze(e,t,S,C,l,null)}Ou(e,s,f,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ze(e,t,A,s,l,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<Xl.length;s++)_e(Xl[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(s=l[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ze(e,t,U,s,l,null)}return;default:if(Ka(t)){for(z in l)l.hasOwnProperty(z)&&(s=l[z],s!==void 0&&Ur(e,t,z,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&ze(e,t,C,s,l,null))}function zy(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,S=null,C=null,A=null,U=null,z=null;for(G in l){var k=l[G];if(l.hasOwnProperty(G)&&k!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=k;default:s.hasOwnProperty(G)||ze(e,t,G,null,s,k)}}for(var L in s){var G=s[L];if(k=l[L],s.hasOwnProperty(L)&&(G!=null||k!=null))switch(L){case"type":m=G;break;case"name":f=G;break;case"checked":U=G;break;case"defaultChecked":z=G;break;case"value":S=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,t));break;default:G!==k&&ze(e,t,L,G,s,k)}}Ya(e,S,C,A,U,z,m,f);return;case"select":G=S=C=L=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":G=A;default:s.hasOwnProperty(m)||ze(e,t,m,null,s,A)}for(f in s)if(m=s[f],A=l[f],s.hasOwnProperty(f)&&(m!=null||A!=null))switch(f){case"value":L=m;break;case"defaultValue":C=m;break;case"multiple":S=m;default:m!==A&&ze(e,t,f,m,s,A)}t=C,l=S,s=G,L!=null?Ai(e,!!l,L,!1):!!s!=!!l&&(t!=null?Ai(e,!!l,t,!0):Ai(e,!!l,l?[]:"",!1));return;case"textarea":G=L=null;for(C in l)if(f=l[C],l.hasOwnProperty(C)&&f!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ze(e,t,C,null,s,f)}for(S in s)if(f=s[S],m=l[S],s.hasOwnProperty(S)&&(f!=null||m!=null))switch(S){case"value":L=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&ze(e,t,S,f,s,m)}Fu(e,L,G);return;case"option":for(var le in l)if(L=l[le],l.hasOwnProperty(le)&&L!=null&&!s.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:ze(e,t,le,null,s,L)}for(A in s)if(L=s[A],G=l[A],s.hasOwnProperty(A)&&L!==G&&(L!=null||G!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:ze(e,t,A,L,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in l)L=l[fe],l.hasOwnProperty(fe)&&L!=null&&!s.hasOwnProperty(fe)&&ze(e,t,fe,null,s,L);for(U in s)if(L=s[U],G=l[U],s.hasOwnProperty(U)&&L!==G&&(L!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,t));break;default:ze(e,t,U,L,s,G)}return;default:if(Ka(t)){for(var Pe in l)L=l[Pe],l.hasOwnProperty(Pe)&&L!==void 0&&!s.hasOwnProperty(Pe)&&Ur(e,t,Pe,void 0,s,L);for(z in s)L=s[z],G=l[z],!s.hasOwnProperty(z)||L===G||L===void 0&&G===void 0||Ur(e,t,z,L,s,G);return}}for(var R in l)L=l[R],l.hasOwnProperty(R)&&L!=null&&!s.hasOwnProperty(R)&&ze(e,t,R,null,s,L);for(k in s)L=s[k],G=l[k],!s.hasOwnProperty(k)||L===G||L==null&&G==null||ze(e,t,k,L,s,G)}function Xd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],m=f.transferSize,S=f.initiatorType,C=f.duration;if(m&&C&&Xd(S)){for(S=0,C=f.responseEnd,s+=1;s<l.length;s++){var A=l[s],U=A.startTime;if(U>C)break;var z=A.transferSize,k=A.initiatorType;z&&Xd(k)&&(A=A.responseEnd,S+=z*(A<C?1:(C-U)/(A-U)))}if(--s,t+=8*(m+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lr=null,qr=null;function da(e){return e.nodeType===9?e:e.ownerDocument}function Qd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hr=null;function Vy(){var e=window.event;return e&&e.type==="popstate"?e===Hr?!1:(Hr=e,!0):(Hr=null,!1)}var $d=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,By=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Fy)}:$d;function Fy(e){setTimeout(function(){throw e})}function Bn(e){return e==="head"}function jd(e,t){var l=t,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),il(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Zl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zl(l);for(var m=l.firstChild;m;){var S=m.nextSibling,C=m.nodeName;m[pl]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Zl(e.ownerDocument.body);l=f}while(l);il(t)}function em(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function zr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zr(l),Fa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Oy(e,t,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Bt(e.nextSibling),e===null)break}return null}function Yy(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Bt(e.nextSibling),e===null))return null;return e}function tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Bt(e.nextSibling),e===null))return null;return e}function Pr(e){return e.data==="$?"||e.data==="$~"}function Vr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Jy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var kr=null;function nm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Bt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function lm(e,t,l){switch(t=da(l),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Zl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fa(e)}var Ft=new Map,om=new Set;function ma(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=J.d;J.d={f:Ky,r:Xy,D:Qy,C:Zy,L:$y,m:Wy,X:ev,S:jy,M:tv};function Ky(){var e=Tn.f(),t=la();return e||t}function Xy(e){var t=Ei(e);t!==null&&t.tag===5&&t.type==="form"?Ef(t):Tn.r(e)}var el=typeof document>"u"?null:document;function am(e,t,l){var s=el;if(s&&typeof t=="string"&&t){var f=qt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),om.has(f)||(om.add(f),e={rel:e,crossOrigin:l,href:t},s.querySelector(f)===null&&(t=s.createElement("link"),ut(t,"link",e),nt(t),s.head.appendChild(t)))}}function Qy(e){Tn.D(e),am("dns-prefetch",e,null)}function Zy(e,t){Tn.C(e,t),am("preconnect",e,t)}function $y(e,t,l){Tn.L(e,t,l);var s=el;if(s&&e&&t){var f='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+qt(l.imageSizes)+'"]')):f+='[href="'+qt(e)+'"]';var m=f;switch(t){case"style":m=tl(e);break;case"script":m=nl(e)}Ft.has(m)||(e=x({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Ft.set(m,e),s.querySelector(f)!==null||t==="style"&&s.querySelector($l(m))||t==="script"&&s.querySelector(Wl(m))||(t=s.createElement("link"),ut(t,"link",e),nt(t),s.head.appendChild(t)))}}function Wy(e,t){Tn.m(e,t);var l=el;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',m=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=nl(e)}if(!Ft.has(m)&&(e=x({rel:"modulepreload",href:e},t),Ft.set(m,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wl(m)))return}s=l.createElement("link"),ut(s,"link",e),nt(s),l.head.appendChild(s)}}}function jy(e,t,l){Tn.S(e,t,l);var s=el;if(s&&e){var f=Ci(s).hoistableStyles,m=tl(e);t=t||"default";var S=f.get(m);if(!S){var C={loading:0,preload:null};if(S=s.querySelector($l(m)))C.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Ft.get(m))&&Br(e,l);var A=S=s.createElement("link");nt(A),ut(A,"link",e),A._p=new Promise(function(U,z){A.onload=U,A.onerror=z}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,pa(S,t,s)}S={type:"stylesheet",instance:S,count:1,state:C},f.set(m,S)}}}function ev(e,t){Tn.X(e,t);var l=el;if(l&&e){var s=Ci(l).hoistableScripts,f=nl(e),m=s.get(f);m||(m=l.querySelector(Wl(f)),m||(e=x({src:e,async:!0},t),(t=Ft.get(f))&&Fr(e,t),m=l.createElement("script"),nt(m),ut(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function tv(e,t){Tn.M(e,t);var l=el;if(l&&e){var s=Ci(l).hoistableScripts,f=nl(e),m=s.get(f);m||(m=l.querySelector(Wl(f)),m||(e=x({src:e,async:!0,type:"module"},t),(t=Ft.get(f))&&Fr(e,t),m=l.createElement("script"),nt(m),ut(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(f,m))}}function sm(e,t,l,s){var f=(f=ge.current)?ma(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=tl(l.href),l=Ci(f).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=tl(l.href);var m=Ci(f).hoistableStyles,S=m.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=f.querySelector($l(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Ft.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ft.set(e,l),m||nv(f,e,l,S.state))),t&&s===null)throw Error(a(528,""));return S}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nl(l),l=Ci(f).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function tl(e){return'href="'+qt(e)+'"'}function $l(e){return'link[rel="stylesheet"]['+e+"]"}function rm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function nv(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ut(t,"link",l),nt(t),e.head.appendChild(t))}function nl(e){return'[src="'+qt(e)+'"]'}function Wl(e){return"script[async]"+e}function um(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(l.href)+'"]');if(s)return t.instance=s,nt(s),s;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),nt(s),ut(s,"style",f),pa(s,l.precedence,e),t.instance=s;case"stylesheet":f=tl(l.href);var m=e.querySelector($l(f));if(m)return t.state.loading|=4,t.instance=m,nt(m),m;s=rm(l),(f=Ft.get(f))&&Br(s,f),m=(e.ownerDocument||e).createElement("link"),nt(m);var S=m;return S._p=new Promise(function(C,A){S.onload=C,S.onerror=A}),ut(m,"link",s),t.state.loading|=4,pa(m,l.precedence,e),t.instance=m;case"script":return m=nl(l.src),(f=e.querySelector(Wl(m)))?(t.instance=f,nt(f),f):(s=l,(f=Ft.get(m))&&(s=x({},l),Fr(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),nt(f),ut(f,"link",s),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,pa(s,l.precedence,e));return t.instance}function pa(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,m=f,S=0;S<s.length;S++){var C=s[S];if(C.dataset.precedence===t)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Br(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ha=null;function cm(e,t,l){if(ha===null){var s=new Map,f=ha=new Map;f.set(l,s)}else f=ha,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var m=l[f];if(!(m[pl]||m[ot]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(t)||"";S=e+S;var C=s.get(S);C?C.push(m):s.set(S,[m])}}return s}function fm(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function iv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lv(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=tl(s.href),m=t.querySelector($l(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ga.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=m,nt(m);return}m=t.ownerDocument||t,s=rm(s),(f=Ft.get(f))&&Br(s,f),m=m.createElement("link"),nt(m);var S=m;S._p=new Promise(function(C,A){S.onload=C,S.onerror=A}),ut(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ga.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Or=0;function ov(e,t){return e.stylesheets&&e.count===0&&va(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&va(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+t);0<e.imgBytes&&Or===0&&(Or=62500*Py());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&va(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Or?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)va(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ya=null;function va(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ya=new Map,t.forEach(av,e),ya=null,ga.call(e))}function av(e,t){if(!(t.state.loading&4)){var l=ya.get(e);if(l)var s=l.get(null);else{l=new Map,ya.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var S=f[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}f=t.instance,S=f.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,f),l.set(S,f),this.count++,s=ga.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var jl={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function sv(e,t,l,s,f,m,S,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function mm(e,t,l,s,f,m,S,C,A,U,z,k){return e=new sv(e,t,l,S,A,U,z,k,C),t=1,m===!0&&(t|=24),m=Nt(3,null,null,t),e.current=m,m.stateNode=e,t=Cs(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:t},bs(m),e}function pm(e){return e?(e=Ui,e):Ui}function hm(e,t,l,s,f,m){f=pm(f),s.context===null?s.context=f:s.pendingContext=f,s=wn(t),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=In(e,s,t),l!==null&&(xt(l,e,t),wl(l,e,t))}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Yr(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function ym(e){if(e.tag===13||e.tag===31){var t=li(e,67108864);t!==null&&xt(t,e,67108864),Yr(e,67108864)}}function vm(e){if(e.tag===13||e.tag===31){var t=wt();t=Va(t);var l=li(e,t);l!==null&&xt(l,e,t),Yr(e,t)}}var Ta=!0;function rv(e,t,l,s){var f=q.T;q.T=null;var m=J.p;try{J.p=2,Jr(e,t,l,s)}finally{J.p=m,q.T=f}}function uv(e,t,l,s){var f=q.T;q.T=null;var m=J.p;try{J.p=8,Jr(e,t,l,s)}finally{J.p=m,q.T=f}}function Jr(e,t,l,s){if(Ta){var f=Kr(s);if(f===null)Ir(e,t,s,Sa,l),Sm(e,s);else if(fv(f,e,t,l,s))s.stopPropagation();else if(Sm(e,s),t&4&&-1<cv.indexOf(e)){for(;f!==null;){var m=Ei(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=jn(m.pendingLanes);if(S!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var A=1<<31-_t(S);C.entanglements[1]|=A,S&=~A}en(m),(Ue&6)===0&&(na=Et()+500,Kl(0))}}break;case 31:case 13:C=li(m,2),C!==null&&xt(C,m,2),la(),Yr(m,2)}if(m=Kr(s),m===null&&Ir(e,t,s,Sa,l),m===f)break;f=m}f!==null&&s.stopPropagation()}else Ir(e,t,s,null,l)}}function Kr(e){return e=Qa(e),Xr(e)}var Sa=null;function Xr(e){if(Sa=null,e=xi(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=p(t),e!==null)return e;e=null}else if(l===31){if(e=h(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sa=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qh()){case Nu:return 2;case bu:return 8;case ro:case Zh:return 32;case Mu:return 268435456;default:return 32}default:return 32}}var Qr=!1,Fn=null,On=null,Yn=null,eo=new Map,to=new Map,Jn=[],cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function no(e,t,l,s,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[f]},t!==null&&(t=Ei(t),t!==null&&ym(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function fv(e,t,l,s,f){switch(t){case"focusin":return Fn=no(Fn,e,t,l,s,f),!0;case"dragenter":return On=no(On,e,t,l,s,f),!0;case"mouseover":return Yn=no(Yn,e,t,l,s,f),!0;case"pointerover":var m=f.pointerId;return eo.set(m,no(eo.get(m)||null,e,t,l,s,f)),!0;case"gotpointercapture":return m=f.pointerId,to.set(m,no(to.get(m)||null,e,t,l,s,f)),!0}return!1}function xm(e){var t=xi(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=p(l),t!==null){e.blockedOn=t,Lu(e.priority,function(){vm(l)});return}}else if(t===31){if(t=h(l),t!==null){e.blockedOn=t,Lu(e.priority,function(){vm(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Kr(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Xa=s,l.target.dispatchEvent(s),Xa=null}else return t=Ei(l),t!==null&&ym(t),e.blockedOn=l,!1;t.shift()}return!0}function Em(e,t,l){xa(e)&&l.delete(t)}function dv(){Qr=!1,Fn!==null&&xa(Fn)&&(Fn=null),On!==null&&xa(On)&&(On=null),Yn!==null&&xa(Yn)&&(Yn=null),eo.forEach(Em),to.forEach(Em)}function Ea(e,t){e.blockedOn===t&&(e.blockedOn=null,Qr||(Qr=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,dv)))}var Ca=null;function Cm(e){Ca!==e&&(Ca=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ca===e&&(Ca=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],f=e[t+2];if(typeof s!="function"){if(Xr(s||l)===null)continue;break}var m=Ei(l);m!==null&&(e.splice(t,3),t-=3,Ks(m,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function il(e){function t(A){return Ea(A,e)}Fn!==null&&Ea(Fn,e),On!==null&&Ea(On,e),Yn!==null&&Ea(Yn,e),eo.forEach(t),to.forEach(t);for(var l=0;l<Jn.length;l++){var s=Jn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)xm(l),l.blockedOn===null&&Jn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],m=l[s+1],S=f[ht]||null;if(typeof m=="function")S||Cm(l);else if(S){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,S=m[ht]||null)C=S.formAction;else if(Xr(f)!==null)continue}else C=S.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),Cm(l)}}}function _m(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function Zr(e){this._internalRoot=e}_a.prototype.render=Zr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var l=t.current,s=wt();hm(l,s,e,t,null,null)},_a.prototype.unmount=Zr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),la(),t[Si]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=Uu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Jn.length&&t!==0&&t<Jn[l].priority;l++);Jn.splice(l,0,e),l===0&&xm(e)}};var Am=n.version;if(Am!=="19.2.1")throw Error(a(527,Am,"19.2.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var mv={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{fl=Aa.inject(mv),Ct=Aa}catch{}}return lo.createRoot=function(e,t){if(!u(e))throw Error(a(299));var l=!1,s="",f=If,m=Uf,S=Lf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=mm(e,1,!1,null,null,l,s,null,f,m,S,_m),e[Si]=t.current,wr(e),new Zr(t)},lo.hydrateRoot=function(e,t,l){if(!u(e))throw Error(a(299));var s=!1,f="",m=If,S=Uf,C=Lf,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),t=mm(e,1,!0,t,l??null,s,f,A,m,S,C,_m),t.context=pm(null),l=t.current,s=wt(),s=Va(s),f=wn(s),f.callback=null,In(l,f,s),l=s,t.current.lanes=l,ml(t,l),en(t),e[Si]=t.current,wr(e),new _a(t)},lo.version="19.2.1",lo}var qm;function _v(){if(qm)return jr.exports;qm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),jr.exports=Cv(),jr.exports}var Av=_v();const Nv=ph(Av);function Xn(i,n){const[o,a]=ie.useState(()=>{try{const u=window.localStorage.getItem(i);return u?JSON.parse(u):n}catch(u){return console.error(u),n}});return ie.useEffect(()=>{try{const u=typeof o=="function"?o(o):o;window.localStorage.setItem(i,JSON.stringify(u))}catch(u){console.error(u)}},[i,o]),[o,a]}var Ke=(i=>(i.Home="Home",i.Documents="Dokumente",i.Finances="Finanzen",i.Clients="Kunden",i.Company="Firma",i))(Ke||{}),Ot=(i=>(i.Draft="Entwurf",i.Sent="Gesendet",i.Accepted="Angenommen",i.Rejected="Abgelehnt",i))(Ot||{}),et=(i=>(i.Draft="Entwurf",i.Sent="Gesendet",i.Paid="Bezahlt",i.Overdue="berfllig",i))(et||{});const xe=({path:i,className:n="w-6 h-6"})=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:n,children:y.jsx("path",{fillRule:"evenodd",d:i,clipRule:"evenodd"})}),Se={offers:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z",invoices:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z",plus:"M12 4.5v15m7.5-7.5h-15",trash:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0",pencil:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10",chevronDown:"M19.5 8.25l-7.5 7.5-7.5-7.5",chevronUp:"M4.5 15.75l7.5-7.5 7.5 7.5",sparkles:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.562L16.25 21.75l-.648-1.188a2.25 2.25 0 01-1.4-1.4L13.25 18l1.188-.648a2.25 2.25 0 011.4 1.4l.648 1.188z",dragHandle:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5",check:"M4.5 12.75l6 6 9-13.5",xMark:"M6 18L18 6M6 6l12 12",convert:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.182-3.182m0-4.991v4.99",upload:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5",email:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0a2.25 2.25 0 00-2.25-2.25h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"},ft=({label:i,value:n,name:o,onChange:a,type:u="text",isOptional:d,step:p})=>y.jsxs("div",{children:[y.jsxs("label",{htmlFor:o,className:"block text-sm font-medium text-black",children:[i," ",d&&y.jsx("span",{className:"text-black",children:"(Optional)"})]}),y.jsx("input",{type:u,id:o,name:o,value:n,onChange:a,step:p,className:"mt-1 block w-full bg-gray-200 border-gray-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500 sm:text-sm p-2 text-black"})]}),Gm=({label:i,value:n,name:o,onChange:a,rows:u=3})=>y.jsxs("div",{children:[y.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-black",children:i}),y.jsx("textarea",{id:o,name:o,value:n,onChange:a,rows:u,className:"mt-1 block w-full bg-gray-200 border-gray-300 rounded-md shadow-sm focus:ring-violet-500 focus:border-violet-500 sm:text-sm p-2 text-black"})]}),bv=({companyInfo:i,setCompanyInfo:n})=>{const[o,a]=ie.useState(i),[u,d]=ie.useState("info"),p=ie.useRef(null),h=E=>{const{name:_,value:M,type:D}=E.target,F=E.target.type==="number";a(K=>({...K,[_]:F?parseFloat(M):M}))},v=E=>{const{name:_,value:M}=E.target;a(D=>({...D,[_]:M}))},g=E=>{var M;const _=(M=E.target.files)==null?void 0:M[0];if(_){const D=new FileReader;D.onloadend=()=>{a(F=>({...F,logo:D.result}))},D.readAsDataURL(_)}},T=()=>{n(o)},x=({tab:E,label:_})=>y.jsx("button",{onClick:()=>d(E),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${u===E?"bg-white text-black border-b-2 border-violet-500":"text-gray-500 hover:text-black"}`,children:_});return y.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-black",children:"Firma & Einstellungen"}),y.jsx("button",{onClick:T,className:"px-6 py-2 bg-green-600 text-white rounded-md shadow hover:bg-green-700 transition-colors",children:"Speichern"})]}),y.jsx("div",{className:"border-b border-gray-200 mb-6",children:y.jsxs("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:[y.jsx(x,{tab:"info",label:"Stammdaten"}),y.jsx(x,{tab:"branding",label:"Branding & Layout"}),y.jsx(x,{tab:"defaults",label:"Standardwerte"}),y.jsx(x,{tab:"payments",label:"Zahlungen & E-Mail"})]})}),y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[u==="info"&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[y.jsx(ft,{label:"Firmenname",name:"name",value:o.name,onChange:h}),y.jsx(ft,{label:"Adresse",name:"address",value:o.address,onChange:h}),y.jsx(ft,{label:"Postleitzahl",name:"zip",value:o.zip,onChange:h}),y.jsx(ft,{label:"Stadt",name:"city",value:o.city,onChange:h}),y.jsx(ft,{label:"Telefon",name:"phone",value:o.phone,onChange:h}),y.jsx(ft,{label:"E-Mail",name:"email",value:o.email,onChange:h}),y.jsx(ft,{label:"Steuernummer",name:"taxNumber",value:o.taxNumber||"",onChange:h,isOptional:!0}),y.jsx("div",{className:"md:col-span-2 mt-6",children:y.jsx("h2",{className:"text-xl font-semibold text-black border-b pb-2 mb-4",children:"Bankinformationen"})}),y.jsx(ft,{label:"Kontoinhaber",name:"accountHolder",value:o.accountHolder,onChange:h}),y.jsx(ft,{label:"Bank",name:"bankName",value:o.bankName,onChange:h}),y.jsx(ft,{label:"IBAN",name:"iban",value:o.iban,onChange:h}),y.jsx(ft,{label:"BIC",name:"bic",value:o.bic,onChange:h})]}),u==="branding"&&y.jsxs("div",{className:"animate-fade-in space-y-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:"Firmenlogo"}),y.jsxs("div",{className:"flex items-center gap-6",children:[o.logo?y.jsx("img",{src:o.logo,alt:"Firmenlogo",className:"h-20 w-auto object-contain bg-gray-100 p-2 rounded"}):y.jsx("div",{className:"h-20 w-32 bg-gray-100 rounded flex items-center justify-center text-sm text-gray-500",children:"Kein Logo"}),y.jsx("input",{type:"file",accept:"image/*",onChange:g,ref:p,className:"hidden"}),y.jsxs("button",{onClick:()=>{var E;return(E=p.current)==null?void 0:E.click()},className:"px-4 py-2 bg-black text-white rounded-md shadow hover:bg-gray-800 transition-colors flex items-center gap-2",children:[y.jsx(xe,{path:Se.upload,className:"w-5 h-5"}),"Logo ndern"]}),o.logo&&y.jsx("button",{onClick:()=>a(E=>({...E,logo:""})),className:"p-2 text-red-500 hover:text-red-700",title:"Logo entfernen",children:y.jsx(xe,{path:Se.trash,className:"w-5 h-5"})})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:"Markenfarbe"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Diese Farbe wird in Kopfzeilen von Dokumenten verwendet."}),y.jsx("div",{className:"relative",children:y.jsx("input",{type:"color",name:"primaryColor",value:o.primaryColor,onChange:v,className:"w-12 h-10 p-1 border-none cursor-pointer"})}),y.jsx("span",{className:"p-2 rounded",style:{backgroundColor:o.primaryColor,color:"#fff"},children:o.primaryColor})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:"Farbe des Firmennamens"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("p",{className:"text-sm text-gray-600",children:"Wird fr den Firmennamen auf Dokumenten verwendet (wenn kein Logo gesetzt ist)."}),y.jsx("div",{className:"relative",children:y.jsx("input",{type:"color",name:"brandingTextColor",value:o.brandingTextColor||"#000000",onChange:v,className:"w-12 h-10 p-1 border-none cursor-pointer"})}),y.jsx("span",{className:"p-2 rounded",style:{backgroundColor:o.brandingTextColor,color:"#fff"},children:o.brandingTextColor})]})]})]}),u==="defaults"&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[y.jsx(ft,{label:"Standard-MwSt. (%)",name:"defaultTaxRate",type:"number",step:"0.1",value:o.defaultTaxRate,onChange:h}),y.jsx(ft,{label:"Whrungssymbol",name:"currency",value:o.currency,onChange:h}),y.jsx(ft,{label:"Prfix Rechnungsnummer",name:"invoiceNumberPrefix",value:o.invoiceNumberPrefix,onChange:h}),y.jsx(ft,{label:"Prfix Angebotsnummer",name:"offerNumberPrefix",value:o.offerNumberPrefix,onChange:h})]}),u==="payments"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:"Online-Zahlungen"}),y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:'Fgen Sie einen Link hinzu (z.B. PayPal.me), um einen "Online Bezahlen"-Button auf Rechnungen anzuzeigen.'}),y.jsx(ft,{label:"Zahlungslink",name:"onlinePaymentLink",value:o.onlinePaymentLink||"",onChange:h,isOptional:!0})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:"Zustzlicher Zahlungshinweis"}),y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Dieser Text wird auf der Rechnung ber den Bankdaten angezeigt."}),y.jsx(Gm,{label:"Hinweis-Text",name:"paymentNotice",value:o.paymentNotice||"",onChange:h,rows:2})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-2",children:"E-Mail Signatur"}),y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Diese Signatur wird automatisch in E-Mails eingefgt, die aus der App gesendet werden."}),y.jsx(Gm,{label:"Signatur",name:"emailSignature",value:o.emailSignature||"",onChange:h,rows:4})]})]})]})]})},Mv=({client:i,onSave:n,onCancel:o})=>{const[a,u]=ie.useState(i),d=h=>{const{name:v,value:g}=h.target;u(T=>({...T,[v]:g}))},p=h=>{h.preventDefault(),n(a)};return y.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-lg shadow-md mb-6 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:i.id?"Kunde bearbeiten":"Neuer Kunde"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("input",{name:"name",value:a.name,onChange:d,placeholder:"Name",className:"p-2 bg-gray-200 rounded text-black",required:!0}),y.jsx("input",{name:"email",value:a.email,onChange:d,placeholder:"E-Mail",className:"p-2 bg-gray-200 rounded text-black"}),y.jsx("input",{name:"phone",value:a.phone,onChange:d,placeholder:"Telefon",className:"p-2 bg-gray-200 rounded text-black"}),y.jsx("input",{name:"address",value:a.address,onChange:d,placeholder:"Adresse",className:"p-2 bg-gray-200 rounded text-black"}),y.jsx("input",{name:"zip",value:a.zip,onChange:d,placeholder:"PLZ",className:"p-2 bg-gray-200 rounded text-black"}),y.jsx("input",{name:"city",value:a.city,onChange:d,placeholder:"Stadt",className:"p-2 bg-gray-200 rounded text-black"})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Abbrechen"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 text-white rounded hover:bg-violet-700",children:"Speichern"})]})]})},Rv=({clients:i,setClients:n})=>{const[o,a]=ie.useState(!1),[u,d]=ie.useState(null),[p,h]=ie.useState(null),[v,g]=ie.useState(""),T=D=>{D.id?n(i.map(F=>F.id===D.id?D:F)):n([...i,{...D,id:Date.now().toString()}]),a(!1),d(null)},x=()=>{d({id:"",name:"",address:"",zip:"",city:"",phone:"",email:""}),a(!0)},E=D=>{n(i.filter(F=>F.id!==D))},_=D=>{h(p===D?null:D)},M=ie.useMemo(()=>i.filter(D=>D.name.toLowerCase().includes(v.toLowerCase())||D.email.toLowerCase().includes(v.toLowerCase())||D.city.toLowerCase().includes(v.toLowerCase())),[i,v]);return y.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-black",children:"Kunden"}),!o&&y.jsxs("button",{onClick:x,className:"px-4 py-2 bg-black text-white rounded-md shadow hover:bg-gray-800 transition-colors flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neu"})]})]}),!o&&y.jsx("div",{className:"mb-6",children:y.jsx("input",{type:"text",placeholder:"Kunden suchen...",value:v,onChange:D=>g(D.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-md shadow-sm text-black placeholder-gray-500 focus:ring-violet-500 focus:border-violet-500"})}),o&&u&&y.jsx(Mv,{client:u,onSave:T,onCancel:()=>{a(!1),d(null)}}),y.jsx("div",{className:"space-y-4",children:M.map(D=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[y.jsxs("button",{onClick:()=>_(D.id),className:"w-full text-left p-4 flex justify-between items-center hover:bg-gray-50",children:[y.jsx("span",{className:"font-semibold text-black",children:D.name}),y.jsx(xe,{path:p===D.id?Se.chevronUp:Se.chevronDown,className:"w-5 h-5 text-black"})]}),p===D.id&&y.jsxs("div",{className:"p-4 border-t border-gray-200 animate-fade-in-down",children:[y.jsx("p",{className:"text-black",children:D.address}),y.jsxs("p",{className:"text-black",children:[D.zip," ",D.city]}),y.jsxs("p",{className:"text-black",children:[y.jsx("strong",{children:"Email:"})," ",D.email]}),y.jsxs("p",{className:"text-black",children:[y.jsx("strong",{children:"Telefon:"})," ",D.phone]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{onClick:()=>{d(D),a(!0)},className:"p-2 text-black hover:text-violet-600",children:y.jsx(xe,{path:Se.pencil,className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>E(D.id),className:"p-2 text-black hover:text-red-600",children:y.jsx(xe,{path:Se.trash,className:"w-5 h-5"})})]})]})]},D.id))})]})},yu=ie.forwardRef(({invoice:i,client:n,companyInfo:o},a)=>{const u=i.items.reduce((h,v)=>h+v.quantity*v.unitPrice,0),d=u*(i.taxRate/100),p=u+d;return y.jsxs("div",{ref:a,className:"bg-white text-black",style:{width:"210mm",minHeight:"297mm",padding:"15mm 20mm",margin:"0 auto",boxSizing:"border-box",fontFamily:'"Noto Serif", Georgia, serif',fontSize:"10pt",lineHeight:"1.4"},children:[y.jsxs("div",{style:{fontSize:"7pt",marginBottom:"3mm",color:"#666"},children:[o.name,"  ",o.address,"  ",o.zip," ",o.city]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15mm"},children:[y.jsxs("div",{style:{width:"85mm"},children:[y.jsx("div",{style:{fontWeight:"bold",fontSize:"11pt",marginBottom:"2mm"},children:n.name}),y.jsx("div",{children:n.address}),y.jsxs("div",{children:[n.zip," ",n.city]})]}),y.jsxs("div",{style:{width:"85mm",textAlign:"right",fontSize:"9pt"},children:[y.jsx("div",{style:{fontWeight:"bold",fontSize:"13pt",marginBottom:"3mm",color:"#1a1a1a"},children:o.name}),y.jsx("div",{children:o.address}),y.jsxs("div",{children:[o.zip," ",o.city]}),y.jsxs("div",{style:{marginTop:"2mm"},children:["Tel: ",o.phone]}),y.jsxs("div",{children:["E-Mail: ",o.email]}),o.taxNumber&&y.jsxs("div",{children:["St.-Nr.: ",o.taxNumber]})]})]}),y.jsxs("div",{style:{marginBottom:"8mm"},children:[y.jsxs("h1",{style:{fontSize:"18pt",fontWeight:"bold",color:"#3B82F6",marginBottom:"4mm",letterSpacing:"0.5px"},children:["Rechnung #",i.invoiceNumber]}),y.jsxs("div",{style:{display:"flex",gap:"15mm",fontSize:"9pt"},children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Rechnungsdatum:"})," ",new Date(i.date).toLocaleDateString("de-DE")]}),y.jsxs("div",{children:[y.jsx("strong",{children:"Flligkeitsdatum:"})," ",new Date(i.dueDate).toLocaleDateString("de-DE")]})]})]}),y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"8mm",fontSize:"9pt"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{backgroundColor:"#3B82F6",color:"white"},children:[y.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"600",width:"50%"},children:"Beschreibung"}),y.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontWeight:"600",width:"12%"},children:"Menge"}),y.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"600",width:"18%"},children:"Einzelpreis"}),y.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"600",width:"20%"},children:"Gesamtpreis"})]})}),y.jsx("tbody",{children:i.items.map((h,v)=>y.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[y.jsx("td",{style:{padding:"5px 8px"},children:h.description}),y.jsx("td",{style:{padding:"5px 8px",textAlign:"center"},children:h.quantity}),y.jsxs("td",{style:{padding:"5px 8px",textAlign:"right"},children:[h.unitPrice.toFixed(2)," ",o.currency]}),y.jsxs("td",{style:{padding:"5px 8px",textAlign:"right",fontWeight:"500"},children:[(h.quantity*h.unitPrice).toFixed(2)," ",o.currency]})]},v))})]}),y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12mm"},children:y.jsxs("div",{style:{width:"45%",fontSize:"10pt"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #e5e7eb"},children:[y.jsx("span",{children:"Zwischensumme:"}),y.jsxs("span",{style:{fontWeight:"500"},children:[u.toFixed(2)," ",o.currency]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #e5e7eb"},children:[y.jsxs("span",{children:["zzgl. ",i.taxRate,"% MwSt.:"]}),y.jsxs("span",{style:{fontWeight:"500"},children:[d.toFixed(2)," ",o.currency]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",marginTop:"3mm",borderTop:"2px solid #3B82F6",fontSize:"13pt",fontWeight:"bold"},children:[y.jsx("span",{children:"Gesamtbetrag:"}),y.jsxs("span",{children:[p.toFixed(2)," ",o.currency]})]})]})}),y.jsxs("div",{style:{marginTop:"15mm",paddingTop:"8mm",borderTop:"1px solid #d1d5db",fontSize:"9pt"},children:[y.jsxs("p",{style:{marginBottom:"5mm",textAlign:"center",fontWeight:"500"},children:["Bitte berweisen Sie den Gesamtbetrag bis zum ",new Date(i.dueDate).toLocaleDateString("de-DE")," auf folgendes Konto:"]}),o.paymentNotice&&y.jsx("p",{style:{textAlign:"center",fontWeight:"600",marginBottom:"5mm",color:"#3B82F6"},children:o.paymentNotice}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"3mm 10mm",maxWidth:"140mm",margin:"0 auto",padding:"4mm",backgroundColor:"#f9fafb",borderRadius:"2mm"},children:[y.jsx("div",{children:y.jsx("strong",{children:"Kontoinhaber:"})}),y.jsx("div",{children:o.accountHolder}),y.jsx("div",{children:y.jsx("strong",{children:"Bank:"})}),y.jsx("div",{children:o.bankName}),y.jsx("div",{children:y.jsx("strong",{children:"IBAN:"})}),y.jsx("div",{style:{fontFamily:"monospace",letterSpacing:"0.5px"},children:o.iban}),y.jsx("div",{children:y.jsx("strong",{children:"BIC:"})}),y.jsx("div",{style:{fontFamily:"monospace"},children:o.bic})]}),y.jsx("p",{style:{textAlign:"center",marginTop:"8mm",fontStyle:"italic",color:"#666"},children:"Vielen Dank fr Ihren Auftrag!"})]}),y.jsxs("div",{style:{position:"absolute",bottom:"10mm",left:"20mm",right:"20mm",fontSize:"7pt",color:"#666",textAlign:"center",borderTop:"0.5px solid #d1d5db",paddingTop:"3mm"},children:[o.name,"  ",o.address,"  ",o.zip," ",o.city,o.taxNumber&&`  St.-Nr.: ${o.taxNumber}`]})]})});yu.displayName="InvoicePreview";const hh=({show:i,onClose:n,recipientEmail:o,subject:a,body:u,onSend:d})=>{const[p,h]=ie.useState(u);if(!i)return null;const v=()=>{const g=`mailto:${o}?subject=${encodeURIComponent(a)}&body=${encodeURIComponent(p)}`;window.location.href=g,d()};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",onClick:n,children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl animate-fade-in-down",onClick:g=>g.stopPropagation(),children:[y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-bold text-black",children:"E-Mail senden"}),y.jsx("button",{onClick:n,className:"p-1 text-gray-500 hover:text-gray-800",children:y.jsx(xe,{path:Se.xMark,className:"w-6 h-6"})})]}),y.jsxs("div",{className:"space-y-4 text-black",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"An:"}),y.jsx("p",{className:"p-2 bg-gray-100 rounded mt-1",children:o})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Betreff:"}),y.jsx("p",{className:"p-2 bg-gray-100 rounded mt-1",children:a})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"emailBody",className:"text-sm font-medium",children:"Nachricht:"}),y.jsx("textarea",{id:"emailBody",value:p,onChange:g=>h(g.target.value),rows:10,className:"w-full p-2 bg-gray-100 rounded mt-1 border border-gray-300 focus:ring-violet-500 focus:border-violet-500"})]})]})]}),y.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3 rounded-b-lg",children:[y.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Abbrechen"}),y.jsxs("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center gap-2",children:[y.jsx(xe,{path:Se.email,className:"w-5 h-5"}),"Senden"]})]})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dv,wv;function Iv(){return{geminiUrl:Dv,vertexUrl:wv}}function Uv(i,n,o,a){var u,d;if(!(i!=null&&i.baseUrl)){const p=Iv();return n?(u=p.vertexUrl)!==null&&u!==void 0?u:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xn{}function j(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(a,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,n,o){for(let d=0;d<n.length-1;d++){const p=n[d];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[h])){const v=i[h];if(Array.isArray(o))for(let g=0;g<v.length;g++){const T=v[g];c(T,n.slice(d+1),o[g])}else for(const g of v)c(g,n.slice(d+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in i||(i[h]=[{}]);const v=i[h];c(v[0],n.slice(d+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=n[n.length-1],u=i[a];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function r(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return o;const u=n[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(h=>r(h,n.slice(a+1),o)):o}else return o}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function Lv(i,n){for(const[o,a]of Object.entries(n)){const u=o.split("."),d=a.split("."),p=new Set;let h=-1;for(let v=0;v<u.length;v++)if(u[v]==="*"){h=v;break}if(h!==-1&&d.length>h)for(let v=h;v<d.length;v++){const g=d[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&p.add(g)}lu(i,u,d,0,p)}}function lu(i,n,o,a,u){if(a>=n.length||typeof i!="object"||i===null)return;const d=n[a];if(d.endsWith("[]")){const p=d.slice(0,-2),h=i;if(p in h&&Array.isArray(h[p]))for(const v of h[p])lu(v,n,o,a+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,h=Object.keys(p).filter(g=>!g.startsWith("_")&&!u.has(g)),v={};for(const g of h)v[g]=p[g];for(const[g,T]of Object.entries(v)){const x=[];for(const E of o.slice(a))E==="*"?x.push(g):x.push(E);c(p,x,T)}for(const g of h)delete p[g]}}else{const p=i;d in p&&lu(p[d],n,o,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(i){const n={},o=r(i,["operationName"]);o!=null&&c(n,["operationName"],o);const a=r(i,["resourceName"]);return a!=null&&c(n,["_url","resourceName"],a),n}function Gv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],zv(p)),n}function Hv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],Pv(p)),n}function zv(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Vv(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Pv(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>kv(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Vv(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],Kv(o)),n}function kv(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],Xv(o)),n}function Bv(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Fv(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Ov(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],Yv(p)),n}function Yv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function gh(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],Jv(p)),n}function Jv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function Kv(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],vu(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function Xv(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],vu(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hm||(Hm={}));var zm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(zm||(zm={}));var Pm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Pm||(Pm={}));var It;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(It||(It={}));var Vm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Vm||(Vm={}));var km;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(km||(km={}));var Bm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Bm||(Bm={}));var Fm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fm||(Fm={}));var Om;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Om||(Om={}));var Ym;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Ym||(Ym={}));var Jm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jm||(Jm={}));var Km;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Km||(Km={}));var Xm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Xm||(Xm={}));var Qm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Qm||(Qm={}));var Zm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Zm||(Zm={}));var $m;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($m||($m={}));var Wm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wm||(Wm={}));var jm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(jm||(jm={}));var ep;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ep||(ep={}));var Ra;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ra||(Ra={}));var tp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tp||(tp={}));var np;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(np||(np={}));var ip;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ip||(ip={}));var ou;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ou||(ou={}));var lp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lp||(lp={}));var op;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(op||(op={}));var ap;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(ap||(ap={}));var sp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(sp||(sp={}));var rp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(rp||(rp={}));var up;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(up||(up={}));var cp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(cp||(cp={}));var fp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(fp||(fp={}));var dp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(dp||(dp={}));var mp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(mp||(mp={}));var pp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pp||(pp={}));var hp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hp||(hp={}));var gp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gp||(gp={}));var yp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yp||(yp={}));var vp;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(vp||(vp={}));var Tp;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Tp||(Tp={}));var Sp;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Sp||(Sp={}));var xp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(xp||(xp={}));var Ep;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ep||(Ep={}));var Cp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Cp||(Cp={}));var _p;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(_p||(_p={}));var Ap;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Ap||(Ap={}));var Np;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Np||(Np={}));var bp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(bp||(bp={}));var Mp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mp||(Mp={}));var Rp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rp||(Rp={}));var Dp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Dp||(Dp={}));var wp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wp||(wp={}));var Ip;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ip||(Ip={}));var Up;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Up||(Up={}));var ll;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ll||(ll={}));class au{constructor(n){const o={};for(const a of n.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class oo{get text(){var n,o,a,u,d,p,h,v;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",T=!1;const x=[];for(const E of(v=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[_,M]of Object.entries(E))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(M!==null||M!==void 0)&&x.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;T=!0,g+=E.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?g:void 0}get data(){var n,o,a,u,d,p,h,v;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const T=[];for(const x of(v=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&v!==void 0?v:[]){for(const[E,_]of Object.entries(x))E!=="inlineData"&&(_!==null||_!==void 0)&&T.push(E);x.inlineData&&typeof x.inlineData.data=="string"&&(g+=atob(x.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var n,o,a,u,d,p,h,v;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var n,o,a,u,d,p,h,v,g;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(v=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var n,o,a,u,d,p,h,v,g;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(v=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||v===void 0?void 0:v.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.output}}class Lp{}class qp{}class Qv{}class Zv{}class $v{}class Wv{}class Gp{}class Hp{}class zp{}class jv{}class Da{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Da;let u;const d=n;return o?u=Hv(d):u=Gv(d),Object.assign(a,u),a}}class Pp{}class Vp{}class kp{}class Bp{}class e0{}class t0{}class n0{}class Tu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Tu,d=Ov(n);return Object.assign(a,d),a}}class i0{}class l0{}class o0{}class Fp{}class a0{get text(){var n,o,a;let u="",d=!1;const p=[];for(const h of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[v,g]of Object.entries(h))v!=="text"&&v!=="thought"&&g!==null&&p.push(v);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,o,a;let u="";const d=[];for(const p of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,v]of Object.entries(p))h!=="inlineData"&&v!==null&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class s0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Su{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Su,d=gh(n);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function yh(i,n){const o=we(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function vh(i){return Array.isArray(i)?i.map(n=>wa(n)):[wa(i)]}function wa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Th(i){const n=wa(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Sh(i){const n=wa(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Op(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function xh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Op(n)):[Op(i)]}function su(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Yp(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Jp(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function dt(i){if(i==null)throw new Error("ContentUnion is required");return su(i)?i:{role:"user",parts:xh(i)}}function xu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const a=dt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=dt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>dt(o)):[dt(n)]}function Yt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Yp(i)||Jp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dt(i)]}const n=[],o=[],a=su(i[0]);for(const u of i){const d=su(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(Yp(u)||Jp(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return a||n.push({role:"user",parts:xh(o)}),n}function r0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)n.type=Object.values(It).includes(o[0].toUpperCase())?o[0].toUpperCase():It.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of o)n.anyOf.push({type:Object.values(It).includes(a.toUpperCase())?a.toUpperCase():It.TYPE_UNSPECIFIED})}}function ol(i){const n={},o=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&r0(i.type,n);for(const[p,h]of Object.entries(i))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;n.type=Object.values(It).includes(h.toUpperCase())?h.toUpperCase():It.TYPE_UNSPECIFIED}else if(o.includes(p))n[p]=ol(h);else if(a.includes(p)){const v=[];for(const g of h){if(g.type=="null"){n.nullable=!0;continue}v.push(ol(g))}n[p]=v}else if(u.includes(p)){const v={};for(const[g,T]of Object.entries(h))v[g]=ol(T);n[p]=v}else{if(p==="additionalProperties")continue;n[p]=h}return n}function Eu(i){return ol(i)}function Cu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function _u(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function rl(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=ol(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=ol(n.response));return i}function ul(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function u0(i,n,o,a=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function En(i,n){if(typeof n!="string")throw new Error("name must be a string");return u0(i,n,"cachedContents")}function Eh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Qn(i){return vu(i)}function c0(i){return i!=null&&typeof i=="object"&&"name"in i}function f0(i){return i!=null&&typeof i=="object"&&"video"in i}function d0(i){return i!=null&&typeof i=="object"&&"uri"in i}function Ch(i){var n;let o;if(c0(i)&&(o=i.name),!(d0(i)&&(o=i.uri,o===void 0))&&!(f0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function _h(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Ah(i){for(const n of["models","tunedModels","publisherModels"])if(m0(i,n))return i[n];return[]}function m0(i,n){return i!==null&&typeof i=="object"&&n in i}function p0(i,n={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function h0(i,n={}){const o=[],a=new Set;for(const u of i){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=p0(u,n);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Nh(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function g0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function bh(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const p of u){if(typeof p!="object"||p===null)continue;const v=p.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function cl(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Mh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y0(i){const n={},o=r(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>$0(p))),c(n,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["inlinedEmbedContentResponses"],d)}return n}function v0(i){const n={},o=r(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function T0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function ba(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata","displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(n,["state"],Mh(u));const d=r(i,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const p=r(i,["metadata","endTime"]);p!=null&&c(n,["endTime"],p);const h=r(i,["metadata","updateTime"]);h!=null&&c(n,["updateTime"],h);const v=r(i,["metadata","model"]);v!=null&&c(n,["model"],v);const g=r(i,["metadata","output"]);return g!=null&&c(n,["dest"],y0(bh(g))),n}function ru(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["state"]);u!=null&&c(n,["state"],Mh(u));const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["createTime"]);p!=null&&c(n,["createTime"],p);const h=r(i,["startTime"]);h!=null&&c(n,["startTime"],h);const v=r(i,["endTime"]);v!=null&&c(n,["endTime"],v);const g=r(i,["updateTime"]);g!=null&&c(n,["updateTime"],g);const T=r(i,["model"]);T!=null&&c(n,["model"],T);const x=r(i,["inputConfig"]);x!=null&&c(n,["src"],S0(x));const E=r(i,["outputConfig"]);E!=null&&c(n,["dest"],v0(bh(E)));const _=r(i,["completionStats"]);return _!=null&&c(n,["completionStats"],_),n}function S0(i){const n={},o=r(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const a=r(i,["gcsSource","uris"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function x0(i,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(n,["fileName"]);a!=null&&c(o,["fileName"],a);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Z0(i,p))),c(o,["requests","requests"],d)}return o}function E0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function C0(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function _0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],cl(i,a)),o}function A0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],cl(i,a)),o}function N0(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],b0(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=r(i,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const h=r(i,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const v=r(i,["index"]);v!=null&&c(n,["index"],v);const g=r(i,["logprobsResult"]);g!=null&&c(n,["logprobsResult"],g);const T=r(i,["safetyRatings"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(_=>_)),c(n,["safetyRatings"],E)}const x=r(i,["urlContextMetadata"]);return x!=null&&c(n,["urlContextMetadata"],x),n}function b0(i){const n={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function Rh(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>lT(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function M0(i,n){const o={},a=r(i,["displayName"]);if(n!==void 0&&a!=null&&c(n,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function R0(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],T0(g0(u))),o}function Kp(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],x0(i,Nh(i,u)));const d=r(n,["config"]);return d!=null&&M0(d,o),o}function D0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],we(i,a));const u=r(n,["src"]);u!=null&&c(o,["inputConfig"],E0(Nh(i,u)));const d=r(n,["config"]);return d!=null&&R0(d,o),o}function w0(i,n){const o={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["batch","displayName"],a),o}function I0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],P0(i,u));const d=r(n,["config"]);return d!=null&&w0(d,o),o}function U0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],cl(i,a)),o}function L0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],cl(i,a)),o}function q0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function G0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function H0(i,n){const o={},a=r(n,["contents"]);if(a!=null){let d=xu(i,a);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(c(o,["_self"],z0(u,o)),Lv(o,{"requests[].*":"requests[].request.*"})),o}function z0(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function P0(i,n){const o={},a=r(n,["fileName"]);a!=null&&c(o,["file_name"],a);const u=r(n,["inlinedRequests"]);return u!=null&&c(o,["requests"],H0(i,u)),o}function V0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function k0(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function B0(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function F0(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Rh(dt(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(a,["topP"],p);const h=r(n,["topK"]);h!=null&&c(a,["topK"],h);const v=r(n,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const g=r(n,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const T=r(n,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=r(n,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=r(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const _=r(n,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const M=r(n,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const D=r(n,["seed"]);D!=null&&c(a,["seed"],D);const F=r(n,["responseMimeType"]);F!=null&&c(a,["responseMimeType"],F);const K=r(n,["responseSchema"]);K!=null&&c(a,["responseSchema"],Eu(K));const X=r(n,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let ae=O;Array.isArray(ae)&&(ae=ae.map(Ge=>oT(Ge))),c(o,["safetySettings"],ae)}const $=r(n,["tools"]);if(o!==void 0&&$!=null){let ae=ul($);Array.isArray(ae)&&(ae=ae.map(Ge=>sT(rl(Ge)))),c(o,["tools"],ae)}const ee=r(n,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],aT(ee)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=r(n,["cachedContent"]);o!==void 0&&B!=null&&c(o,["cachedContent"],En(i,B));const Y=r(n,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const ce=r(n,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const W=r(n,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Cu(W)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=r(n,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const pe=r(n,["imageConfig"]);return pe!=null&&c(a,["imageConfig"],Q0(pe)),a}function O0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(g=>N0(g))),c(n,["candidates"],v)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=r(i,["responseId"]);p!=null&&c(n,["responseId"],p);const h=r(i,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function Y0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],cl(i,a)),o}function J0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],cl(i,a)),o}function K0(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function X0(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function Q0(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Z0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["request","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let h=Yt(u);Array.isArray(h)&&(h=h.map(v=>Rh(v))),c(o,["request","contents"],h)}const d=r(n,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(n,["config"]);return p!=null&&c(o,["request","generationConfig"],F0(i,p,r(o,["request"],{}))),o}function $0(i){const n={},o=r(i,["response"]);o!=null&&c(n,["response"],O0(o));const a=r(i,["error"]);return a!=null&&c(n,["error"],a),n}function W0(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function j0(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(i,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function eT(i){const n={},o=r(i,["config"]);return o!=null&&W0(o,n),n}function tT(i){const n={},o=r(i,["config"]);return o!=null&&j0(o,n),n}function nT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>ba(p))),c(n,["batchJobs"],d)}return n}function iT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>ru(p))),c(n,["batchJobs"],d)}return n}function lT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],V0(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],k0(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const v=r(i,["inlineData"]);v!=null&&c(n,["inlineData"],C0(v));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const T=r(i,["thought"]);T!=null&&c(n,["thought"],T);const x=r(i,["thoughtSignature"]);x!=null&&c(n,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function oT(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function aT(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],B0(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function sT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(n,["functionDeclarations"],T)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],K0(h));const v=r(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],X0(v));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Sn||(Sn={}));class vi{constructor(n,o,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,a,u)}init(n,o,a){var u,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends xn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new vi(Sn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=Kp(this.apiClient,n),a=o._url,u=j("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,v=h.requests,g=[];for(const T of v){const x=Object.assign({},T);if(x.systemInstruction){const E=x.systemInstruction;delete x.systemInstruction;const _=x.request;_.systemInstruction=E,x.request=_}g.push(x)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const a=o?Object.assign({},o):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(n),p=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(p)a.dest=`${p}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=D0(this.apiClient,n);return h=j("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>ru(T))}else{const g=Kp(this.apiClient,n);return h=j("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>ba(T))}}async createEmbeddingsInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=I0(this.apiClient,n);return d=j("{model}:asyncBatchEmbedContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>ba(v))}}async get(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=J0(this.apiClient,n);return h=j("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>ru(T))}else{const g=Y0(this.apiClient,n);return h=j("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>ba(T))}}async cancel(n){var o,a,u,d;let p="",h={};if(this.apiClient.isVertexAI()){const v=A0(this.apiClient,n);p=j("batchPredictionJobs/{name}:cancel",v._url),h=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const v=_0(this.apiClient,n);p=j("batches/{name}:cancel",v._url),h=v._query,delete v._url,delete v._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=tT(n);return h=j("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=iT(T),E=new Fp;return Object.assign(E,x),E})}else{const g=eT(n);return h=j("batches",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=nT(T),E=new Fp;return Object.assign(E,x),E})}}async delete(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=L0(this.apiClient,n);return h=j("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>G0(T))}else{const g=U0(this.apiClient,n);return h=j("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>q0(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Xp(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>IT(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function cT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=r(i,["contents"]);if(n!==void 0&&p!=null){let T=Yt(p);Array.isArray(T)&&(T=T.map(x=>Xp(x))),c(n,["contents"],T)}const h=r(i,["systemInstruction"]);n!==void 0&&h!=null&&c(n,["systemInstruction"],Xp(dt(h)));const v=r(i,["tools"]);if(n!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>LT(x))),c(n,["tools"],T)}const g=r(i,["toolConfig"]);if(n!==void 0&&g!=null&&c(n,["toolConfig"],UT(g)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function fT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=r(i,["contents"]);if(n!==void 0&&p!=null){let x=Yt(p);Array.isArray(x)&&(x=x.map(E=>E)),c(n,["contents"],x)}const h=r(i,["systemInstruction"]);n!==void 0&&h!=null&&c(n,["systemInstruction"],dt(h));const v=r(i,["tools"]);if(n!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>qT(E))),c(n,["tools"],x)}const g=r(i,["toolConfig"]);n!==void 0&&g!=null&&c(n,["toolConfig"],g);const T=r(i,["kmsKeyName"]);return n!==void 0&&T!=null&&c(n,["encryption_spec","kmsKeyName"],T),o}function dT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],yh(i,a));const u=r(n,["config"]);return u!=null&&cT(u,o),o}function mT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],yh(i,a));const u=r(n,["config"]);return u!=null&&fT(u,o),o}function pT(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],En(i,a)),o}function hT(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],En(i,a)),o}function gT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function yT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function vT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function TT(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function ST(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function xT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(n,["response"],p);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function ET(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],En(i,a)),o}function CT(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],En(i,a)),o}function _T(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function AT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function NT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function bT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function MT(i){const n={},o=r(i,["config"]);return o!=null&&NT(o,n),n}function RT(i){const n={},o=r(i,["config"]);return o!=null&&bT(o,n),n}function DT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function wT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function IT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],vT(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],TT(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const v=r(i,["inlineData"]);v!=null&&c(n,["inlineData"],uT(v));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const T=r(i,["thought"]);T!=null&&c(n,["thought"],T);const x=r(i,["thoughtSignature"]);x!=null&&c(n,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function UT(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],ST(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function LT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(n,["functionDeclarations"],T)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],_T(h));const v=r(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],AT(v));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}function qT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(E=>xT(E))),c(n,["functionDeclarations"],x)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(n,["codeExecution"],p);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const v=r(i,["googleMaps"]);v!=null&&c(n,["googleMaps"],v);const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],g);const T=r(i,["urlContext"]);return T!=null&&c(n,["urlContext"],T),n}function GT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function HT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function zT(i,n){const o={},a=r(n,["name"]);a!=null&&c(o,["_url","name"],En(i,a));const u=r(n,["config"]);return u!=null&&GT(u,o),o}function PT(i,n){const o={},a=r(n,["name"]);a!=null&&c(o,["_url","name"],En(i,a));const u=r(n,["config"]);return u!=null&&HT(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VT extends xn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new vi(Sn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=mT(this.apiClient,n);return h=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const g=dT(this.apiClient,n);return h=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async get(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=CT(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const g=ET(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async delete(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=hT(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=yT(T),E=new kp;return Object.assign(E,x),E})}else{const g=pT(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=gT(T),E=new kp;return Object.assign(E,x),E})}}async update(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=PT(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>T)}else{const g=zT(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>T)}}async listInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=RT(n);return h=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=wT(T),E=new Bp;return Object.assign(E,x),E})}else{const g=MT(n);return h=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=DT(T),E=new Bp;return Object.assign(E,x),E})}}}function Qp(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(i){return this instanceof Fe?(this.v=i,this):new Fe(i)}function al(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(_){return function(M){return Promise.resolve(M).then(_,x)}}function h(_,M){a[_]&&(u[_]=function(D){return new Promise(function(F,K){d.push([_,D,F,K])>1||v(_,D)})},M&&(u[_]=M(u[_])))}function v(_,M){try{g(a[_](M))}catch(D){E(d[0][3],D)}}function g(_){_.value instanceof Fe?Promise.resolve(_.value.v).then(T,x):E(d[0][2],_)}function T(_){v("next",_)}function x(_){v("throw",_)}function E(_,M){_(M),d.shift(),d.length&&v(d[0][0],d[0][1])}}function so(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof Qp=="function"?Qp(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(p){return new Promise(function(h,v){p=i[d](p),u(h,v,p.done,p.value)})}}function u(d,p,h,v){Promise.resolve(v).then(function(g){d({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Dh(o)}function Dh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function BT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Zp(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")n.push(i[a]),a++;else{const u=[];let d=!0;for(;a<o&&i[a].role==="model";)u.push(i[a]),d&&!Dh(i[a])&&(d=!1),a++;d?n.push(...u):n.pop()}return n}class FT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new OT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class OT{constructor(n,o,a,u={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),BT(d)}async sendMessage(n){var o;await this.sendPromise;const a=dt(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,h;const v=await u,g=(p=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,T=v.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let E=[];T!=null&&(E=(h=T.slice(x))!==null&&h!==void 0?h:[]);const _=g?[g]:[];this.recordHistory(a,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const a=dt(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(n=!1){const o=n?Zp(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var a,u;return al(this,arguments,function*(){var p,h,v,g;const T=[];try{for(var x=!0,E=so(n),_;_=yield Fe(E.next()),p=_.done,!p;x=!0){g=_.value,x=!1;const M=g;if(kT(M)){const D=(u=(a=M.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;D!==void 0&&T.push(D)}yield yield Fe(M)}}catch(M){h={error:M}}finally{try{!x&&!p&&(v=E.return)&&(yield Fe(v.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,T)})}recordHistory(n,o,a){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Zp(a)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Ua.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(i){const n={},o=r(i,["file"]);return o!=null&&c(n,["file"],o),n}function JT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function KT(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],Ch(o)),n}function XT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function QT(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],Ch(o)),n}function ZT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function $T(i){const n={},o=r(i,["config"]);return o!=null&&ZT(o,n),n}function WT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends xn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new vi(Sn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$T(n);return d=j("files",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const g=WT(v),T=new i0;return Object.assign(T,g),T})}}async createInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YT(n);return d=j("upload/v1beta/files",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=JT(v),T=new l0;return Object.assign(T,g),T})}}async get(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QT(n);return d=j("files/{file}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KT(n);return d=j("files/{file}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const g=XT(v),T=new o0;return Object.assign(T,g),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ma(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function eS(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>gS(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function tS(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function nS(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function iS(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(n,["response"],p);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function lS(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(n,["enableAffectiveDialog"],p);const h=r(i,["frequencyPenalty"]);h!=null&&c(n,["frequencyPenalty"],h);const v=r(i,["logprobs"]);v!=null&&c(n,["logprobs"],v);const g=r(i,["maxOutputTokens"]);g!=null&&c(n,["maxOutputTokens"],g);const T=r(i,["mediaResolution"]);T!=null&&c(n,["mediaResolution"],T);const x=r(i,["presencePenalty"]);x!=null&&c(n,["presencePenalty"],x);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const _=r(i,["responseMimeType"]);_!=null&&c(n,["responseMimeType"],_);const M=r(i,["responseModalities"]);M!=null&&c(n,["responseModalities"],M);const D=r(i,["responseSchema"]);D!=null&&c(n,["responseSchema"],D);const F=r(i,["routingConfig"]);F!=null&&c(n,["routingConfig"],F);const K=r(i,["seed"]);K!=null&&c(n,["seed"],K);const X=r(i,["speechConfig"]);X!=null&&c(n,["speechConfig"],wh(X));const O=r(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const $=r(i,["temperature"]);$!=null&&c(n,["temperature"],$);const ee=r(i,["thinkingConfig"]);ee!=null&&c(n,["thinkingConfig"],ee);const B=r(i,["topK"]);B!=null&&c(n,["topK"],B);const Y=r(i,["topP"]);if(Y!=null&&c(n,["topP"],Y),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function oS(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function aS(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function sS(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const v=r(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const T=r(i,["seed"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","seed"],T);const x=r(i,["speechConfig"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","speechConfig"],_u(x));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const _=r(i,["enableAffectiveDialog"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(i,["systemInstruction"]);n!==void 0&&M!=null&&c(n,["setup","systemInstruction"],eS(dt(M)));const D=r(i,["tools"]);if(n!==void 0&&D!=null){let B=ul(D);Array.isArray(B)&&(B=B.map(Y=>vS(rl(Y)))),c(n,["setup","tools"],B)}const F=r(i,["sessionResumption"]);n!==void 0&&F!=null&&c(n,["setup","sessionResumption"],yS(F));const K=r(i,["inputAudioTranscription"]);n!==void 0&&K!=null&&c(n,["setup","inputAudioTranscription"],K);const X=r(i,["outputAudioTranscription"]);n!==void 0&&X!=null&&c(n,["setup","outputAudioTranscription"],X);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const $=r(i,["contextWindowCompression"]);n!==void 0&&$!=null&&c(n,["setup","contextWindowCompression"],$);const ee=r(i,["proactivity"]);return n!==void 0&&ee!=null&&c(n,["setup","proactivity"],ee),o}function rS(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],lS(a));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const v=r(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const T=r(i,["seed"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","seed"],T);const x=r(i,["speechConfig"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","speechConfig"],wh(_u(x)));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const _=r(i,["enableAffectiveDialog"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(i,["systemInstruction"]);n!==void 0&&M!=null&&c(n,["setup","systemInstruction"],dt(M));const D=r(i,["tools"]);if(n!==void 0&&D!=null){let B=ul(D);Array.isArray(B)&&(B=B.map(Y=>TS(rl(Y)))),c(n,["setup","tools"],B)}const F=r(i,["sessionResumption"]);n!==void 0&&F!=null&&c(n,["setup","sessionResumption"],F);const K=r(i,["inputAudioTranscription"]);n!==void 0&&K!=null&&c(n,["setup","inputAudioTranscription"],K);const X=r(i,["outputAudioTranscription"]);n!==void 0&&X!=null&&c(n,["setup","outputAudioTranscription"],X);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const $=r(i,["contextWindowCompression"]);n!==void 0&&$!=null&&c(n,["setup","contextWindowCompression"],$);const ee=r(i,["proactivity"]);return n!==void 0&&ee!=null&&c(n,["setup","proactivity"],ee),o}function uS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],we(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],sS(u,o)),o}function cS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],we(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],rS(u,o)),o}function fS(i){const n={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function dS(i){const n={},o=r(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["weightedPrompts"],a)}return n}function mS(i){const n={},o=r(i,["media"]);if(o!=null){let g=vh(o);Array.isArray(g)&&(g=g.map(T=>Ma(T))),c(n,["mediaChunks"],g)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],Ma(Sh(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Ma(Th(d)));const p=r(i,["text"]);p!=null&&c(n,["text"],p);const h=r(i,["activityStart"]);h!=null&&c(n,["activityStart"],h);const v=r(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function pS(i){const n={},o=r(i,["media"]);if(o!=null){let g=vh(o);Array.isArray(g)&&(g=g.map(T=>T)),c(n,["mediaChunks"],g)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],Sh(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Th(d));const p=r(i,["text"]);p!=null&&c(n,["text"],p);const h=r(i,["activityStart"]);h!=null&&c(n,["activityStart"],h);const v=r(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function hS(i){const n={},o=r(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const a=r(i,["serverContent"]);a!=null&&c(n,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(n,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const p=r(i,["usageMetadata"]);p!=null&&c(n,["usageMetadata"],SS(p));const h=r(i,["goAway"]);h!=null&&c(n,["goAway"],h);const v=r(i,["sessionResumptionUpdate"]);return v!=null&&c(n,["sessionResumptionUpdate"],v),n}function gS(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],tS(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],nS(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const v=r(i,["inlineData"]);v!=null&&c(n,["inlineData"],Ma(v));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const T=r(i,["thought"]);T!=null&&c(n,["thought"],T);const x=r(i,["thoughtSignature"]);x!=null&&c(n,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function yS(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function wh(i){const n={},o=r(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function vS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(n,["functionDeclarations"],T)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],oS(h));const v=r(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],aS(v));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}function TS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(E=>iS(E))),c(n,["functionDeclarations"],x)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(n,["codeExecution"],p);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const v=r(i,["googleMaps"]);v!=null&&c(n,["googleMaps"],v);const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],g);const T=r(i,["urlContext"]);return T!=null&&c(n,["urlContext"],T),n}function SS(i){const n={},o=r(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(n,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const p=r(i,["thoughtsTokenCount"]);p!=null&&c(n,["thoughtsTokenCount"],p);const h=r(i,["totalTokenCount"]);h!=null&&c(n,["totalTokenCount"],h);const v=r(i,["promptTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(M=>M)),c(n,["promptTokensDetails"],_)}const g=r(i,["cacheTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(M=>M)),c(n,["cacheTokensDetails"],_)}const T=r(i,["candidatesTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(M=>M)),c(n,["responseTokensDetails"],_)}const x=r(i,["toolUsePromptTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(M=>M)),c(n,["toolUsePromptTokensDetails"],_)}const E=r(i,["trafficType"]);return E!=null&&c(n,["trafficType"],E),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function ES(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],CS(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=r(i,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const h=r(i,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const v=r(i,["index"]);v!=null&&c(n,["index"],v);const g=r(i,["logprobsResult"]);g!=null&&c(n,["logprobsResult"],g);const T=r(i,["safetyRatings"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(_=>_)),c(n,["safetyRatings"],E)}const x=r(i,["urlContextMetadata"]);return x!=null&&c(n,["urlContextMetadata"],x),n}function CS(i){const n={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function _S(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let d=Yt(u);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function AS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["tokensInfo"],u)}return n}function NS(i){const n={},o=r(i,["values"]);o!=null&&c(n,["values"],o);const a=r(i,["statistics"]);return a!=null&&c(n,["statistics"],bS(a)),n}function bS(i){const n={},o=r(i,["truncated"]);o!=null&&c(n,["truncated"],o);const a=r(i,["token_count"]);return a!=null&&c(n,["tokenCount"],a),n}function La(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Gx(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function MS(i){const n={},o=r(i,["controlType"]);o!=null&&c(n,["controlType"],o);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(n,["computeControl"],a),n}function RS(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function DS(i,n){const o={},a=r(i,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],dt(a));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>Gh(h))),c(n,["tools"],p)}const d=r(i,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],xx(d)),o}function wS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let p=Yt(u);Array.isArray(p)&&(p=p.map(h=>La(h))),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&RS(d),o}function IS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let p=Yt(u);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&DS(d,o),o}function US(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);a!=null&&c(n,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function LS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);return a!=null&&c(n,["totalTokens"],a),n}function qS(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function GS(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function HS(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function zS(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function PS(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=r(i,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const h=r(i,["guidanceScale"]);n!==void 0&&h!=null&&c(n,["parameters","guidanceScale"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const T=r(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const x=r(i,["includeSafetyAttributes"]);n!==void 0&&x!=null&&c(n,["parameters","includeSafetyAttributes"],x);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const _=r(i,["language"]);n!==void 0&&_!=null&&c(n,["parameters","language"],_);const M=r(i,["outputMimeType"]);n!==void 0&&M!=null&&c(n,["parameters","outputOptions","mimeType"],M);const D=r(i,["outputCompressionQuality"]);n!==void 0&&D!=null&&c(n,["parameters","outputOptions","compressionQuality"],D);const F=r(i,["addWatermark"]);n!==void 0&&F!=null&&c(n,["parameters","addWatermark"],F);const K=r(i,["labels"]);n!==void 0&&K!=null&&c(n,["labels"],K);const X=r(i,["editMode"]);n!==void 0&&X!=null&&c(n,["parameters","editMode"],X);const O=r(i,["baseSteps"]);return n!==void 0&&O!=null&&c(n,["parameters","editConfig","baseSteps"],O),o}function VS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(v=>Bx(v))),c(o,["instances[0]","referenceImages"],h)}const p=r(n,["config"]);return p!=null&&PS(p,o),o}function kS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>qa(d))),c(n,["generatedImages"],u)}return n}function BS(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function FS(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["instances[]","task_type"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const p=r(i,["mimeType"]);n!==void 0&&p!=null&&c(n,["instances[]","mimeType"],p);const h=r(i,["autoTruncate"]);return n!==void 0&&h!=null&&c(n,["parameters","autoTruncate"],h),o}function OS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let h=xu(i,u);Array.isArray(h)&&(h=h.map(v=>v)),c(o,["requests[]","content"],h)}const d=r(n,["config"]);d!=null&&BS(d,o);const p=r(n,["model"]);return p!==void 0&&c(o,["requests[]","model"],we(i,p)),o}function YS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let p=xu(i,u);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["instances[]","content"],p)}const d=r(n,["config"]);return d!=null&&FS(d,o),o}function JS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function KS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>NS(p))),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function XS(i){const n={},o=r(i,["endpoint"]);o!=null&&c(n,["name"],o);const a=r(i,["deployedModelId"]);return a!=null&&c(n,["deployedModelId"],a),n}function QS(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function ZS(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function $S(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function WS(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(n,["response"],p);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function jS(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],La(dt(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(a,["topP"],p);const h=r(n,["topK"]);h!=null&&c(a,["topK"],h);const v=r(n,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const g=r(n,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const T=r(n,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=r(n,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=r(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const _=r(n,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const M=r(n,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const D=r(n,["seed"]);D!=null&&c(a,["seed"],D);const F=r(n,["responseMimeType"]);F!=null&&c(a,["responseMimeType"],F);const K=r(n,["responseSchema"]);K!=null&&c(a,["responseSchema"],Eu(K));const X=r(n,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let ae=O;Array.isArray(ae)&&(ae=ae.map(Ge=>Fx(Ge))),c(o,["safetySettings"],ae)}const $=r(n,["tools"]);if(o!==void 0&&$!=null){let ae=ul($);Array.isArray(ae)&&(ae=ae.map(Ge=>Zx(rl(Ge)))),c(o,["tools"],ae)}const ee=r(n,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],Qx(ee)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=r(n,["cachedContent"]);o!==void 0&&B!=null&&c(o,["cachedContent"],En(i,B));const Y=r(n,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const ce=r(n,["mediaResolution"]);ce!=null&&c(a,["mediaResolution"],ce);const W=r(n,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Cu(W)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=r(n,["thinkingConfig"]);ue!=null&&c(a,["thinkingConfig"],ue);const pe=r(n,["imageConfig"]);return pe!=null&&c(a,["imageConfig"],Nx(pe)),a}function ex(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],dt(u));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(a,["topP"],p);const h=r(n,["topK"]);h!=null&&c(a,["topK"],h);const v=r(n,["candidateCount"]);v!=null&&c(a,["candidateCount"],v);const g=r(n,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const T=r(n,["stopSequences"]);T!=null&&c(a,["stopSequences"],T);const x=r(n,["responseLogprobs"]);x!=null&&c(a,["responseLogprobs"],x);const E=r(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const _=r(n,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const M=r(n,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const D=r(n,["seed"]);D!=null&&c(a,["seed"],D);const F=r(n,["responseMimeType"]);F!=null&&c(a,["responseMimeType"],F);const K=r(n,["responseSchema"]);K!=null&&c(a,["responseSchema"],Eu(K));const X=r(n,["responseJsonSchema"]);X!=null&&c(a,["responseJsonSchema"],X);const O=r(n,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const $=r(n,["modelSelectionConfig"]);$!=null&&c(a,["modelConfig"],$);const ee=r(n,["safetySettings"]);if(o!==void 0&&ee!=null){let q=ee;Array.isArray(q)&&(q=q.map(J=>J)),c(o,["safetySettings"],q)}const B=r(n,["tools"]);if(o!==void 0&&B!=null){let q=ul(B);Array.isArray(q)&&(q=q.map(J=>Gh(rl(J)))),c(o,["tools"],q)}const Y=r(n,["toolConfig"]);o!==void 0&&Y!=null&&c(o,["toolConfig"],Y);const ce=r(n,["labels"]);o!==void 0&&ce!=null&&c(o,["labels"],ce);const W=r(n,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],En(i,W));const ue=r(n,["responseModalities"]);ue!=null&&c(a,["responseModalities"],ue);const pe=r(n,["mediaResolution"]);pe!=null&&c(a,["mediaResolution"],pe);const ae=r(n,["speechConfig"]);ae!=null&&c(a,["speechConfig"],qh(Cu(ae)));const Ge=r(n,["audioTimestamp"]);Ge!=null&&c(a,["audioTimestamp"],Ge);const se=r(n,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ye=r(n,["imageConfig"]);return ye!=null&&c(a,["imageConfig"],bx(ye)),a}function $p(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let p=Yt(u);Array.isArray(p)&&(p=p.map(h=>La(h))),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],jS(i,d,o)),o}function Wp(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let p=Yt(u);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],ex(i,d,o)),o}function jp(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(g=>ES(g))),c(n,["candidates"],v)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=r(i,["responseId"]);p!=null&&c(n,["responseId"],p);const h=r(i,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function eh(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(T=>T)),c(n,["candidates"],g)}const u=r(i,["createTime"]);u!=null&&c(n,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const p=r(i,["promptFeedback"]);p!=null&&c(n,["promptFeedback"],p);const h=r(i,["responseId"]);h!=null&&c(n,["responseId"],h);const v=r(i,["usageMetadata"]);return v!=null&&c(n,["usageMetadata"],v),n}function tx(i,n){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=r(i,["safetyFilterLevel"]);n!==void 0&&p!=null&&c(n,["parameters","safetySetting"],p);const h=r(i,["personGeneration"]);n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h);const v=r(i,["includeSafetyAttributes"]);n!==void 0&&v!=null&&c(n,["parameters","includeSafetyAttributes"],v);const g=r(i,["includeRaiReason"]);n!==void 0&&g!=null&&c(n,["parameters","includeRaiReason"],g);const T=r(i,["language"]);n!==void 0&&T!=null&&c(n,["parameters","language"],T);const x=r(i,["outputMimeType"]);n!==void 0&&x!=null&&c(n,["parameters","outputOptions","mimeType"],x);const E=r(i,["outputCompressionQuality"]);if(n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=r(i,["imageSize"]);if(n!==void 0&&_!=null&&c(n,["parameters","sampleImageSize"],_),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function nx(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=r(i,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const h=r(i,["guidanceScale"]);n!==void 0&&h!=null&&c(n,["parameters","guidanceScale"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const T=r(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const x=r(i,["includeSafetyAttributes"]);n!==void 0&&x!=null&&c(n,["parameters","includeSafetyAttributes"],x);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const _=r(i,["language"]);n!==void 0&&_!=null&&c(n,["parameters","language"],_);const M=r(i,["outputMimeType"]);n!==void 0&&M!=null&&c(n,["parameters","outputOptions","mimeType"],M);const D=r(i,["outputCompressionQuality"]);n!==void 0&&D!=null&&c(n,["parameters","outputOptions","compressionQuality"],D);const F=r(i,["addWatermark"]);n!==void 0&&F!=null&&c(n,["parameters","addWatermark"],F);const K=r(i,["labels"]);n!==void 0&&K!=null&&c(n,["labels"],K);const X=r(i,["imageSize"]);n!==void 0&&X!=null&&c(n,["parameters","sampleImageSize"],X);const O=r(i,["enhancePrompt"]);return n!==void 0&&O!=null&&c(n,["parameters","enhancePrompt"],O),o}function ix(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&tx(d,o),o}function lx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&nx(d,o),o}function ox(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>yx(p))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Uh(u)),n}function ax(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>qa(p))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Lh(u)),n}function sx(i,n){const o={},a=r(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const p=r(i,["resolution"]);n!==void 0&&p!=null&&c(n,["parameters","resolution"],p);const h=r(i,["personGeneration"]);if(n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=r(i,["negativePrompt"]);n!==void 0&&v!=null&&c(n,["parameters","negativePrompt"],v);const g=r(i,["enhancePrompt"]);if(n!==void 0&&g!=null&&c(n,["parameters","enhancePrompt"],g),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=r(i,["lastFrame"]);n!==void 0&&T!=null&&c(n,["instances[0]","lastFrame"],Ga(T));const x=r(i,["referenceImages"]);if(n!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>uE(_))),c(n,["instances[0]","referenceImages"],E)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function rx(i,n){const o={},a=r(i,["numberOfVideos"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const d=r(i,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const p=r(i,["durationSeconds"]);n!==void 0&&p!=null&&c(n,["parameters","durationSeconds"],p);const h=r(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const v=r(i,["aspectRatio"]);n!==void 0&&v!=null&&c(n,["parameters","aspectRatio"],v);const g=r(i,["resolution"]);n!==void 0&&g!=null&&c(n,["parameters","resolution"],g);const T=r(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const x=r(i,["pubsubTopic"]);n!==void 0&&x!=null&&c(n,["parameters","pubsubTopic"],x);const E=r(i,["negativePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","negativePrompt"],E);const _=r(i,["enhancePrompt"]);n!==void 0&&_!=null&&c(n,["parameters","enhancePrompt"],_);const M=r(i,["generateAudio"]);n!==void 0&&M!=null&&c(n,["parameters","generateAudio"],M);const D=r(i,["lastFrame"]);n!==void 0&&D!=null&&c(n,["instances[0]","lastFrame"],Zt(D));const F=r(i,["referenceImages"]);if(n!==void 0&&F!=null){let O=F;Array.isArray(O)&&(O=O.map($=>cE($))),c(n,["instances[0]","referenceImages"],O)}const K=r(i,["mask"]);n!==void 0&&K!=null&&c(n,["instances[0]","mask"],rE(K));const X=r(i,["compressionQuality"]);return n!==void 0&&X!=null&&c(n,["parameters","compressionQuality"],X),o}function ux(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],mx(p)),n}function cx(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],px(p)),n}function fx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],Ga(d));const p=r(n,["video"]);p!=null&&c(o,["instances[0]","video"],Hh(p));const h=r(n,["source"]);h!=null&&hx(h,o);const v=r(n,["config"]);return v!=null&&sx(v,o),o}function dx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],Zt(d));const p=r(n,["video"]);p!=null&&c(o,["instances[0]","video"],zh(p));const h=r(n,["source"]);h!=null&&gx(h,o);const v=r(n,["config"]);return v!=null&&rx(v,o),o}function mx(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Tx(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function px(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Sx(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function hx(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Ga(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Hh(d)),o}function gx(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Zt(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],zh(d)),o}function yx(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],Mx(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(n,["safetyAttributes"],Uh(u)),n}function qa(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],Ih(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(n,["safetyAttributes"],Lh(u));const d=r(i,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function vx(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["mask"],Ih(o));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["labels"],u)}return n}function Tx(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],aE(o)),n}function Sx(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],sE(o)),n}function xx(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(n,["enableAffectiveDialog"],p);const h=r(i,["frequencyPenalty"]);h!=null&&c(n,["frequencyPenalty"],h);const v=r(i,["logprobs"]);v!=null&&c(n,["logprobs"],v);const g=r(i,["maxOutputTokens"]);g!=null&&c(n,["maxOutputTokens"],g);const T=r(i,["mediaResolution"]);T!=null&&c(n,["mediaResolution"],T);const x=r(i,["presencePenalty"]);x!=null&&c(n,["presencePenalty"],x);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const _=r(i,["responseMimeType"]);_!=null&&c(n,["responseMimeType"],_);const M=r(i,["responseModalities"]);M!=null&&c(n,["responseModalities"],M);const D=r(i,["responseSchema"]);D!=null&&c(n,["responseSchema"],D);const F=r(i,["routingConfig"]);F!=null&&c(n,["routingConfig"],F);const K=r(i,["seed"]);K!=null&&c(n,["seed"],K);const X=r(i,["speechConfig"]);X!=null&&c(n,["speechConfig"],qh(X));const O=r(i,["stopSequences"]);O!=null&&c(n,["stopSequences"],O);const $=r(i,["temperature"]);$!=null&&c(n,["temperature"],$);const ee=r(i,["thinkingConfig"]);ee!=null&&c(n,["thinkingConfig"],ee);const B=r(i,["topK"]);B!=null&&c(n,["topK"],B);const Y=r(i,["topP"]);if(Y!=null&&c(n,["topP"],Y),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Ex(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function Cx(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function _x(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function Ax(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function Nx(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function bx(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);a!=null&&c(n,["imageSize"],a);const u=r(i,["outputMimeType"]);u!=null&&c(n,["imageOutputOptions","mimeType"],u);const d=r(i,["outputCompressionQuality"]);return d!=null&&c(n,["imageOutputOptions","compressionQuality"],d),n}function Mx(i){const n={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],Qn(o));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Ih(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["imageBytes"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function Ga(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],Qn(o));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Zt(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["imageBytes"]);a!=null&&c(n,["bytesBase64Encoded"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function Rx(i,n,o){const a={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=r(n,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],_h(i,h)),a}function Dx(i,n,o){const a={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=r(n,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],_h(i,h)),a}function wx(i,n){const o={},a=r(n,["config"]);return a!=null&&Rx(i,a,o),o}function Ix(i,n){const o={},a=r(n,["config"]);return a!=null&&Dx(i,a,o),o}function Ux(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=Ah(u);Array.isArray(d)&&(d=d.map(p=>uu(p))),c(n,["models"],d)}return n}function Lx(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=Ah(u);Array.isArray(d)&&(d=d.map(p=>cu(p))),c(n,["models"],d)}return n}function qx(i){const n={},o=r(i,["maskMode"]);o!=null&&c(n,["maskMode"],o);const a=r(i,["segmentationClasses"]);a!=null&&c(n,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function uu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["version"]);d!=null&&c(n,["version"],d);const p=r(i,["_self"]);p!=null&&c(n,["tunedModelInfo"],$x(p));const h=r(i,["inputTokenLimit"]);h!=null&&c(n,["inputTokenLimit"],h);const v=r(i,["outputTokenLimit"]);v!=null&&c(n,["outputTokenLimit"],v);const g=r(i,["supportedGenerationMethods"]);g!=null&&c(n,["supportedActions"],g);const T=r(i,["temperature"]);T!=null&&c(n,["temperature"],T);const x=r(i,["maxTemperature"]);x!=null&&c(n,["maxTemperature"],x);const E=r(i,["topP"]);E!=null&&c(n,["topP"],E);const _=r(i,["topK"]);_!=null&&c(n,["topK"],_);const M=r(i,["thinking"]);return M!=null&&c(n,["thinking"],M),n}function cu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["versionId"]);d!=null&&c(n,["version"],d);const p=r(i,["deployedModels"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(E=>XS(E))),c(n,["endpoints"],x)}const h=r(i,["labels"]);h!=null&&c(n,["labels"],h);const v=r(i,["_self"]);v!=null&&c(n,["tunedModelInfo"],Wx(v));const g=r(i,["defaultCheckpointId"]);g!=null&&c(n,["defaultCheckpointId"],g);const T=r(i,["checkpoints"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(E=>E)),c(n,["checkpoints"],x)}return n}function Gx(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],QS(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],ZS(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const v=r(i,["inlineData"]);v!=null&&c(n,["inlineData"],xS(v));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const T=r(i,["thought"]);T!=null&&c(n,["thought"],T);const x=r(i,["thoughtSignature"]);x!=null&&c(n,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function Hx(i){const n={},o=r(i,["productImage"]);return o!=null&&c(n,["image"],Zt(o)),n}function zx(i,n){const o={},a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const p=r(i,["seed"]);n!==void 0&&p!=null&&c(n,["parameters","seed"],p);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const g=r(i,["addWatermark"]);n!==void 0&&g!=null&&c(n,["parameters","addWatermark"],g);const T=r(i,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const x=r(i,["outputCompressionQuality"]);n!==void 0&&x!=null&&c(n,["parameters","outputOptions","compressionQuality"],x);const E=r(i,["enhancePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","enhancePrompt"],E);const _=r(i,["labels"]);return n!==void 0&&_!=null&&c(n,["labels"],_),o}function Px(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["source"]);u!=null&&kx(u,o);const d=r(n,["config"]);return d!=null&&zx(d,o),o}function Vx(i){const n={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>qa(u))),c(n,["generatedImages"],a)}return n}function kx(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],Zt(u));const d=r(i,["productImages"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>Hx(h))),c(n,["instances[0]","productImages"],p)}return o}function Bx(i){const n={},o=r(i,["referenceImage"]);o!=null&&c(n,["referenceImage"],Zt(o));const a=r(i,["referenceId"]);a!=null&&c(n,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(n,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],qx(d));const p=r(i,["controlImageConfig"]);p!=null&&c(n,["controlImageConfig"],MS(p));const h=r(i,["styleImageConfig"]);h!=null&&c(n,["styleImageConfig"],h);const v=r(i,["subjectImageConfig"]);return v!=null&&c(n,["subjectImageConfig"],v),n}function Uh(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function Lh(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function Fx(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function Ox(i){const n={},o=r(i,["image"]);return o!=null&&c(n,["image"],Zt(o)),n}function Yx(i,n){const o={},a=r(i,["mode"]);n!==void 0&&a!=null&&c(n,["parameters","mode"],a);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const p=r(i,["maskDilation"]);n!==void 0&&p!=null&&c(n,["parameters","maskDilation"],p);const h=r(i,["binaryColorThreshold"]);n!==void 0&&h!=null&&c(n,["parameters","binaryColorThreshold"],h);const v=r(i,["labels"]);return n!==void 0&&v!=null&&c(n,["labels"],v),o}function Jx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["source"]);u!=null&&Xx(u,o);const d=r(n,["config"]);return d!=null&&Yx(d,o),o}function Kx(i){const n={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>vx(u))),c(n,["generatedMasks"],a)}return n}function Xx(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Zt(u));const d=r(i,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],Ox(d)),o}function qh(i){const n={},o=r(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function Qx(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],$S(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function Zx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(n,["functionDeclarations"],T)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],_x(h));const v=r(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],Ax(v));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}function Gh(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let x=o;Array.isArray(x)&&(x=x.map(E=>WS(E))),c(n,["functionDeclarations"],x)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(n,["codeExecution"],p);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const v=r(i,["googleMaps"]);v!=null&&c(n,["googleMaps"],v);const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],g);const T=r(i,["urlContext"]);return T!=null&&c(n,["urlContext"],T),n}function $x(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function Wx(i){const n={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function jx(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function eE(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function tE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","name"],we(i,a));const u=r(n,["config"]);return u!=null&&jx(u,o),o}function nE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["config"]);return u!=null&&eE(u,o),o}function iE(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&c(n,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const p=r(i,["includeRaiReason"]);n!==void 0&&p!=null&&c(n,["parameters","includeRaiReason"],p);const h=r(i,["outputMimeType"]);n!==void 0&&h!=null&&c(n,["parameters","outputOptions","mimeType"],h);const v=r(i,["outputCompressionQuality"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","compressionQuality"],v);const g=r(i,["enhanceInputImage"]);n!==void 0&&g!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],g);const T=r(i,["imagePreservationFactor"]);n!==void 0&&T!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],T);const x=r(i,["labels"]);n!==void 0&&x!=null&&c(n,["labels"],x);const E=r(i,["numberOfImages"]);n!==void 0&&E!=null&&c(n,["parameters","sampleCount"],E);const _=r(i,["mode"]);return n!==void 0&&_!=null&&c(n,["parameters","mode"],_),o}function lE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["image"]);u!=null&&c(o,["instances[0]","image"],Zt(u));const d=r(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=r(n,["config"]);return p!=null&&iE(p,o),o}function oE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>qa(d))),c(n,["generatedImages"],u)}return n}function aE(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],Qn(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function sE(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function rE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["_self"],Zt(o));const a=r(i,["maskMode"]);return a!=null&&c(n,["maskMode"],a),n}function uE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],Ga(o));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function cE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],Zt(o));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function Hh(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["videoBytes"]);a!=null&&c(n,["encodedVideo"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function zh(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["videoBytes"]);a!=null&&c(n,["bytesBase64Encoded"],Qn(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(i,n){const o={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["displayName"],a),o}function dE(i){const n={},o=r(i,["config"]);return o!=null&&fE(o,n),n}function mE(i,n){const o={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function pE(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=r(i,["config"]);return a!=null&&mE(a,n),n}function hE(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function gE(i,n){const o={},a=r(i,["customMetadata"]);if(n!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return n!==void 0&&u!=null&&c(n,["chunkingConfig"],u),o}function yE(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],TE(p)),n}function vE(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=r(i,["fileName"]);a!=null&&c(n,["fileName"],a);const u=r(i,["config"]);return u!=null&&gE(u,n),n}function TE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function SE(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function xE(i){const n={},o=r(i,["config"]);return o!=null&&SE(o,n),n}function EE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["fileSearchStores"],d)}return n}function Ph(i,n){const o={},a=r(i,["mimeType"]);n!==void 0&&a!=null&&c(n,["mimeType"],a);const u=r(i,["displayName"]);n!==void 0&&u!=null&&c(n,["displayName"],u);const d=r(i,["customMetadata"]);if(n!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(v=>v)),c(n,["customMetadata"],h)}const p=r(i,["chunkingConfig"]);return n!==void 0&&p!=null&&c(n,["chunkingConfig"],p),o}function CE(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=r(i,["config"]);return a!=null&&Ph(a,n),n}function _E(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AE="Content-Type",NE="X-Server-Timeout",bE="User-Agent",fu="x-goog-api-client",ME="1.31.0",RE=`google-genai-sdk/${ME}`,DE="v1beta1",wE="v1beta",th=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class IE{constructor(n){var o,a;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:DE,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:wE,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,a){const u=[this.getRequestUrlInternal(o)];return a&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,a);if(n.queryParams)for(const[p,h]of Object.entries(n.queryParams))u.searchParams.append(p,String(h));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,o){const a=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(o))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,a,u){if(o&&o.timeout||u){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>d.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),n.signal=p}return o&&o.extraBody!==null&&UE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,a),n}async unaryApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await nh(u),new au(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await nh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return al(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";for(;;){const{done:h,value:v}=yield Fe(u.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=d.decode(v,{stream:!0});try{const x=JSON.parse(g);if("error"in x){const E=JSON.parse(JSON.stringify(x.error)),_=E.status,M=E.code,D=`got status: ${_}. ${JSON.stringify(x)}`;if(M>=400&&M<600)throw new Ua({message:D,status:M})}}catch(x){if(x.name==="ApiError")throw x}p+=g;let T=p.match(th);for(;T;){const x=T[1];try{const E=new Response(x,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Fe(new au(E)),p=p.slice(T[0].length),T=p.match(th)}catch(E){throw new Error(`exception parsing stream chunk ${x}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},o=RE+" "+this.clientOptions.userAgentExtra;return n[bE]=o,n[fu]=o,n[AE]="application/json",n}async getHeadersInternal(n,o){const a=new Headers;if(n&&n.headers){for(const[u,d]of Object.entries(n.headers))a.append(u,d);n.timeout&&n.timeout>0&&a.append(NE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(n){var o;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(n,o){var a;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,p=await d.stat(n);u.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=h;const v={file:u},g=this.getFileName(n),T=j("upload/v1beta/files",v._url),x=await this.fetchUploadUrl(T,u.sizeBytes,u.mimeType,g,v,o==null?void 0:o.httpOptions);return d.upload(n,x,this)}async uploadFileToFileSearchStore(n,o,a){var u;const d=this.clientOptions.uploader,p=await d.stat(o),h=String(p.size),v=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:p.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${n}:uploadToFileSearchStore`,T=this.getFileName(o),x={};a!=null&&Ph(a,x);const E=await this.fetchUploadUrl(g,h,v,T,x,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,E,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,a,u,d,p){var h;let v={};p?v=p:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const g=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const T=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(T===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return T}}async function nh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw o>=400&&o<600?new Ua({message:u,status:o}):new Error(u)}}function UE(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const h=Object.assign({},d);for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v)){const g=p[v],T=h[v];g&&typeof g=="object"&&!Array.isArray(g)&&T&&typeof T=="object"&&!Array.isArray(T)?h[v]=a(T,g):(T&&g&&typeof T!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof T}, New type: ${typeof g}. Overwriting.`),h[v]=g)}return h}const u=a(o,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE="mcp_used/unknown";let qE=!1;function Vh(i){for(const n of i)if(GE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return qE}function kh(i){var n;const o=(n=i[fu])!==null&&n!==void 0?n:"";i[fu]=(o+` ${LE}`).trimStart()}function GE(i){return i!==null&&typeof i=="object"&&i instanceof Au}function HE(i,n=100){return al(this,arguments,function*(){let a,u=0;for(;u<n;){const d=yield Fe(i.listTools({cursor:a}));for(const p of d.tools)yield yield Fe(p),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Au{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Au(n,o)}async initialize(){var n,o,a,u;if(this.mcpTools.length>0)return;const d={},p=[];for(const T of this.mcpClients)try{for(var h=!0,v=(o=void 0,so(HE(T))),g;g=await v.next(),n=g.done,!n;h=!0){u=g.value,h=!1;const x=u;p.push(x);const E=x.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=T}}catch(x){o={error:x}}finally{try{!h&&!n&&(a=v.return)&&await a.call(v)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),h0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await u.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function zE(i,n,o){const a=new s0;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(a,u),n(a)}class PE{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a}async connect(n){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=BE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),v=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const T=new Promise(O=>{g=O}),x=n.callbacks,E=function(){g({})},_=this.apiClient,M={onopen:E,onmessage:O=>{zE(_,x.onmessage,O)},onerror:(o=x==null?void 0:x.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=x==null?void 0:x.onclose)!==null&&a!==void 0?a:function(O){}},D=this.webSocketFactory.create(v,kE(p),M);D.connect(),await T;const X={setup:{model:we(this.apiClient,n.model)}};return D.send(JSON.stringify(X)),new VE(D,this.apiClient)}}class VE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=dS(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=fS(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ll.PLAY)}pause(){this.sendPlaybackControl(ll.PAUSE)}stop(){this.sendPlaybackControl(ll.STOP)}resetContext(){this.sendPlaybackControl(ll.RESET_CONTEXT)}close(){this.conn.close()}}function kE(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function BE(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OE(i,n,o){const a=new a0;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(i.isVertexAI()){const p=hS(d);Object.assign(a,p)}else Object.assign(a,d);n(a)}class YE{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a,this.music=new PE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,a,u,d,p,h;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let T;const x=this.apiClient.getHeaders();n.config&&n.config.tools&&Vh(n.config.tools)&&kh(x);const E=QE(x);if(this.apiClient.isVertexAI())T=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,T);else{const W=this.apiClient.getApiKey();let ue="BidiGenerateContent",pe="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",pe="access_token"),T=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ue}?${pe}=${W}`}let _=()=>{};const M=new Promise(W=>{_=W}),D=n.callbacks,F=function(){var W;(W=D==null?void 0:D.onopen)===null||W===void 0||W.call(D),_({})},K=this.apiClient,X={onopen:F,onmessage:W=>{OE(K,D.onmessage,W)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(W){},onclose:(a=D==null?void 0:D.onclose)!==null&&a!==void 0?a:function(W){}},O=this.webSocketFactory.create(T,XE(E),X);O.connect(),await M;let $=we(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const W=this.apiClient.getProject(),ue=this.apiClient.getLocation();$=`projects/${W}/locations/${ue}/`+$}let ee={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Ra.AUDIO]}:n.config.responseModalities=[Ra.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(h=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],Y=[];for(const W of B)if(this.isCallableTool(W)){const ue=W;Y.push(await ue.tool())}else Y.push(W);Y.length>0&&(n.config.tools=Y);const ce={model:$,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?ee=cS(this.apiClient,ce):ee=uS(this.apiClient,ce),delete ee.config,O.send(JSON.stringify(ee)),new KE(O,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const JE={turnComplete:!0};class KE{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Yt(o.turns),n.isVertexAI()||(a=a.map(u=>La(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(FE)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},JE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:pS(n)}:o={realtimeInput:mS(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function XE(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function QE(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ih=10;function lh(i){var n,o,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(sl(p)){u=!0;break}if(!u)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function sl(i){return"callTool"in i&&typeof i.callTool=="function"}function ZE(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>sl(u)))!==null&&a!==void 0?a:!1}function oh(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,u)=>{if(sl(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(u)}),o}function ah(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $E extends xn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var a,u,d,p,h;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!ZE(o)||lh(o.config))return await this.generateContentInternal(v);const g=oh(o);if(g.length>0){const D=g.map(F=>`tools[${F}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let T,x;const E=Yt(v.contents),_=(d=(u=(a=v.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:ih;let M=0;for(;M<_&&(T=await this.generateContentInternal(v),!(!T.functionCalls||T.functionCalls.length===0));){const D=T.candidates[0].content,F=[];for(const K of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(sl(K)){const O=await K.callTool(T.functionCalls);F.push(...O)}M++,x={role:"user",parts:F},v.contents=Yt(v.contents),v.contents.push(D),v.contents.push(x),ah(v.config)&&(E.push(D),E.push(x))}return ah(v.config)&&(T.automaticFunctionCallingHistory=E),T},this.generateContentStream=async o=>{var a,u,d,p,h;if(this.maybeMoveToResponseJsonSchem(o),lh(o.config)){const x=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(x)}const v=oh(o);if(v.length>0){const x=v.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${x}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(d=(u=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,T=(h=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!T)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var u;let d;const p=[];if(a!=null&&a.generatedImages)for(const v of a.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((u=v==null?void 0:v.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:p.push(v);let h;return d?h={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new vi(Sn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var a,u,d,p,h,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((v=(h=o.source)===null||h===void 0?void 0:h.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,a,u;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const p=await Promise.all(d.map(async v=>sl(v)?await v.tool():v)),h={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(h.config.tools=p,n.config&&n.config.tools&&Vh(n.config.tools)){const v=(u=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),kh(g),h.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(n){var o,a,u;const d=new Map;for(const p of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(sl(p)){const h=p,v=await h.tool();for(const g of(u=v.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,h)}}return d}async processAfcStream(n){var o,a,u;const d=(u=(a=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:ih;let p=!1,h=0;const v=await this.initAfcToolsMap(n);return(function(g,T,x){var E,_;return al(this,arguments,function*(){for(var M,D,F,K;h<d;){p&&(h++,p=!1);const ee=yield Fe(g.processParamsMaybeAddMcpUsage(x)),B=yield Fe(g.generateContentStreamInternal(ee)),Y=[],ce=[];try{for(var X=!0,O=(D=void 0,so(B)),$;$=yield Fe(O.next()),M=$.done,!M;X=!0){K=$.value,X=!1;const W=K;if(yield yield Fe(W),W.candidates&&(!((E=W.candidates[0])===null||E===void 0)&&E.content)){ce.push(W.candidates[0].content);for(const ue of(_=W.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(h<d&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(ue.functionCall.name)){const pe=yield Fe(T.get(ue.functionCall.name).callTool([ue.functionCall]));Y.push(...pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(W){D={error:W}}finally{try{!X&&!M&&(F=O.return)&&(yield Fe(F.call(O)))}finally{if(D)throw D.error}}if(Y.length>0){p=!0;const W=new oo;W.candidates=[{content:{role:"user",parts:Y}}],yield yield Fe(W);const ue=[];ue.push(...ce),ue.push({role:"user",parts:Y});const pe=Yt(x.contents).concat(ue);x.contents=pe}else break}})})(this,v,n)}async generateContentInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=Wp(this.apiClient,n);return h=j("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=eh(T),E=new oo;return Object.assign(E,x),E})}else{const g=$p(this.apiClient,n);return h=j("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=jp(T),E=new oo;return Object.assign(E,x),E})}}async generateContentStreamInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=Wp(this.apiClient,n);return h=j("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(x){return al(this,arguments,function*(){var E,_,M,D;try{for(var F=!0,K=so(x),X;X=yield Fe(K.next()),E=X.done,!E;F=!0){D=X.value,F=!1;const O=D,$=eh(yield Fe(O.json()));$.sdkHttpResponse={headers:O.headers};const ee=new oo;Object.assign(ee,$),yield yield Fe(ee)}}catch(O){_={error:O}}finally{try{!F&&!E&&(M=K.return)&&(yield Fe(M.call(K)))}finally{if(_)throw _.error}}})})}else{const g=$p(this.apiClient,n);return h=j("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(x){return al(this,arguments,function*(){var E,_,M,D;try{for(var F=!0,K=so(x),X;X=yield Fe(K.next()),E=X.done,!E;F=!0){D=X.value,F=!1;const O=D,$=jp(yield Fe(O.json()));$.sdkHttpResponse={headers:O.headers};const ee=new oo;Object.assign(ee,$),yield yield Fe(ee)}}catch(O){_={error:O}}finally{try{!F&&!E&&(M=K.return)&&(yield Fe(M.call(K)))}finally{if(_)throw _.error}}})})}}async embedContent(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=YS(this.apiClient,n);return h=j("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=KS(T),E=new Lp;return Object.assign(E,x),E})}else{const g=OS(this.apiClient,n);return h=j("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=JS(T),E=new Lp;return Object.assign(E,x),E})}}async generateImagesInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=lx(this.apiClient,n);return h=j("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=ax(T),E=new qp;return Object.assign(E,x),E})}else{const g=ix(this.apiClient,n);return h=j("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=ox(T),E=new qp;return Object.assign(E,x),E})}}async editImageInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=VS(this.apiClient,n);return d=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const g=kS(v),T=new Qv;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=lE(this.apiClient,n);return d=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const g=oE(v),T=new Zv;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=Px(this.apiClient,n);return d=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=Vx(v),T=new $v;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=Jx(this.apiClient,n);return d=j("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=Kx(v),T=new Wv;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=Cx(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>cu(T))}else{const g=Ex(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>uu(T))}}async listInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=Ix(this.apiClient,n);return h=j("{models_url}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=Lx(T),E=new Gp;return Object.assign(E,x),E})}else{const g=wx(this.apiClient,n);return h=j("{models_url}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=Ux(T),E=new Gp;return Object.assign(E,x),E})}}async update(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=nE(this.apiClient,n);return h=j("{model}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>cu(T))}else{const g=tE(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>uu(T))}}async delete(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=GS(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=zS(T),E=new Hp;return Object.assign(E,x),E})}else{const g=qS(this.apiClient,n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=HS(T),E=new Hp;return Object.assign(E,x),E})}}async countTokens(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=IS(this.apiClient,n);return h=j("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=LS(T),E=new zp;return Object.assign(E,x),E})}else{const g=wS(this.apiClient,n);return h=j("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=US(T),E=new zp;return Object.assign(E,x),E})}}async computeTokens(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=_S(this.apiClient,n);return d=j("{model}:computeTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>{const g=AS(v),T=new jv;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=dx(this.apiClient,n);return h=j("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p.then(T=>{const x=cx(T),E=new Da;return Object.assign(E,x),E})}else{const g=fx(this.apiClient,n);return h=j("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p.then(T=>{const x=ux(T),E=new Da;return Object.assign(E,x),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends xn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=Fv(n);return h=j("{operationName}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json()),p}else{const g=Bv(n);return h=j("{operationName}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json()),p}}async fetchPredictVideosOperationInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=qv(n);return d=j("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jE(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function eC(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>uC(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function tC(i,n,o){const a={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=r(n,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const h=r(n,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],rC(i,h));const v=r(n,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),a}function nC(i,n){const o={},a=r(n,["config"]);return a!=null&&c(o,["config"],tC(i,a,o)),o}function iC(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function lC(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function oC(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function aC(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function sC(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const v=r(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","mediaResolution"],g);const T=r(i,["seed"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","seed"],T);const x=r(i,["speechConfig"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","speechConfig"],_u(x));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const _=r(i,["enableAffectiveDialog"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],_);const M=r(i,["systemInstruction"]);n!==void 0&&M!=null&&c(n,["setup","systemInstruction"],eC(dt(M)));const D=r(i,["tools"]);if(n!==void 0&&D!=null){let B=ul(D);Array.isArray(B)&&(B=B.map(Y=>fC(rl(Y)))),c(n,["setup","tools"],B)}const F=r(i,["sessionResumption"]);n!==void 0&&F!=null&&c(n,["setup","sessionResumption"],cC(F));const K=r(i,["inputAudioTranscription"]);n!==void 0&&K!=null&&c(n,["setup","inputAudioTranscription"],K);const X=r(i,["outputAudioTranscription"]);n!==void 0&&X!=null&&c(n,["setup","outputAudioTranscription"],X);const O=r(i,["realtimeInputConfig"]);n!==void 0&&O!=null&&c(n,["setup","realtimeInputConfig"],O);const $=r(i,["contextWindowCompression"]);n!==void 0&&$!=null&&c(n,["setup","contextWindowCompression"],$);const ee=r(i,["proactivity"]);return n!==void 0&&ee!=null&&c(n,["setup","proactivity"],ee),o}function rC(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],we(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],sC(u,o)),o}function uC(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],iC(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],lC(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const v=r(i,["inlineData"]);v!=null&&c(n,["inlineData"],jE(v));const g=r(i,["text"]);g!=null&&c(n,["text"],g);const T=r(i,["thought"]);T!=null&&c(n,["thought"],T);const x=r(i,["thoughtSignature"]);x!=null&&c(n,["thoughtSignature"],x);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function cC(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function fC(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>x)),c(n,["functionDeclarations"],T)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],oC(h));const v=r(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],aC(v));const g=r(i,["urlContext"]);return g!=null&&c(n,["urlContext"],g),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${o}.${d}`);n.push(...u)}else n.push(o)}return n.join(",")}function mC(i,n){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const d=dC(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];u.length>0&&(h=u.map(g=>p.includes(g)?`generationConfig.${g}`:g));const v=[];d&&v.push(d),h.length>0&&v.push(...h),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class pC extends xn{constructor(n){super(),this.apiClient=n}async create(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=nC(this.apiClient,n);d=j("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const v=mC(h,n.config);return u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hC(i,n){const o={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function gC(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=r(i,["config"]);return a!=null&&hC(a,n),n}function yC(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function vC(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function TC(i){const n={},o=r(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const a=r(i,["config"]);return a!=null&&vC(a,n),n}function SC(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["documents"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends xn{constructor(n){super(),this.apiClient=n,this.list=async o=>new vi(Sn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yC(n);return d=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gC(n);u=j("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TC(n);return d=j("{parent}/documents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=SC(v),T=new e0;return Object.assign(T,g),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends xn{constructor(n,o=new xC(n)){super(),this.apiClient=n,this.documents=o,this.list=async(a={})=>new vi(Sn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=dE(n);return d=j("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async get(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hE(n);return d=j("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>v)}}async delete(n){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pE(n);u=j("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=xE(n);return d=j("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=EE(v),T=new t0;return Object.assign(T,g),T})}}async uploadToFileSearchStoreInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CE(n);return d=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=_E(v),T=new n0;return Object.assign(T,g),T})}}async importFile(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vE(n);return d=j("{file_search_store_name}:importFile",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),u.then(v=>{const g=yE(v),T=new Tu;return Object.assign(T,g),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function _C(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function AC(i,n){const o={},a=r(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function NC(i,n){const o={},a=r(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function bC(i,n,o){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&c(n,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const p=r(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=r(i,["batchSize"]);n!==void 0&&h!=null&&c(n,["tuningTask","hyperparameters","batchSize"],h);const v=r(i,["learningRate"]);if(n!==void 0&&v!=null&&c(n,["tuningTask","hyperparameters","learningRate"],v),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function MC(i,n,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=r(i,["validationDataset"]);n!==void 0&&_!=null&&c(n,["supervisedTuningSpec"],sh(_))}else if(u==="PREFERENCE_TUNING"){const _=r(i,["validationDataset"]);n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec"],sh(_))}const d=r(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const p=r(i,["description"]);n!==void 0&&p!=null&&c(n,["description"],p);let h=r(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=r(i,["epochCount"]);n!==void 0&&_!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(h==="PREFERENCE_TUNING"){const _=r(i,["epochCount"]);n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let v=r(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=r(i,["learningRateMultiplier"]);n!==void 0&&_!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(v==="PREFERENCE_TUNING"){const _=r(i,["learningRateMultiplier"]);n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let g=r(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=r(i,["exportLastCheckpointOnly"]);n!==void 0&&_!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(g==="PREFERENCE_TUNING"){const _=r(i,["exportLastCheckpointOnly"]);n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let T=r(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const _=r(i,["adapterSize"]);n!==void 0&&_!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(T==="PREFERENCE_TUNING"){const _=r(i,["adapterSize"]);n!==void 0&&_!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const x=r(i,["labels"]);n!==void 0&&x!=null&&c(n,["labels"],x);const E=r(i,["beta"]);return n!==void 0&&E!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function RC(i,n){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&VC(d);const p=r(i,["config"]);return p!=null&&bC(p,o),o}function DC(i,n){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&kC(d,o,n);const p=r(i,["config"]);return p!=null&&MC(p,o,n),o}function wC(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function IC(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function UC(i,n,o){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const p=r(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),a}function LC(i,n,o){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const p=r(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),a}function qC(i,n){const o={},a=r(i,["config"]);return a!=null&&UC(a,o),o}function GC(i,n){const o={},a=r(i,["config"]);return a!=null&&LC(a,o),o}function HC(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>Bh(h))),c(o,["tuningJobs"],p)}return o}function zC(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>du(h))),c(o,["tuningJobs"],p)}return o}function PC(i,n){const o={},a=r(i,["name"]);a!=null&&c(o,["model"],a);const u=r(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function VC(i,n){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(o,["examples","examples"],u)}return o}function kC(i,n,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=r(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(u==="PREFERENCE_TUNING"){const p=r(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=r(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=r(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=r(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Bh(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Eh(d));const p=r(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=r(i,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const v=r(i,["tuningTask","completeTime"]);v!=null&&c(o,["endTime"],v);const g=r(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const T=r(i,["description"]);T!=null&&c(o,["description"],T);const x=r(i,["baseModel"]);x!=null&&c(o,["baseModel"],x);const E=r(i,["_self"]);return E!=null&&c(o,["tunedModel"],PC(E)),o}function du(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Eh(d));const p=r(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=r(i,["startTime"]);h!=null&&c(o,["startTime"],h);const v=r(i,["endTime"]);v!=null&&c(o,["endTime"],v);const g=r(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const T=r(i,["error"]);T!=null&&c(o,["error"],T);const x=r(i,["description"]);x!=null&&c(o,["description"],x);const E=r(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const _=r(i,["tunedModel"]);_!=null&&c(o,["tunedModel"],_);const M=r(i,["preTunedModel"]);M!=null&&c(o,["preTunedModel"],M);const D=r(i,["supervisedTuningSpec"]);D!=null&&c(o,["supervisedTuningSpec"],D);const F=r(i,["preferenceOptimizationSpec"]);F!=null&&c(o,["preferenceOptimizationSpec"],F);const K=r(i,["tuningDataStats"]);K!=null&&c(o,["tuningDataStats"],K);const X=r(i,["encryptionSpec"]);X!=null&&c(o,["encryptionSpec"],X);const O=r(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const $=r(i,["customBaseModel"]);$!=null&&c(o,["customBaseModel"],$);const ee=r(i,["experiment"]);ee!=null&&c(o,["experiment"],ee);const B=r(i,["labels"]);B!=null&&c(o,["labels"],B);const Y=r(i,["outputUri"]);Y!=null&&c(o,["outputUri"],Y);const ce=r(i,["pipelineJob"]);ce!=null&&c(o,["pipelineJob"],ce);const W=r(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const ue=r(i,["tunedModelDisplayName"]);ue!=null&&c(o,["tunedModelDisplayName"],ue);const pe=r(i,["veoTuningSpec"]);return pe!=null&&c(o,["veoTuningSpec"],pe),o}function BC(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(i,["done"]);p!=null&&c(o,["done"],p);const h=r(i,["error"]);return h!=null&&c(o,["error"],h),o}function sh(i,n){const o={},a=r(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC extends xn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new vi(Sn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:ou.JOB_STATE_QUEUED}}}}async getInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=IC(n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>du(T))}else{const g=wC(n);return h=j("{name}",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>Bh(T))}}async listInternal(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=GC(n);return h=j("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=zC(T),E=new Pp;return Object.assign(E,x),E})}else{const g=qC(n);return h=j("tunedModels",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=HC(T),E=new Pp;return Object.assign(E,x),E})}}async cancel(n){var o,a,u,d;let p,h="",v={};if(this.apiClient.isVertexAI()){const g=_C(n);return h=j("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=NC(T),E=new Vp;return Object.assign(E,x),E})}else{const g=CC(n);return h=j("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(T=>T.json().then(x=>{const E=x;return E.sdkHttpResponse={headers:T.headers},E})),p.then(T=>{const x=AC(T),E=new Vp;return Object.assign(E,x),E})}}async tuneInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=DC(n,n);return d=j("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>du(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RC(n);return d=j("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:v.headers},T})),u.then(v=>BC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const YC=1024*1024*8,JC=3,KC=1e3,XC=2,Ia="x-goog-upload-status";async function QC(i,n,o){var a;const u=await Fh(i,n,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[Ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function ZC(i,n,o){var a;const u=await Fh(i,n,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[Ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=gh(d),h=new Su;return Object.assign(h,p),h}async function Fh(i,n,o){var a,u;let d=0,p=0,h=new au(new Response),v="upload";for(d=i.size;p<d;){const g=Math.min(YC,d-p),T=i.slice(p,p+g);p+g>=d&&(v+=", finalize");let x=0,E=KC;for(;x<JC&&(h=await o.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(p),"Content-Length":String(g)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[Ia]));)x++,await WC(E),E=E*XC;if(p+=g,((u=h==null?void 0:h.headers)===null||u===void 0?void 0:u[Ia])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function $C(i){return{size:i.size,type:i.type}}function WC(i){return new Promise(n=>setTimeout(n,i))}class jC{async upload(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await QC(n,o,a)}async uploadToFileSearchStore(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await ZC(n,o,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await $C(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e_{create(n,o,a){return new t_(n,o,a)}}class t_{constructor(n,o,a){this.url=n,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rh="x-goog-api-key";class n_{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(rh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(rh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_="gl-node/";class l_{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const a=Uv(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const u=new n_(this.apiKey);this.apiClient=new IE({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:i_+"web",uploader:new jC,downloader:new OC}),this.models=new $E(this.apiClient),this.live=new YE(this.apiClient,u,new e_),this.batches=new rT(this.apiClient),this.chats=new FT(this.models,this.apiClient),this.caches=new VT(this.apiClient),this.files=new jT(this.apiClient),this.operations=new WE(this.apiClient),this.authTokens=new pC(this.apiClient),this.tunings=new FC(this.apiClient),this.fileSearchStores=new EC(this.apiClient)}}const Oh=async()=>{try{let o=(await new l_({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:"Erstelle eine Liste von 10 typischen Aufgaben oder Dienstleistungen fr ein Unternehmen, das sowohl Mbeltransporte als auch Reinigungsdienste anbietet. Jede Aufgabe sollte eine kurze Beschreibung, eine empfohlene Menge von 1 und einen realistischen Einzelpreis in Euro haben.",config:{responseMimeType:"application/json",responseSchema:{type:It.OBJECT,properties:{tasks:{type:It.ARRAY,items:{type:It.OBJECT,properties:{description:{type:It.STRING},unitPrice:{type:It.NUMBER}},required:["description","unitPrice"]}}}}}})).text.trim();o.startsWith("```json")&&(o=o.substring(7)),o.endsWith("```")&&(o=o.substring(0,o.length-3));const a=JSON.parse(o);return a.tasks&&Array.isArray(a.tasks)?a.tasks.map((u,d)=>({id:`ai-item-${Date.now()}-${d}`,description:u.description,quantity:1,unitPrice:u.unitPrice})):[]}catch(i){return console.error("Error calling Gemini API:",i),[{id:"fallback-1",description:"Fehler bei der KI-Anfrage. Bitte manuell hinzufgen.",quantity:1,unitPrice:0}]}},mu=window.jspdf,pu=window.html2canvas,o_=({onClose:i,onSave:n,clients:o,companyInfo:a,existingItems:u,setExistingItems:d,lastInvoiceNumber:p})=>{var ge;const[h,v]=ie.useState({id:Date.now().toString(),invoiceNumber:`${a.invoiceNumberPrefix}${(p+1).toString()}`,clientId:((ge=o[0])==null?void 0:ge.id)||"",date:new Date().toISOString().split("T")[0],dueDate:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],items:[],taxRate:a.defaultTaxRate,status:et.Draft}),[g,T]=ie.useState(!1),[x,E]=ie.useState(!1),[_,M]=ie.useState(null),[D,F]=ie.useState(null),[K,X]=ie.useState(!1),[O,$]=ie.useState(null),ee=ie.useRef(null),[B,Y]=ie.useState(!1);ie.useEffect(()=>{navigator.share&&navigator.canShare&&Y(!0)},[]);const ce=()=>{const w=ee.current;w&&pu(w,{scale:2,windowWidth:1200}).then(H=>{const Q=H.toDataURL("image/png"),de=new mu.jsPDF({orientation:"p",unit:"mm",format:"a4"}),Me=de.internal.pageSize.getWidth(),mt=H.height*Me/H.width;de.addImage(Q,"PNG",0,0,Me,mt),de.save(`Rechnung-${h.invoiceNumber}.pdf`)})},W=async()=>{const w=ee.current;if(w)try{const H=await pu(w,{scale:2}),Q=new mu.jsPDF({orientation:"p",unit:"mm",format:"a4"}),de=Q.internal.pageSize.getWidth(),Me=H.height*de/H.width,mt=H.toDataURL("image/png");Q.addImage(mt,"PNG",0,0,de,Me);const Ut=Q.output("blob"),lt=new File([Ut],`Rechnung-${h.invoiceNumber}.pdf`,{type:"application/pdf"});navigator.canShare&&navigator.canShare({files:[lt]})?await navigator.share({title:`Rechnung ${h.invoiceNumber}`,text:`Anbei die Rechnung ${h.invoiceNumber}`,files:[lt]}):alert("Das Teilen von Dateien wird von diesem Browser nicht untersttzt.")}catch(H){H.name!=="AbortError"&&(console.error("Fehler beim Teilen der PDF:",H),alert("Die PDF konnte nicht geteilt werden."))}},ue=w=>{v(H=>({...H,items:[...H.items,{...w,id:Date.now().toString()}]}))},pe=(w,H,Q)=>{const de=[...h.items];de[w][H]=Q,v(Me=>({...Me,items:de}))},ae=w=>{v(H=>({...H,items:H.items.filter((Q,de)=>de!==w)}))},Ge=async()=>{E(!0);const w=await Oh();d(H=>{const Q=new Set(H.map(Me=>Me.description)),de=w.filter(Me=>!Q.has(Me.description));return[...H,...de]}),E(!1)},se=(w,H)=>{M(H),w.dataTransfer.effectAllowed="move"},ye=w=>{w.preventDefault()},q=w=>{w!==_&&F(w)},J=()=>{F(null)},ne=(w,H)=>{if(w.preventDefault(),_===null||_===H){M(null),F(null);return}const Q=[...h.items],[de]=Q.splice(_,1);Q.splice(H,0,de),v(Me=>({...Me,items:Q})),M(null),F(null)},Ee=w=>{d(H=>[...H,w]),X(!1)},Ie=w=>{d(H=>H.map(Q=>Q.id===w.id?w:Q)),$(null)},b=w=>{d(H=>H.filter(Q=>Q.id!==w))},V=({template:w,onSave:H,onCancel:Q})=>{const[de,Me]=ie.useState(w),mt=!("id"in de),Ut=Jt=>{const{name:Zn,value:$n,type:Ti}=Jt.target;Me(Wn=>({...Wn,[Zn]:Ti==="number"?parseFloat($n)||0:$n}))},lt=Jt=>{Jt.preventDefault(),H({...de,id:mt?`manual-item-${Date.now()}`:de.id,quantity:1})};return y.jsxs("form",{onSubmit:lt,className:"flex gap-2 items-center p-2 bg-violet-50 rounded shadow-sm my-2",children:[y.jsx("input",{name:"description",value:de.description,onChange:Ut,placeholder:"Beschreibung",className:"flex-grow bg-white p-2 rounded text-black border border-gray-300",required:!0}),y.jsx("input",{name:"unitPrice",type:"number",step:"0.01",value:de.unitPrice,onChange:Ut,placeholder:"Preis",className:"w-24 bg-white p-2 rounded text-black border border-gray-300",required:!0}),y.jsx("button",{type:"submit",className:"p-2 text-green-600 hover:text-green-800",title:"Speichern",children:y.jsx(xe,{path:Se.check,className:"w-5 h-5"})}),y.jsx("button",{type:"button",onClick:Q,className:"p-2 text-red-600 hover:text-red-800",title:"Abbrechen",children:y.jsx(xe,{path:Se.xMark,className:"w-5 h-5"})})]})},Z=h.items.reduce((w,H)=>w+H.quantity*H.unitPrice,0),te=Z*(h.taxRate/100),me=Z+te;if(g){const w=o.find(H=>H.id===h.clientId);return y.jsxs("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-50 flex flex-col p-4 items-center",children:[y.jsx("div",{className:"w-full flex-1 overflow-auto mb-24 flex justify-center items-start pt-4",children:w&&y.jsx(yu,{ref:ee,invoice:h,client:w,companyInfo:a})}),y.jsxs("div",{className:"absolute bottom-[5rem] flex justify-center gap-2",children:[y.jsx("button",{onClick:()=>T(!1),className:"px-5 py-2 bg-gray-500 text-white rounded-lg shadow-md hover:bg-gray-600 transition-colors",children:"Schlieen"}),B&&y.jsx("button",{onClick:W,className:"px-5 py-2 bg-fuchsia-600 text-white rounded-lg shadow-md hover:bg-fuchsia-700 transition-colors",children:"Teilen"}),y.jsx("button",{onClick:ce,className:"px-5 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors",children:"PDF"}),y.jsx("button",{onClick:()=>{n(h),T(!1)},className:"px-5 py-2 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-colors",children:"Speichern"})]})]})}return y.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-lg",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4 text-black",children:"Neue Rechnung"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"invoice-clientId",className:"block text-sm font-medium text-black",children:"Kunde"}),y.jsx("select",{id:"invoice-clientId",value:h.clientId,onChange:w=>v(H=>({...H,clientId:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black",children:o.map(w=>y.jsx("option",{value:w.id,children:w.name},w.id))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"invoice-invoiceNumber",className:"block text-sm font-medium text-black",children:"Rechnungsnummer"}),y.jsx("input",{id:"invoice-invoiceNumber",type:"text",value:h.invoiceNumber,onChange:w=>v(H=>({...H,invoiceNumber:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"invoice-date",className:"block text-sm font-medium text-black",children:"Datum"}),y.jsx("input",{id:"invoice-date",type:"date",value:h.date,onChange:w=>v(H=>({...H,date:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"invoice-dueDate",className:"block text-sm font-medium text-black",children:"Fllig am"}),y.jsx("input",{id:"invoice-dueDate",type:"date",value:h.dueDate,onChange:w=>v(H=>({...H,dueDate:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black"})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-xl font-semibold mb-2 text-black",children:"Positionen"}),y.jsx("div",{className:"space-y-2",children:h.items.map((w,H)=>y.jsxs("div",{draggable:!0,onDragStart:Q=>se(Q,H),onDragOver:ye,onDrop:Q=>ne(Q,H),onDragEnter:()=>q(H),onDragLeave:J,className:`grid grid-cols-12 gap-2 items-center p-1 rounded transition-all duration-200 ${_===H?"opacity-50":""} ${D===H?"bg-violet-100":""}`,children:[y.jsx("div",{className:"col-span-1 flex justify-center items-center cursor-move text-black",title:"Position verschieben",children:y.jsx(xe,{path:Se.dragHandle,className:"w-5 h-5"})}),y.jsx("input",{type:"text",value:w.description,onChange:Q=>pe(H,"description",Q.target.value),placeholder:"Beschreibung",className:"col-span-4 bg-gray-200 p-2 rounded text-black"}),y.jsx("input",{type:"number",value:w.quantity,onChange:Q=>pe(H,"quantity",parseFloat(Q.target.value)),placeholder:"Menge",className:"col-span-2 bg-gray-200 p-2 rounded text-black"}),y.jsx("input",{type:"number",value:w.unitPrice,onChange:Q=>pe(H,"unitPrice",parseFloat(Q.target.value)),placeholder:"Preis",className:"col-span-2 bg-gray-200 p-2 rounded text-black"}),y.jsxs("span",{className:"col-span-2 text-right pr-2 text-black",children:[(w.quantity*w.unitPrice).toFixed(2)," ",a.currency]}),y.jsx("button",{onClick:()=>ae(H),className:"col-span-1 text-red-500 hover:text-red-700 flex justify-center items-center",children:y.jsx(xe,{path:Se.trash,className:"w-5 h-5"})})]},w.id))}),y.jsx("div",{className:"mt-2",children:y.jsxs("button",{onClick:()=>ue({id:Date.now().toString(),description:"",quantity:1,unitPrice:0}),className:"px-4 py-2 bg-gray-200 text-black rounded shadow hover:bg-gray-300 flex items-center gap-2 text-sm",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),"Leere Position hinzufgen"]})})]}),y.jsxs("div",{className:"border-t pt-6 mt-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"text-xl font-semibold text-black",children:"Aufgaben-Vorlagen"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:Ge,disabled:x,className:"px-4 py-2 bg-teal-500 text-white rounded shadow hover:bg-teal-600 flex items-center gap-2 disabled:bg-teal-300",children:[y.jsx(xe,{path:Se.sparkles,className:"w-5 h-5"}),x?"Generiere...":"KI Vorschlge"]}),y.jsxs("button",{onClick:()=>{X(!0),$(null)},className:"px-4 py-2 bg-blue-500 text-white rounded shadow hover:bg-blue-600 flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neue Vorlage"})]})]})]}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Fgen Sie Positionen aus Ihrer Vorlagen-Liste zur Rechnung hinzu oder verwalten Sie die Liste."}),K&&y.jsx(V,{template:{description:"",quantity:1,unitPrice:0},onSave:Ee,onCancel:()=>X(!1)}),y.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 border p-2 rounded-md bg-gray-50",children:u.length>0?u.map(w=>y.jsx("div",{children:(O==null?void 0:O.id)===w.id?y.jsx(V,{template:O,onSave:Ie,onCancel:()=>$(null)}):y.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded shadow-sm gap-2",children:[y.jsxs("span",{className:"text-black flex-grow truncate",title:w.description,children:[w.description," (",w.unitPrice.toFixed(2),a.currency,")"]}),y.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[y.jsx("button",{onClick:()=>ue(w),className:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:"Hinzufgen"}),y.jsx("button",{onClick:()=>{$(w),X(!1)},className:"p-2 text-gray-600 hover:text-violet-600",title:"Vorlage bearbeiten",children:y.jsx(xe,{path:Se.pencil,className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>b(w.id),className:"p-2 text-gray-600 hover:text-red-600",title:"Vorlage lschen",children:y.jsx(xe,{path:Se.trash,className:"w-4 h-4"})})]})]})},w.id)):y.jsx("p",{className:"text-center text-gray-500 p-4",children:"Keine Vorlagen vorhanden. Erstellen Sie eine neue oder nutzen Sie KI-Vorschlge."})})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("div",{className:"w-full md:w-1/3 space-y-2 text-black",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"Zwischensumme:"}),y.jsxs("span",{children:[Z.toFixed(2)," ",a.currency]})]}),y.jsxs("label",{htmlFor:"invoice-taxRate",className:"flex justify-between items-center",children:[y.jsx("span",{children:"MwSt. (%):"}),y.jsx("input",{id:"invoice-taxRate",type:"number",value:h.taxRate,onChange:w=>v(H=>({...H,taxRate:parseFloat(w.target.value)||0})),className:"w-20 bg-gray-200 p-1 rounded text-right text-black"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"MwSt.-Betrag:"}),y.jsxs("span",{children:[te.toFixed(2)," ",a.currency]})]}),y.jsxs("div",{className:"flex justify-between font-bold text-xl",children:[y.jsx("span",{children:"Gesamt:"}),y.jsxs("span",{children:[me.toFixed(2)," ",a.currency]})]})]})}),y.jsxs("div",{className:"flex justify-end gap-2 mt-8 border-t pt-4",children:[y.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Schlieen"}),y.jsx("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Vorschau & PDF"}),y.jsx("button",{onClick:()=>n(h),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Speichern"})]})]})},a_=i=>{switch(i){case et.Draft:return"bg-gray-200 text-gray-800";case et.Sent:return"bg-blue-200 text-blue-800";case et.Paid:return"bg-green-200 text-green-800";case et.Overdue:return"bg-red-200 text-red-800";default:return"bg-gray-200 text-gray-800"}},s_=({recurringInvoices:i,setRecurringInvoices:n,clients:o,companyInfo:a})=>{const[u,d]=ie.useState(!1);return y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-black",children:"Abo-Rechnungen"}),y.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-black text-white rounded-md shadow hover:bg-gray-800 transition-colors flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neues Abo"})]})]}),y.jsx("div",{className:"space-y-4",children:i.map(p=>{const h=o.find(v=>v.id===p.clientId);return y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-black",children:p.title}),y.jsxs("p",{className:"text-sm text-black",children:["An: ",h==null?void 0:h.name]}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Nchste Flligkeit: ",new Date(p.nextDueDate).toLocaleDateString("de-DE")]})]}),y.jsx("div",{children:y.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${p.isActive?"bg-green-200 text-green-800":"bg-gray-200 text-gray-800"}`,children:p.isActive?"Aktiv":"Pausiert"})})]},p.id)})})]})},r_=({invoices:i,setInvoices:n,recurringInvoices:o,setRecurringInvoices:a,clients:u,companyInfo:d,items:p,setItems:h})=>{const[v,g]=ie.useState(!1),[T,x]=ie.useState(""),[E,_]=ie.useState("invoices"),[M,D]=ie.useState(!1),[F,K]=ie.useState(null),[X,O]=ie.useState(null),$=ie.useRef(null),ee=se=>{n(ye=>[...ye.filter(q=>q.id!==se.id),se]),g(!1)},B=(se,ye)=>{n(i.map(q=>q.id===se?{...q,status:ye}:q))},Y=se=>{K(se),D(!0)},ce=()=>{F&&B(F.id,et.Sent),D(!1),K(null)},W=()=>{const se=$.current;!se||!X||pu(se,{scale:2,windowWidth:1200}).then(ye=>{const q=ye.toDataURL("image/png"),J=new mu.jsPDF({orientation:"p",unit:"mm",format:"a4"}),ne=J.internal.pageSize.getWidth(),Ee=ye.height*ne/ye.width;J.addImage(q,"PNG",0,0,ne,Ee),J.save(`Rechnung-${X.invoiceNumber}.pdf`)})},ue=()=>{if(i.length===0)return 0;const se=i.map(ye=>parseInt(ye.invoiceNumber.replace(d.invoiceNumberPrefix,""),10)).filter(ye=>!isNaN(ye));return Math.max(0,...se)},pe=ie.useMemo(()=>i.filter(se=>{const ye=u.find(J=>J.id===se.clientId),q=T.toLowerCase();return se.invoiceNumber.toLowerCase().includes(q)||(ye==null?void 0:ye.name.toLowerCase().includes(q))}),[i,u,T]),ae=({tab:se,label:ye})=>y.jsx("button",{onClick:()=>_(se),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${E===se?"bg-white text-black border-b-2 border-violet-500":"text-gray-500 hover:text-black"}`,children:ye}),Ge=u.find(se=>se.id===(F==null?void 0:F.clientId));return y.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[M&&F&&Ge&&y.jsx(hh,{show:M,onClose:()=>D(!1),recipientEmail:Ge.email,subject:`Rechnung ${F.invoiceNumber} von ${d.name}`,body:`Sehr geehrte/r ${Ge.name},

anbei erhalten Sie Ihre Rechnung ${F.invoiceNumber}.

(Die PDF wird bei einem echten E-Mail-Versand automatisch angehngt.)

${d.emailSignature||""}`,onSend:ce}),X&&y.jsxs("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-50 flex flex-col p-4 items-center",children:[y.jsx("div",{className:"w-full flex-1 overflow-auto mb-24 flex justify-center items-start pt-4",children:y.jsx(yu,{ref:$,invoice:X,client:u.find(se=>se.id===X.clientId),companyInfo:d})}),y.jsxs("div",{className:"absolute bottom-[5rem] flex justify-center gap-2",children:[y.jsx("button",{onClick:()=>O(null),className:"px-5 py-2 bg-gray-500 text-white rounded-lg shadow-md hover:bg-gray-600 transition-colors",children:"Schlieen"}),y.jsx("button",{onClick:W,className:"px-5 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors",children:"PDF Drucken / Speichern"})]})]}),v?y.jsx(o_,{onClose:()=>g(!1),onSave:ee,clients:u,companyInfo:d,existingItems:p,setExistingItems:h,lastInvoiceNumber:ue()}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-black",children:"Rechnungen"}),y.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-black text-white rounded-md shadow hover:bg-gray-800 transition-colors flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neue Rechnung"})]})]}),y.jsx("div",{className:"border-b border-gray-200 mb-6",children:y.jsxs("nav",{className:"-mb-px flex space-x-4","aria-label":"Tabs",children:[y.jsx(ae,{tab:"invoices",label:"Alle Rechnungen"}),y.jsx(ae,{tab:"recurring",label:"Abo-Rechnungen"})]})}),E==="invoices"&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsx("div",{className:"mb-6",children:y.jsx("input",{type:"text",placeholder:"Rechnungen suchen (Nr. oder Kunde)...",value:T,onChange:se=>x(se.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-md shadow-sm text-black placeholder-gray-500 focus:ring-violet-500 focus:border-violet-500"})}),y.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[pe.sort((se,ye)=>parseInt(ye.invoiceNumber.replace(d.invoiceNumberPrefix,""))-parseInt(se.invoiceNumber.replace(d.invoiceNumberPrefix,""))).map(se=>{const ye=u.find(ne=>ne.id===se.clientId),q=se.items.reduce((ne,Ee)=>ne+Ee.quantity*Ee.unitPrice,0)*(1+se.taxRate/100);let J=se.status;return se.status===et.Sent&&new Date(se.dueDate)<new Date&&(J=et.Overdue),y.jsxs("div",{className:"glass-card p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 group hover:border-blue-300 transition-all",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors",children:y.jsx(xe,{path:Se.invoices,className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsxs("p",{className:"font-bold text-gray-800 text-lg",children:["#",se.invoiceNumber]}),y.jsxs("p",{className:"text-sm text-gray-500",children:[(ye==null?void 0:ye.name)||"Unbekannt","  ",new Date(se.date).toLocaleDateString("de-DE")]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-bold text-xl text-gray-800",children:[q.toFixed(2)," ",d.currency]}),y.jsx("span",{className:`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full inline-block mt-1 ${a_(J)}`,children:J})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>O(se),className:"p-2 text-gray-400 hover:text-blue-600 bg-gray-50 hover:bg-blue-50 rounded-full transition-colors",title:"Vorschau & Drucken",children:y.jsx(xe,{path:Se.upload,className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>Y(se),className:"p-2 text-gray-400 hover:text-blue-600 bg-gray-50 hover:bg-blue-50 rounded-full transition-colors",title:"Per E-Mail senden",children:y.jsx(xe,{path:Se.email,className:"w-5 h-5"})}),y.jsx("select",{value:se.status,onChange:ne=>B(se.id,ne.target.value),className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2 outline-none",onClick:ne=>ne.stopPropagation(),children:Object.values(et).map(ne=>y.jsx("option",{value:ne,children:ne},ne))})]})]})]},se.id)}),i.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:y.jsx(xe,{path:Se.invoices,className:"w-10 h-10 text-gray-400"})}),y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Keine Rechnungen"}),y.jsx("p",{className:"text-gray-500 mt-1",children:"Erstellen Sie Ihre erste Rechnung, um loszulegen."})]})]})]}),E==="recurring"&&y.jsx("div",{className:"animate-fade-in",children:y.jsx(s_,{recurringInvoices:o,setRecurringInvoices:a,clients:u,companyInfo:d})})]})]})},Yh=ie.forwardRef(({offer:i,client:n,companyInfo:o},a)=>{const u=i.items.reduce((h,v)=>h+v.quantity*v.unitPrice,0),d=u*(i.taxRate/100),p=u+d;return y.jsxs("div",{ref:a,className:"bg-white text-black",style:{width:"210mm",minHeight:"297mm",padding:"15mm 20mm",margin:"0 auto",boxSizing:"border-box",fontFamily:'"Noto Serif", Georgia, serif',fontSize:"10pt",lineHeight:"1.4"},children:[y.jsxs("div",{style:{fontSize:"7pt",marginBottom:"3mm",color:"#666"},children:[o.name,"  ",o.address,"  ",o.zip," ",o.city]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15mm"},children:[y.jsxs("div",{style:{width:"85mm"},children:[y.jsx("div",{style:{fontWeight:"bold",fontSize:"11pt",marginBottom:"2mm"},children:n.name}),y.jsx("div",{children:n.address}),y.jsxs("div",{children:[n.zip," ",n.city]})]}),y.jsxs("div",{style:{width:"85mm",textAlign:"right",fontSize:"9pt"},children:[y.jsx("div",{style:{fontWeight:"bold",fontSize:"13pt",marginBottom:"3mm",color:"#1a1a1a"},children:o.name}),y.jsx("div",{children:o.address}),y.jsxs("div",{children:[o.zip," ",o.city]}),y.jsxs("div",{style:{marginTop:"2mm"},children:["Tel: ",o.phone]}),y.jsxs("div",{children:["E-Mail: ",o.email]}),o.taxNumber&&y.jsxs("div",{children:["St.-Nr.: ",o.taxNumber]})]})]}),y.jsxs("div",{style:{marginBottom:"8mm"},children:[y.jsxs("h1",{style:{fontSize:"18pt",fontWeight:"bold",color:"#8b5cf6",marginBottom:"4mm",letterSpacing:"0.5px"},children:["Angebot #",i.offerNumber]}),y.jsxs("div",{style:{display:"flex",gap:"15mm",fontSize:"9pt"},children:[y.jsxs("div",{children:[y.jsx("strong",{children:"Angebotsdatum:"})," ",new Date(i.date).toLocaleDateString("de-DE")]}),y.jsxs("div",{children:[y.jsx("strong",{children:"Gltig bis:"})," ",new Date(i.validUntil).toLocaleDateString("de-DE")]})]})]}),y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"8mm",fontSize:"9pt"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{backgroundColor:"#8b5cf6",color:"white"},children:[y.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontWeight:"600",width:"50%"},children:"Beschreibung"}),y.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontWeight:"600",width:"12%"},children:"Menge"}),y.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"600",width:"18%"},children:"Einzelpreis"}),y.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontWeight:"600",width:"20%"},children:"Gesamtpreis"})]})}),y.jsx("tbody",{children:i.items.map((h,v)=>y.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[y.jsx("td",{style:{padding:"5px 8px"},children:h.description}),y.jsx("td",{style:{padding:"5px 8px",textAlign:"center"},children:h.quantity}),y.jsxs("td",{style:{padding:"5px 8px",textAlign:"right"},children:[h.unitPrice.toFixed(2)," ",o.currency]}),y.jsxs("td",{style:{padding:"5px 8px",textAlign:"right",fontWeight:"500"},children:[(h.quantity*h.unitPrice).toFixed(2)," ",o.currency]})]},v))})]}),y.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12mm"},children:y.jsxs("div",{style:{width:"45%",fontSize:"10pt"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #e5e7eb"},children:[y.jsx("span",{children:"Zwischensumme:"}),y.jsxs("span",{style:{fontWeight:"500"},children:[u.toFixed(2)," ",o.currency]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #e5e7eb"},children:[y.jsxs("span",{children:["zzgl. ",i.taxRate,"% MwSt.:"]}),y.jsxs("span",{style:{fontWeight:"500"},children:[d.toFixed(2)," ",o.currency]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",marginTop:"3mm",borderTop:"2px solid #8b5cf6",fontSize:"13pt",fontWeight:"bold"},children:[y.jsx("span",{children:"Gesamtbetrag:"}),y.jsxs("span",{children:[p.toFixed(2)," ",o.currency]})]})]})}),y.jsxs("div",{style:{marginTop:"15mm",paddingTop:"8mm",borderTop:"1px solid #d1d5db",fontSize:"9pt"},children:[y.jsxs("p",{style:{marginBottom:"5mm",textAlign:"center",fontWeight:"500"},children:["Dieses Angebot ist gltig bis zum ",new Date(i.validUntil).toLocaleDateString("de-DE"),"."]}),o.paymentNotice&&y.jsx("p",{style:{textAlign:"center",fontWeight:"600",marginBottom:"5mm",color:"#8b5cf6"},children:o.paymentNotice}),y.jsxs("div",{style:{padding:"5mm",backgroundColor:"#f9fafb",borderRadius:"2mm",marginTop:"5mm",textAlign:"center"},children:[y.jsx("p",{style:{marginBottom:"3mm",fontWeight:"600"},children:"Bei Annahme dieses Angebots:"}),y.jsxs("p",{children:["Bitte besttigen Sie Ihre Auftragserteilung schriftlich oder per E-Mail an ",o.email]})]}),y.jsx("p",{style:{textAlign:"center",marginTop:"8mm",fontStyle:"italic",color:"#666"},children:"Wir freuen uns auf Ihre Rckmeldung!"})]}),y.jsxs("div",{style:{position:"absolute",bottom:"10mm",left:"20mm",right:"20mm",fontSize:"7pt",color:"#666",textAlign:"center",borderTop:"0.5px solid #d1d5db",paddingTop:"3mm"},children:[o.name,"  ",o.address,"  ",o.zip," ",o.city,o.taxNumber&&`  St.-Nr.: ${o.taxNumber}`]})]})});Yh.displayName="OfferPreview";const uh=window.jspdf,ch=window.html2canvas,u_=({onClose:i,onSave:n,clients:o,companyInfo:a,existingItems:u,setExistingItems:d,lastOfferNumber:p})=>{var ge;const[h,v]=ie.useState({id:Date.now().toString(),offerNumber:`${a.offerNumberPrefix}${(p+1).toString()}`,clientId:((ge=o[0])==null?void 0:ge.id)||"",date:new Date().toISOString().split("T")[0],validUntil:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],items:[],taxRate:a.defaultTaxRate,status:Ot.Draft}),[g,T]=ie.useState(!1),[x,E]=ie.useState(!1),[_,M]=ie.useState(null),[D,F]=ie.useState(null),[K,X]=ie.useState(!1),[O,$]=ie.useState(null),ee=ie.useRef(null),[B,Y]=ie.useState(!1);ie.useEffect(()=>{navigator.share&&navigator.canShare&&Y(!0)},[]);const ce=()=>{const w=ee.current;w&&ch(w,{scale:2,windowWidth:1200}).then(H=>{const Q=H.toDataURL("image/png"),de=new uh.jsPDF({orientation:"p",unit:"mm",format:"a4"}),Me=de.internal.pageSize.getWidth(),mt=H.height*Me/H.width;de.addImage(Q,"PNG",0,0,Me,mt),de.save(`Angebot-${h.offerNumber}.pdf`)})},W=async()=>{const w=ee.current;if(w)try{const H=await ch(w,{scale:2,windowWidth:1200}),Q=new uh.jsPDF({orientation:"p",unit:"mm",format:"a4"}),de=Q.internal.pageSize.getWidth(),Me=H.height*de/H.width,mt=H.toDataURL("image/png");Q.addImage(mt,"PNG",0,0,de,Me);const Ut=Q.output("blob"),lt=new File([Ut],`Angebot-${h.offerNumber}.pdf`,{type:"application/pdf"});navigator.canShare&&navigator.canShare({files:[lt]})?await navigator.share({title:`Angebot ${h.offerNumber}`,text:`Anbei das Angebot ${h.offerNumber}`,files:[lt]}):alert("Das Teilen von Dateien wird von diesem Browser nicht untersttzt.")}catch(H){H.name!=="AbortError"&&(console.error("Fehler beim Teilen der PDF:",H),alert("Die PDF konnte nicht geteilt werden."))}},ue=w=>{v(H=>({...H,items:[...H.items,{...w,id:Date.now().toString()}]}))},pe=(w,H,Q)=>{const de=[...h.items];de[w][H]=Q,v(Me=>({...Me,items:de}))},ae=w=>{v(H=>({...H,items:H.items.filter((Q,de)=>de!==w)}))},Ge=async()=>{E(!0);const w=await Oh();d(H=>{const Q=new Set(H.map(Me=>Me.description)),de=w.filter(Me=>!Q.has(Me.description));return[...H,...de]}),E(!1)},se=(w,H)=>{M(H),w.dataTransfer.effectAllowed="move"},ye=w=>{w.preventDefault()},q=w=>{w!==_&&F(w)},J=()=>{F(null)},ne=(w,H)=>{if(w.preventDefault(),_===null||_===H){M(null),F(null);return}const Q=[...h.items],[de]=Q.splice(_,1);Q.splice(H,0,de),v(Me=>({...Me,items:Q})),M(null),F(null)},Ee=w=>{d(H=>[...H,w]),X(!1)},Ie=w=>{d(H=>H.map(Q=>Q.id===w.id?w:Q)),$(null)},b=w=>{d(H=>H.filter(Q=>Q.id!==w))},V=({template:w,onSave:H,onCancel:Q})=>{const[de,Me]=ie.useState(w),mt=!("id"in de),Ut=Jt=>{const{name:Zn,value:$n,type:Ti}=Jt.target;Me(Wn=>({...Wn,[Zn]:Ti==="number"?parseFloat($n)||0:$n}))},lt=Jt=>{Jt.preventDefault(),H({...de,id:mt?`manual-item-${Date.now()}`:de.id,quantity:1})};return y.jsxs("form",{onSubmit:lt,className:"flex gap-2 items-center p-2 bg-violet-50 rounded shadow-sm my-2",children:[y.jsx("input",{name:"description",value:de.description,onChange:Ut,placeholder:"Beschreibung",className:"flex-grow bg-white p-2 rounded text-black border border-gray-300",required:!0}),y.jsx("input",{name:"unitPrice",type:"number",step:"0.01",value:de.unitPrice,onChange:Ut,placeholder:"Preis",className:"w-24 bg-white p-2 rounded text-black border border-gray-300",required:!0}),y.jsx("button",{type:"submit",className:"p-2 text-green-600 hover:text-green-800",title:"Speichern",children:y.jsx(xe,{path:Se.check,className:"w-5 h-5"})}),y.jsx("button",{type:"button",onClick:Q,className:"p-2 text-red-600 hover:text-red-800",title:"Abbrechen",children:y.jsx(xe,{path:Se.xMark,className:"w-5 h-5"})})]})},Z=h.items.reduce((w,H)=>w+H.quantity*H.unitPrice,0),te=Z*(h.taxRate/100),me=Z+te;if(g){const w=o.find(H=>H.id===h.clientId);return y.jsxs("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 z-50 flex flex-col p-4 items-center",children:[y.jsx("div",{className:"w-full max-w-3xl bg-white rounded-lg shadow-xl flex-1 overflow-y-auto mb-24",children:w&&y.jsx(Yh,{ref:ee,offer:h,client:w,companyInfo:a})}),y.jsxs("div",{className:"absolute bottom-[5rem] flex justify-center gap-2",children:[y.jsx("button",{onClick:()=>T(!1),className:"px-5 py-2 bg-gray-500 text-white rounded-lg shadow-md hover:bg-gray-600 transition-colors",children:"Schlieen"}),B&&y.jsx("button",{onClick:W,className:"px-5 py-2 bg-fuchsia-600 text-white rounded-lg shadow-md hover:bg-fuchsia-700 transition-colors",children:"Teilen"}),y.jsx("button",{onClick:ce,className:"px-5 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition-colors",children:"PDF"}),y.jsx("button",{onClick:()=>{n(h),T(!1)},className:"px-5 py-2 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition-colors",children:"Speichern"})]})]})}return y.jsxs("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-lg",children:[y.jsx("h2",{className:"text-2xl font-bold mb-4 text-black",children:"Neues Angebot"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"offer-clientId",className:"block text-sm font-medium text-black",children:"Kunde"}),y.jsx("select",{id:"offer-clientId",value:h.clientId,onChange:w=>v(H=>({...H,clientId:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black",children:o.map(w=>y.jsx("option",{value:w.id,children:w.name},w.id))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"offer-offerNumber",className:"block text-sm font-medium text-black",children:"Angebotsnummer"}),y.jsx("input",{id:"offer-offerNumber",type:"text",value:h.offerNumber,onChange:w=>v(H=>({...H,offerNumber:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"offer-date",className:"block text-sm font-medium text-black",children:"Datum"}),y.jsx("input",{id:"offer-date",type:"date",value:h.date,onChange:w=>v(H=>({...H,date:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"offer-validUntil",className:"block text-sm font-medium text-black",children:"Gltig bis"}),y.jsx("input",{id:"offer-validUntil",type:"date",value:h.validUntil,onChange:w=>v(H=>({...H,validUntil:w.target.value})),className:"mt-1 w-full bg-gray-200 p-2 rounded text-black"})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-xl font-semibold mb-2 text-black",children:"Positionen"}),y.jsx("div",{className:"space-y-2",children:h.items.map((w,H)=>y.jsxs("div",{draggable:!0,onDragStart:Q=>se(Q,H),onDragOver:ye,onDrop:Q=>ne(Q,H),onDragEnter:()=>q(H),onDragLeave:J,className:`grid grid-cols-12 gap-2 items-center p-1 rounded transition-all duration-200 ${_===H?"opacity-50":""} ${D===H?"bg-violet-100":""}`,children:[y.jsx("div",{className:"col-span-1 flex justify-center items-center cursor-move text-black",title:"Position verschieben",children:y.jsx(xe,{path:Se.dragHandle,className:"w-5 h-5"})}),y.jsx("input",{type:"text",value:w.description,onChange:Q=>pe(H,"description",Q.target.value),placeholder:"Beschreibung",className:"col-span-4 bg-gray-200 p-2 rounded text-black"}),y.jsx("input",{type:"number",value:w.quantity,onChange:Q=>pe(H,"quantity",parseFloat(Q.target.value)),placeholder:"Menge",className:"col-span-2 bg-gray-200 p-2 rounded text-black"}),y.jsx("input",{type:"number",value:w.unitPrice,onChange:Q=>pe(H,"unitPrice",parseFloat(Q.target.value)),placeholder:"Preis",className:"col-span-2 bg-gray-200 p-2 rounded text-black"}),y.jsxs("span",{className:"col-span-2 text-right pr-2 text-black",children:[(w.quantity*w.unitPrice).toFixed(2)," ",a.currency]}),y.jsx("button",{onClick:()=>ae(H),className:"col-span-1 text-red-500 hover:text-red-700 flex justify-center items-center",children:y.jsx(xe,{path:Se.trash,className:"w-5 h-5"})})]},w.id))}),y.jsx("div",{className:"mt-2",children:y.jsxs("button",{onClick:()=>ue({id:Date.now().toString(),description:"",quantity:1,unitPrice:0}),className:"px-4 py-2 bg-gray-200 text-black rounded shadow hover:bg-gray-300 flex items-center gap-2 text-sm",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),"Leere Position hinzufgen"]})})]}),y.jsxs("div",{className:"border-t pt-6 mt-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h3",{className:"text-xl font-semibold text-black",children:"Aufgaben-Vorlagen"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:Ge,disabled:x,className:"px-4 py-2 bg-teal-500 text-white rounded shadow hover:bg-teal-600 flex items-center gap-2 disabled:bg-teal-300",children:[y.jsx(xe,{path:Se.sparkles,className:"w-5 h-5"}),x?"Generiere...":"KI Vorschlge"]}),y.jsxs("button",{onClick:()=>{X(!0),$(null)},className:"px-4 py-2 bg-blue-500 text-white rounded shadow hover:bg-blue-600 flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neue Vorlage"})]})]})]}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Fgen Sie Positionen aus Ihrer Vorlagen-Liste zum Angebot hinzu oder verwalten Sie die Liste."}),K&&y.jsx(V,{template:{description:"",quantity:1,unitPrice:0},onSave:Ee,onCancel:()=>X(!1)}),y.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2 border p-2 rounded-md bg-gray-50",children:u.length>0?u.map(w=>y.jsx("div",{children:(O==null?void 0:O.id)===w.id?y.jsx(V,{template:O,onSave:Ie,onCancel:()=>$(null)}):y.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded shadow-sm gap-2",children:[y.jsxs("span",{className:"text-black flex-grow truncate",title:w.description,children:[w.description," (",w.unitPrice.toFixed(2),a.currency,")"]}),y.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[y.jsx("button",{onClick:()=>ue(w),className:"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:"Hinzufgen"}),y.jsx("button",{onClick:()=>{$(w),X(!1)},className:"p-2 text-gray-600 hover:text-violet-600",title:"Vorlage bearbeiten",children:y.jsx(xe,{path:Se.pencil,className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>b(w.id),className:"p-2 text-gray-600 hover:text-red-600",title:"Vorlage lschen",children:y.jsx(xe,{path:Se.trash,className:"w-4 h-4"})})]})]})},w.id)):y.jsx("p",{className:"text-center text-gray-500 p-4",children:"Keine Vorlagen vorhanden. Erstellen Sie eine neue oder nutzen Sie KI-Vorschlge."})})]}),y.jsx("div",{className:"mt-6 flex justify-end",children:y.jsxs("div",{className:"w-full md:w-1/3 space-y-2 text-black",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"Zwischensumme:"}),y.jsxs("span",{children:[Z.toFixed(2)," ",a.currency]})]}),y.jsxs("label",{htmlFor:"offer-taxRate",className:"flex justify-between items-center",children:[y.jsx("span",{children:"MwSt. (%):"}),y.jsx("input",{id:"offer-taxRate",type:"number",value:h.taxRate,onChange:w=>v(H=>({...H,taxRate:parseFloat(w.target.value)||0})),className:"w-20 bg-gray-200 p-1 rounded text-right text-black"})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"MwSt.-Betrag:"}),y.jsxs("span",{children:[te.toFixed(2)," ",a.currency]})]}),y.jsxs("div",{className:"flex justify-between font-bold text-xl",children:[y.jsx("span",{children:"Gesamt:"}),y.jsxs("span",{children:[me.toFixed(2)," ",a.currency]})]})]})}),y.jsxs("div",{className:"flex justify-end gap-2 mt-8 border-t pt-4",children:[y.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Schlieen"}),y.jsx("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Vorschau & PDF"}),y.jsx("button",{onClick:()=>n(h),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Speichern"})]})]})},c_=i=>{switch(i){case Ot.Draft:return"bg-gray-200 text-gray-800";case Ot.Sent:return"bg-blue-200 text-blue-800";case Ot.Accepted:return"bg-green-200 text-green-800";case Ot.Rejected:return"bg-red-200 text-red-800";default:return"bg-gray-200 text-gray-800"}},f_=({offers:i,setOffers:n,clients:o,companyInfo:a,items:u,setItems:d,onConvertToInvoice:p})=>{const[h,v]=ie.useState(!1),[g,T]=ie.useState(""),[x,E]=ie.useState(!1),[_,M]=ie.useState(null),D=B=>{n(Y=>[...Y.filter(ce=>ce.id!==B.id),B]),v(!1)},F=(B,Y)=>{n(i.map(ce=>ce.id===B?{...ce,status:Y}:ce))},K=B=>{M(B),E(!0)},X=()=>{_&&F(_.id,Ot.Sent),E(!1),M(null)},O=()=>{if(i.length===0)return 0;const B=i.map(Y=>parseInt(Y.offerNumber.replace(a.offerNumberPrefix,""),10)).filter(Y=>!isNaN(Y));return Math.max(0,...B)},$=ie.useMemo(()=>i.filter(B=>{const Y=o.find(W=>W.id===B.clientId),ce=g.toLowerCase();return B.offerNumber.toLowerCase().includes(ce)||(Y==null?void 0:Y.name.toLowerCase().includes(ce))}),[i,o,g]),ee=o.find(B=>B.id===(_==null?void 0:_.clientId));return y.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[x&&_&&ee&&y.jsx(hh,{show:x,onClose:()=>E(!1),recipientEmail:ee.email,subject:`Angebot ${_.offerNumber} von ${a.name}`,body:`Sehr geehrte/r ${ee.name},

anbei erhalten Sie Ihr angefordertes Angebot ${_.offerNumber}.

(Die PDF wird bei einem echten E-Mail-Versand automatisch angehngt.)

${a.emailSignature||""}`,onSend:X}),h?y.jsx(u_,{onClose:()=>v(!1),onSave:D,clients:o,companyInfo:a,existingItems:u,setExistingItems:d,lastOfferNumber:O()}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-black",children:"Angebote"}),y.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-black text-white rounded-md shadow hover:bg-gray-800 transition-colors flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neues Angebot"})]})]}),y.jsx("div",{className:"mb-6",children:y.jsx("input",{type:"text",placeholder:"Angebote suchen (Nr. oder Kunde)...",value:g,onChange:B=>T(B.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-md shadow-sm text-black placeholder-gray-500 focus:ring-violet-500 focus:border-violet-500"})}),y.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[$.sort((B,Y)=>parseInt(Y.offerNumber.replace(a.offerNumberPrefix,""))-parseInt(B.offerNumber.replace(a.offerNumberPrefix,""))).map(B=>{const Y=o.find(W=>W.id===B.clientId),ce=B.items.reduce((W,ue)=>W+ue.quantity*ue.unitPrice,0)*(1+B.taxRate/100);return y.jsxs("div",{className:"glass-card p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 group hover:border-purple-300 transition-all",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-50 text-purple-600 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-colors",children:y.jsx(xe,{path:Se.offers,className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsxs("p",{className:"font-bold text-gray-800 text-lg",children:["#",B.offerNumber]}),y.jsxs("p",{className:"text-sm text-gray-500",children:[(Y==null?void 0:Y.name)||"Unbekannt","  ",new Date(B.date).toLocaleDateString("de-DE")]})]})]}),y.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-bold text-xl text-gray-800",children:[ce.toFixed(2)," ",a.currency]}),y.jsx("span",{className:`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full inline-block mt-1 ${c_(B.status)}`,children:B.status})]}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>p(B),disabled:B.status===Ot.Accepted,className:"p-2 bg-green-50 text-green-600 hover:bg-green-600 hover:text-white rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"In Rechnung umwandeln",children:y.jsx(xe,{path:Se.convert,className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>K(B),className:"p-2 text-gray-400 hover:text-blue-600 bg-gray-50 hover:bg-blue-50 rounded-full transition-colors",title:"Per E-Mail senden",children:y.jsx(xe,{path:Se.email,className:"w-5 h-5"})}),y.jsx("select",{value:B.status,onChange:W=>F(B.id,W.target.value),className:"bg-gray-50 border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-purple-500 focus:border-purple-500 block p-2 outline-none",onClick:W=>W.stopPropagation(),children:Object.values(Ot).map(W=>y.jsx("option",{value:W,children:W},W))})]})]})]},B.id)}),i.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:y.jsx(xe,{path:Se.offers,className:"w-10 h-10 text-gray-400"})}),y.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Keine Angebote"}),y.jsx("p",{className:"text-gray-500 mt-1",children:"Erstellen Sie Ihr erstes Angebot."})]})]})]})]})},d_=i=>{const[n,o]=ie.useState("invoices");return y.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[y.jsx("div",{className:"bg-white border-b border-gray-200 px-4 pt-4 pb-2 sticky top-0 z-10",children:y.jsxs("nav",{className:"flex gap-2","aria-label":"Tabs",children:[y.jsxs("button",{onClick:()=>o("invoices"),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${n==="invoices"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx("span",{className:"material-symbols-rounded text-xl",style:{fontVariationSettings:'"FILL" 1'},children:"receipt_long"}),"Rechnungen"]}),y.jsxs("button",{onClick:()=>o("offers"),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${n==="offers"?"bg-purple-100 text-purple-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx("span",{className:"material-symbols-rounded text-xl",style:{fontVariationSettings:'"FILL" 1'},children:"description"}),"Angebote"]})]})}),y.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:n==="invoices"?y.jsx(r_,{invoices:i.invoices,setInvoices:i.setInvoices,recurringInvoices:i.recurringInvoices,setRecurringInvoices:i.setRecurringInvoices,clients:i.clients,companyInfo:i.companyInfo,items:i.items,setItems:i.setItems}):y.jsx(f_,{offers:i.offers,setOffers:i.setOffers,clients:i.clients,companyInfo:i.companyInfo,items:i.items,setItems:i.setItems,onConvertToInvoice:a=>{i.onConvertToInvoice(a),o("invoices")}})})]})},m_={name:"Ihre Firma GmbH",address:"Musterstrae 1",zip:"12345",city:"Musterstadt",phone:"0123 456789",email:"kontakt@ihrefirma.de",taxNumber:"123/456/7890",bankName:"Musterbank",iban:"DE12345678901234567890",bic:"MUSTERDEFF",accountHolder:"Ihre Firma GmbH",logo:"",primaryColor:"#3b82f6",brandingTextColor:"#000000",defaultTaxRate:19,currency:"",invoiceNumberPrefix:"RE-",offerNumberPrefix:"AN-",onlinePaymentLink:"",emailSignature:`Mit freundlichen Gren,
Ihre Firma GmbH`,paymentNotice:""},p_=[{id:"1",name:"Max Mustermann",address:"Kundenweg 2",zip:"54321",city:"Kundenstadt",phone:"0987 654321",email:"max@mustermann.de"}],h_=[{id:"item-1",description:"Umzugshelfer (pro Stunde)",quantity:1,unitPrice:50},{id:"item-2",description:"Endreinigung Pauschale",quantity:1,unitPrice:250},{id:"item-3",description:"Verpackungsmaterial",quantity:1,unitPrice:75}],g_=[],y_=[],v_=[],T_=[],hu=["Material","Treibstoff","Marketing","Versicherung","Brobedarf","Sonstiges"],S_=({expense:i,onSave:n,onCancel:o})=>{const[a,u]=ie.useState({date:(i==null?void 0:i.date)||new Date().toISOString().split("T")[0],description:(i==null?void 0:i.description)||"",amount:(i==null?void 0:i.amount)||0,category:(i==null?void 0:i.category)||hu[0]}),d=h=>{const{name:v,value:g,type:T}=h.target;u(x=>({...x,[v]:T==="number"?parseFloat(g):g}))},p=h=>{if(h.preventDefault(),a.amount<=0){alert("Betrag muss grer als 0 sein.");return}n({...a,id:(i==null?void 0:i.id)||Date.now().toString(),amount:a.amount})};return y.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-lg shadow-md mb-6 animate-fade-in",children:[y.jsx("h2",{className:"text-xl font-semibold text-black mb-4",children:i?"Ausgabe bearbeiten":"Neue Ausgabe"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-black",children:"Beschreibung"}),y.jsx("input",{id:"description",name:"description",value:a.description,onChange:d,className:"mt-1 p-2 bg-gray-200 rounded w-full text-black",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-black",children:"Betrag"}),y.jsx("input",{id:"amount",name:"amount",type:"number",step:"0.01",value:a.amount,onChange:d,className:"mt-1 p-2 bg-gray-200 rounded w-full text-black",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-black",children:"Datum"}),y.jsx("input",{id:"date",name:"date",type:"date",value:a.date,onChange:d,className:"mt-1 p-2 bg-gray-200 rounded w-full text-black",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-black",children:"Kategorie"}),y.jsx("select",{id:"category",name:"category",value:a.category,onChange:d,className:"mt-1 p-2 bg-gray-200 rounded w-full text-black",required:!0,children:hu.map(h=>y.jsx("option",{value:h,children:h},h))})]})]}),y.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[y.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Abbrechen"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-violet-600 text-white rounded hover:bg-violet-700",children:"Speichern"})]})]})},x_=({expenses:i,setExpenses:n})=>{const[o,a]=ie.useState(!1),[u,d]=ie.useState(null),[p,h]=ie.useState(""),v=_=>{i.some(M=>M.id===_.id)?n(i.map(M=>M.id===_.id?_:M)):n([...i,_]),a(!1),d(null)},g=()=>{d(null),a(!0)},T=_=>{d(_),a(!0)},x=_=>{n(i.filter(M=>M.id!==_))},E=ie.useMemo(()=>i.filter(_=>_.description.toLowerCase().includes(p.toLowerCase())||_.category.toLowerCase().includes(p.toLowerCase())).sort((_,M)=>new Date(M.date).getTime()-new Date(_.date).getTime()),[i,p]);return y.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h1",{className:"text-3xl font-bold text-black",children:"Ausgaben"}),!o&&y.jsxs("button",{onClick:g,className:"px-4 py-2 bg-black text-white rounded-md shadow hover:bg-gray-800 transition-colors flex items-center gap-2",children:[y.jsx(xe,{path:Se.plus,className:"w-5 h-5"}),y.jsx("span",{children:"Neu"})]})]}),!o&&y.jsx("div",{className:"mb-6",children:y.jsx("input",{type:"text",placeholder:"Ausgaben suchen...",value:p,onChange:_=>h(_.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-md shadow-sm text-black placeholder-gray-500 focus:ring-violet-500 focus:border-violet-500"})}),o&&y.jsx(S_,{expense:u,onSave:v,onCancel:()=>{a(!1),d(null)}}),y.jsx("div",{className:"space-y-4",children:E.map(_=>y.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-black",children:_.description}),y.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(_.date).toLocaleDateString("de-DE")," | ",_.category]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("p",{className:"font-bold text-lg text-red-600",children:["-",_.amount.toFixed(2)," "]}),y.jsx("button",{onClick:()=>T(_),className:"p-2 text-black hover:text-violet-600",title:"Bearbeiten",children:y.jsx(xe,{path:Se.pencil,className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>x(_.id),className:"p-2 text-black hover:text-red-600",title:"Lschen",children:y.jsx(xe,{path:Se.trash,className:"w-5 h-5"})})]})]},_.id))})]})},E_=({data:i,color:n,currency:o})=>{const a=Math.max(...i.map(h=>h.value)),u=Math.min(...i.map(h=>h.value)),d=u<0,p=h=>d?h>=0?h/(a>0?a:1)*50:Math.abs(h)/(u<0?Math.abs(u):1)*50:h/(a>0?a:1)*100;return y.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:y.jsxs("div",{className:`relative flex justify-between items-end h-72 border-l border-gray-200 pl-4 pb-4 ${d?"border-t":"border-b"}`,children:[d&&y.jsx("div",{className:"absolute top-1/2 left-2 right-0 border-t border-dashed border-red-400 w-full"}),i.map((h,v)=>y.jsxs("div",{className:`flex-1 flex flex-col items-center h-full px-2 group ${d?"justify-center":"justify-end"}`,children:[y.jsxs("div",{className:"text-sm font-bold text-black opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[h.value.toFixed(2)," ",o]}),y.jsx("div",{className:`w-full rounded-md transition-all duration-300 ${h.value>=0?"self-end":"self-start"}`,style:{height:`${p(h.value)}%`,backgroundColor:h.value>=0?n:"#ef4444"}}),y.jsx("span",{className:"text-xs text-gray-500 mt-2",children:h.label})]},v))]})})},fh=({data:i,title:n,currency:o})=>y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h3",{className:"text-lg font-bold text-black mb-4",children:n}),y.jsxs("ul",{className:"space-y-3",children:[i.map((a,u)=>y.jsxs("li",{className:"flex justify-between items-center text-black",children:[y.jsxs("span",{className:"truncate pr-4",children:[u+1,". ",a.label]}),y.jsxs("span",{className:"font-semibold whitespace-nowrap",children:[a.value.toFixed(2)," ",o]})]},u)),i.length===0&&y.jsx("p",{className:"text-gray-500",children:"Nicht gengend Daten vorhanden."})]})]}),C_=({invoices:i,expenses:n,clients:o,companyInfo:a})=>{const u=ie.useMemo(()=>i.filter(x=>x.status===et.Paid),[i]),d=ie.useMemo(()=>["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],[]),p=x=>`${d[x.getMonth()]} ${x.getFullYear()}`,h=ie.useMemo(()=>{const x=[],E=new Date;for(let _=5;_>=0;_--){const M=new Date(E.getFullYear(),E.getMonth()-_,1);x.push(p(M))}return x},[d]),v=ie.useMemo(()=>{const x={};return h.forEach(E=>x[E]={revenue:0,expense:0}),u.forEach(E=>{const _=new Date(E.date),M=p(_);if(x[M]){const D=E.items.reduce((F,K)=>F+K.quantity*K.unitPrice,0)*(1+E.taxRate/100);x[M].revenue+=D}}),n.forEach(E=>{const _=new Date(E.date),M=p(_);x[M]&&(x[M].expense+=E.amount)}),h.map(E=>({label:E,revenue:x[E].revenue,expense:x[E].expense,profit:x[E].revenue-x[E].expense}))},[u,n,h]),g=ie.useMemo(()=>{const x={};return u.forEach(E=>{const _=E.items.reduce((M,D)=>M+D.quantity*D.unitPrice,0)*(1+E.taxRate/100);x[E.clientId]=(x[E.clientId]||0)+_}),Object.entries(x).sort((E,_)=>_[1]-E[1]).slice(0,5).map(([E,_])=>{const M=o.find(D=>D.id===E);return{label:(M==null?void 0:M.name)||"Unbekannter Kunde",value:_}})},[u,o]),T=ie.useMemo(()=>{const x={};return hu.forEach(E=>x[E]=0),n.forEach(E=>{x[E.category]=(x[E.category]||0)+E.amount}),Object.entries(x).filter(([,E])=>E>0).sort((E,_)=>_[1]-E[1]).map(([E,_])=>({label:E,value:_}))},[n]);return y.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-bold text-black mb-8",children:"Berichte & Analysen"}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-black mb-4",children:"Gewinn/Verlust (Letzte 6 Monate)"}),y.jsx(E_,{data:v.map(x=>({label:x.label,value:x.profit})),color:a.primaryColor||"#3b82f6",currency:a.currency})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsx(fh,{data:g,title:"Top 5 Kunden (nach Umsatz)",currency:a.currency}),y.jsx(fh,{data:T,title:"Ausgaben nach Kategorie",currency:a.currency})]})]})]})},__=i=>{const[n,o]=ie.useState("expenses");return y.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[y.jsx("div",{className:"bg-white border-b border-gray-200 px-4 pt-4 pb-2 sticky top-0 z-10",children:y.jsxs("nav",{className:"flex gap-2","aria-label":"Tabs",children:[y.jsxs("button",{onClick:()=>o("expenses"),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${n==="expenses"?"bg-rose-100 text-rose-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx("span",{className:"material-symbols-rounded text-xl",style:{fontVariationSettings:'"FILL" 1'},children:"shopping_cart"}),"Ausgaben"]}),y.jsxs("button",{onClick:()=>o("reports"),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${n==="reports"?"bg-emerald-100 text-emerald-700":"text-gray-600 hover:bg-gray-100"}`,children:[y.jsx("span",{className:"material-symbols-rounded text-xl",style:{fontVariationSettings:'"FILL" 1'},children:"bar_chart"}),"Berichte & Statistik"]})]})}),y.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:n==="expenses"?y.jsx(x_,{expenses:i.expenses,setExpenses:i.setExpenses}):y.jsx(C_,{invoices:i.invoices,expenses:i.expenses,clients:i.clients,companyInfo:i.companyInfo})})]})},yi=({name:i,className:n="",filled:o=!0})=>y.jsx("span",{className:`material-symbols-rounded ${o?"material-symbols-filled":""} ${n}`,style:{fontVariationSettings:o?'"FILL" 1':'"FILL" 0'},children:i}),iu=({title:i,value:n,icon:o,color:a})=>y.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[y.jsx("div",{className:"flex items-center justify-between mb-3",children:y.jsx("div",{className:`w-12 h-12 rounded-xl ${a} flex items-center justify-center`,children:y.jsx(yi,{name:o,className:"text-white text-2xl"})})}),y.jsx("p",{className:"text-sm text-gray-500 mb-1",children:i}),y.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:n})]}),Na=({label:i,icon:n,color:o,onClick:a})=>y.jsxs("button",{onClick:a,className:"flex flex-col items-center gap-2 p-4 rounded-2xl bg-white shadow-sm hover:shadow-md transition-all active:scale-95",children:[y.jsx("div",{className:`w-14 h-14 rounded-full ${o} flex items-center justify-center`,children:y.jsx(yi,{name:n,className:"text-white text-2xl"})}),y.jsx("span",{className:"text-xs font-medium text-gray-700 text-center",children:i})]}),dh=({title:i,subtitle:n,icon:o,iconColor:a,badge:u,badgeColor:d})=>y.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl hover:bg-gray-50 transition-colors",children:[y.jsx("div",{className:`w-10 h-10 rounded-full ${a} flex items-center justify-center flex-shrink-0`,children:y.jsx(yi,{name:o,className:"text-white text-xl"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:i}),y.jsx("p",{className:"text-xs text-gray-500 truncate",children:n})]}),u&&y.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full ${d}`,children:u})]}),mh=({appointments:i,clients:n,invoices:o,offers:a,companyInfo:u,setActiveSection:d})=>{const p=new Date,h=new Date(p.getFullYear(),p.getMonth(),1),v=o.filter(M=>M.status===et.Paid&&new Date(M.date)>=h).reduce((M,D)=>{const F=D.items.reduce((K,X)=>K+X.quantity*X.unitPrice,0)*(1+D.taxRate/100);return M+F},0),g=o.filter(M=>M.status===et.Sent||M.status===et.Overdue).reduce((M,D)=>{const F=D.items.reduce((K,X)=>K+X.quantity*X.unitPrice,0)*(1+D.taxRate/100);return M+F},0),T=a.filter(M=>M.status===Ot.Draft||M.status===Ot.Sent).length,x=i.filter(M=>new Date(M.date)>=p).sort((M,D)=>new Date(M.date).getTime()-new Date(D.date).getTime()).slice(0,4),E=[...o].sort((M,D)=>new Date(D.date).getTime()-new Date(M.date).getTime()).slice(0,5),_=M=>{switch(M){case et.Draft:return{text:"Entwurf",color:"bg-gray-100 text-gray-700"};case et.Sent:return{text:"Gesendet",color:"bg-blue-100 text-blue-700"};case et.Paid:return{text:"Bezahlt",color:"bg-green-100 text-green-700"};case et.Overdue:return{text:"berfllig",color:"bg-red-100 text-red-700"};default:return{text:M,color:"bg-gray-100 text-gray-700"}}};return y.jsxs("div",{className:"min-h-screen bg-gray-50 pb-24",children:[y.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 text-white px-4 pt-6 pb-8 rounded-b-3xl shadow-lg",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-semibold mb-1",children:"Operations Center"}),y.jsx("p",{className:"text-blue-100 text-sm",children:"Hallo Rabih!"})]}),y.jsx("button",{className:"w-10 h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center hover:bg-white/30 transition-colors",children:y.jsx(yi,{name:"notifications",className:"text-white text-xl"})})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsx(iu,{title:"Umsatz",value:`${v.toFixed(0)}`,icon:"payments",color:"bg-green-500"}),y.jsx(iu,{title:"Ausstehend",value:`${g.toFixed(0)}`,icon:"schedule",color:"bg-amber-500"}),y.jsx(iu,{title:"Angebote",value:T,icon:"description",color:"bg-purple-500"})]})]})}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 -mt-4",children:[y.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm mb-4",children:[y.jsxs("h2",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[y.jsx(yi,{name:"bolt",className:"text-blue-600 text-xl"}),"Schnellaktionen"]}),y.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[y.jsx(Na,{label:"Rechnung",icon:"receipt_long",color:"bg-blue-500",onClick:()=>d(Ke.Documents)}),y.jsx(Na,{label:"Angebot",icon:"description",color:"bg-purple-500",onClick:()=>d(Ke.Documents)}),y.jsx(Na,{label:"Kunde",icon:"person_add",color:"bg-green-500",onClick:()=>d(Ke.Clients)}),y.jsx(Na,{label:"Ausgabe",icon:"shopping_cart",color:"bg-orange-500",onClick:()=>d(Ke.Finances)})]})]}),x.length>0&&y.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm mb-4",children:[y.jsxs("h2",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[y.jsx(yi,{name:"event",className:"text-blue-600 text-xl"}),"Anstehende Termine"]}),y.jsx("div",{className:"space-y-1",children:x.map(M=>{const D=n.find(F=>F.id===M.clientId);return y.jsx(dh,{title:M.title,subtitle:`${(D==null?void 0:D.name)||"Unbekannt"}  ${new Date(M.date).toLocaleDateString("de-DE")} ${M.startTime}`,icon:"event",iconColor:"bg-blue-500"},M.id)})})]}),y.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-sm",children:[y.jsxs("h2",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[y.jsx(yi,{name:"receipt_long",className:"text-blue-600 text-xl"}),"Letzte Aktivitten"]}),y.jsx("div",{className:"space-y-1",children:E.length>0?E.map(M=>{const D=n.find(K=>K.id===M.clientId),F=_(M.status);return y.jsx(dh,{title:`Rechnung #${M.invoiceNumber}`,subtitle:(D==null?void 0:D.name)||"Unbekannt",icon:"receipt_long",iconColor:"bg-indigo-500",badge:F.text,badgeColor:F.color},M.id)}):y.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"Keine Aktivitten"})})]})]})]})},A_=({name:i,className:n="",filled:o=!0})=>y.jsx("span",{className:`material-symbols-rounded ${o?"material-symbols-filled":""} ${n}`,style:{fontVariationSettings:o?'"FILL" 1':'"FILL" 0'},children:i}),ao=({label:i,icon:n,isActive:o,onClick:a})=>y.jsxs("button",{onClick:a,className:`flex flex-col items-center justify-center gap-1 py-2 px-3 rounded-xl transition-all min-w-[60px] ${o?"text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:[y.jsx("div",{className:`p-1.5 rounded-xl transition-all ${o?"bg-blue-100":""}`,children:y.jsx(A_,{name:n,className:"text-2xl",filled:o})}),y.jsx("span",{className:`text-[10px] font-medium transition-all ${o?"opacity-100":"opacity-70"}`,children:i})]}),N_=({activeSection:i,setActiveSection:n})=>y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-inset-bottom",children:y.jsx("div",{className:"max-w-7xl mx-auto px-2 py-1.5",children:y.jsxs("div",{className:"flex items-center justify-around",children:[y.jsx(ao,{label:"Home",icon:"home",isActive:i===Ke.Home,onClick:()=>n(Ke.Home)}),y.jsx(ao,{label:"Dokumente",icon:"description",isActive:i===Ke.Documents,onClick:()=>n(Ke.Documents)}),y.jsx(ao,{label:"Finanzen",icon:"account_balance_wallet",isActive:i===Ke.Finances,onClick:()=>n(Ke.Finances)}),y.jsx(ao,{label:"Kunden",icon:"people",isActive:i===Ke.Clients,onClick:()=>n(Ke.Clients)}),y.jsx(ao,{label:"Firma",icon:"business",isActive:i===Ke.Company,onClick:()=>n(Ke.Company)})]})})}),b_=({name:i,className:n=""})=>y.jsx("span",{className:`material-symbols-rounded ${n}`,style:{fontVariationSettings:'"FILL" 1'},children:i}),M_=()=>y.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3 md-surface",children:y.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center shadow-md",children:y.jsx(b_,{name:"receipt_long",className:"text-white text-2xl"})}),y.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Faktur-Fix"})]})}),R_=()=>{const[i,n]=ie.useState(Ke.Home),[o,a]=Xn("companyInfo",m_),[u,d]=Xn("clients",p_),[p,h]=Xn("items",h_),[v,g]=Xn("invoices",g_),[T,x]=Xn("offers",y_),[E]=Xn("appointments",v_),[_,M]=Xn("recurringInvoices",[]),[D,F]=Xn("expenses",T_);ie.useEffect(()=>{const O=new Date;O.setHours(0,0,0,0);const $=[];let ee=[..._];_.forEach(B=>{if(B.isActive&&new Date(B.nextDueDate)<=O){const Y=v.length>0?[...v,...$].map(ae=>ae.invoiceNumber.replace(o.invoiceNumberPrefix,"")).map(ae=>parseInt(ae,10)).filter(ae=>!isNaN(ae)).reduce((ae,Ge)=>Math.max(ae,Ge),0).toString():"0",ce=parseInt(Y,10),W={id:Date.now().toString()+Math.random(),invoiceNumber:`${o.invoiceNumberPrefix}${ce+1}`,clientId:B.clientId,date:new Date().toISOString().split("T")[0],dueDate:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],items:B.items.map(ae=>({...ae,id:`inv-item-${Date.now()}-${Math.random()}`})),taxRate:B.taxRate,status:et.Draft};$.push(W);const ue=new Date(B.nextDueDate);let pe;switch(B.frequency){case"monthly":pe=new Date(ue.setMonth(ue.getMonth()+1));break;case"quarterly":pe=new Date(ue.setMonth(ue.getMonth()+3));break;case"yearly":pe=new Date(ue.setFullYear(ue.getFullYear()+1));break}ee=ee.map(ae=>ae.id===B.id?{...ae,nextDueDate:pe.toISOString().split("T")[0]}:ae)}}),$.length>0&&(g(B=>[...B,...$]),M(ee))},[]);const K=O=>{x(T.map(B=>B.id===O.id?{...B,status:Ot.Accepted}:B));const $=v.length>0?Math.max(0,...v.map(B=>parseInt(B.invoiceNumber.replace(o.invoiceNumberPrefix,""),10)).filter(B=>!isNaN(B))):0,ee={id:Date.now().toString(),invoiceNumber:`${o.invoiceNumberPrefix}${($+1).toString()}`,clientId:O.clientId,date:new Date().toISOString().split("T")[0],dueDate:new Date(new Date().setDate(new Date().getDate()+14)).toISOString().split("T")[0],items:O.items.map(B=>({...B,id:`inv-item-${Date.now()}-${Math.random()}`})),taxRate:O.taxRate,status:et.Draft,offerId:O.id};g(B=>[...B,ee]),n(Ke.Documents)},X=()=>{switch(i){case Ke.Home:return y.jsx(mh,{appointments:E,clients:u,invoices:v,offers:T,companyInfo:o,setActiveSection:n});case Ke.Documents:return y.jsx(d_,{invoices:v,setInvoices:g,offers:T,setOffers:x,recurringInvoices:_,setRecurringInvoices:M,clients:u,companyInfo:o,items:p,setItems:h,onConvertToInvoice:K});case Ke.Finances:return y.jsx(__,{expenses:D,setExpenses:F,invoices:v,clients:u,companyInfo:o});case Ke.Clients:return y.jsx(Rv,{clients:u,setClients:d});case Ke.Company:return y.jsx(bv,{companyInfo:o,setCompanyInfo:a});default:return y.jsx(mh,{appointments:E,clients:u,invoices:v,offers:T,companyInfo:o})}};return y.jsxs("div",{className:"flex flex-col h-screen font-sans",children:[y.jsx(M_,{}),y.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:X()}),y.jsx(N_,{activeSection:i,setActiveSection:n})]})},Jh=document.getElementById("root");if(!Jh)throw new Error("Could not find root element to mount to");const D_=Nv.createRoot(Jh);D_.render(y.jsx(vv.StrictMode,{children:y.jsx(R_,{})}));
